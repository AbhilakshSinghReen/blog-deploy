<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <link
      rel="preload"
      as="image"
      href="/media/images/main-contact-email-light.jpg"
    />
    <link
      rel="preload"
      as="image"
      href="/media/images/react-digit-recog-app-final.jpg"
    />
    <link
      rel="preload"
      as="image"
      href="/media/images/torch-mnist-onnx-model-in-netron-start.jpg"
    />
    <link
      rel="preload"
      as="image"
      href="/media/images/ml-inference-on-backend-vs-frontend-thumbnail.jpg"
    />
    <link
      rel="stylesheet"
      href="/_next/static/css/1d4d01086947be98.css"
      data-precedence="next"
    />
    <link
      rel="preload"
      as="script"
      fetchpriority="low"
      href="/_next/static/chunks/webpack-83486951edee0db5.js"
    />
    <script
      src="/_next/static/chunks/fd9d1056-90960e0a7e77703c.js"
      async=""
    ></script>
    <script src="/_next/static/chunks/23-365ff0b9e0ad811d.js" async=""></script>
    <script
      src="/_next/static/chunks/main-app-37d3bbd360c1bff1.js"
      async=""
    ></script>
    <script src="/_next/static/chunks/98-98337b3bb708bd24.js" async=""></script>
    <script
      src="/_next/static/chunks/748-1f14ee6eb3d7029a.js"
      async=""
    ></script>
    <script
      src="/_next/static/chunks/271-37a22bace913f735.js"
      async=""
    ></script>
    <script
      src="/_next/static/chunks/app/layout-08611f287dda1230.js"
      async=""
    ></script>
    <script
      src="/_next/static/chunks/134-4d46f2c5e7204b76.js"
      async=""
    ></script>
    <script
      src="/_next/static/chunks/830-8a0df588e7c84864.js"
      async=""
    ></script>
    <script
      src="/_next/static/chunks/411-3d27264901e39398.js"
      async=""
    ></script>
    <script
      src="/_next/static/chunks/app/%5BcategorySlug%5D/%5BpostOrSeriesSlug%5D/page-1b889bd6bb1438d9.js"
      async=""
    ></script>
    <link rel="icon" href="/favicon.ico" type="image/x-icon" sizes="16x16" />
    <script
      src="/_next/static/chunks/polyfills-78c92fac7aa8fdd8.js"
      nomodule=""
    ></script>
  </head>
  <body class="__className_d65c78">
    <header style="margin-bottom: 25px">
      <style data-emotion="css 13x2oq7">
        .css-13x2oq7 {
          display: -webkit-box;
          display: -webkit-flex;
          display: -ms-flexbox;
          display: flex;
          -webkit-flex-direction: column;
          -ms-flex-direction: column;
          flex-direction: column;
          width: 100%;
          box-sizing: border-box;
          -webkit-flex-shrink: 0;
          -ms-flex-negative: 0;
          flex-shrink: 0;
          position: fixed;
          z-index: 1100;
          top: 0;
          left: auto;
          right: 0;
          background-color: #1976d2;
          color: #fff;
        }
        @media print {
          .css-13x2oq7 {
            position: absolute;
          }
        }</style
      ><style data-emotion="css 5poeop">
        .css-5poeop {
          background-color: #fff;
          color: rgba(0, 0, 0, 0.87);
          -webkit-transition: box-shadow 300ms cubic-bezier(0.4, 0, 0.2, 1) 0ms;
          transition: box-shadow 300ms cubic-bezier(0.4, 0, 0.2, 1) 0ms;
          box-shadow:
            0px 2px 4px -1px rgba(0, 0, 0, 0.2),
            0px 4px 5px 0px rgba(0, 0, 0, 0.14),
            0px 1px 10px 0px rgba(0, 0, 0, 0.12);
          display: -webkit-box;
          display: -webkit-flex;
          display: -ms-flexbox;
          display: flex;
          -webkit-flex-direction: column;
          -ms-flex-direction: column;
          flex-direction: column;
          width: 100%;
          box-sizing: border-box;
          -webkit-flex-shrink: 0;
          -ms-flex-negative: 0;
          flex-shrink: 0;
          position: fixed;
          z-index: 1100;
          top: 0;
          left: auto;
          right: 0;
          background-color: #1976d2;
          color: #fff;
        }
        @media print {
          .css-5poeop {
            position: absolute;
          }
        }
      </style>
      <header
        class="MuiPaper-root MuiPaper-elevation MuiPaper-elevation4 MuiAppBar-root MuiAppBar-colorPrimary MuiAppBar-positionFixed mui-fixed css-5poeop"
      >
        <style data-emotion="css 1qsxih2">
          .css-1qsxih2 {
            width: 100%;
            margin-left: auto;
            box-sizing: border-box;
            margin-right: auto;
            display: block;
            padding-left: 16px;
            padding-right: 16px;
          }
          @media (min-width: 600px) {
            .css-1qsxih2 {
              padding-left: 24px;
              padding-right: 24px;
            }
          }
          @media (min-width: 1200px) {
            .css-1qsxih2 {
              max-width: 1200px;
            }
          }
        </style>
        <div class="MuiContainer-root MuiContainer-maxWidthLg css-1qsxih2">
          <style data-emotion="css r4h1bh">
            .css-r4h1bh {
              position: relative;
              display: -webkit-box;
              display: -webkit-flex;
              display: -ms-flexbox;
              display: flex;
              -webkit-align-items: center;
              -webkit-box-align: center;
              -ms-flex-align: center;
              align-items: center;
              padding-left: 16px;
              padding-right: 16px;
              min-height: 56px;
              display: -webkit-box;
              display: -webkit-flex;
              display: -ms-flexbox;
              display: flex;
              -webkit-flex-direction: row;
              -ms-flex-direction: row;
              flex-direction: row;
              -webkit-box-pack: justify;
              -webkit-justify-content: space-between;
              justify-content: space-between;
              -webkit-align-items: center;
              -webkit-box-align: center;
              -ms-flex-align: center;
              align-items: center;
              height: 100%;
              padding: 0px;
            }
            @media (min-width: 600px) {
              .css-r4h1bh {
                padding-left: 24px;
                padding-right: 24px;
              }
            }
            @media (min-width: 0px) {
              @media (orientation: landscape) {
                .css-r4h1bh {
                  min-height: 48px;
                }
              }
            }
            @media (min-width: 600px) {
              .css-r4h1bh {
                min-height: 64px;
              }
            }
          </style>
          <div
            class="MuiToolbar-root MuiToolbar-gutters MuiToolbar-regular css-r4h1bh"
          >
            <style data-emotion="css 1pna09g">
              .css-1pna09g {
                margin: 0;
                font-family: "Roboto", "Helvetica", "Arial", sans-serif;
                font-weight: 400;
                font-size: 2.125rem;
                line-height: 1.235;
                letter-spacing: 0.00735em;
                font-weight: 700;
                text-align: center;
                background: linear-gradient(45deg, #ffd700 30%, #ffa500 90%);
                -webkit-background-clip: text;
                -webkit-text-fill-color: transparent;
              }
              .css-1pna09g:hover {
                cursor: pointer;
              }
            </style>
            <h4 class="MuiTypography-root MuiTypography-h4 css-1pna09g">
              A.N.T
            </h4>
            <div class="MuiBox-root css-0">
              <style data-emotion="css j4ylzh">
                .css-j4ylzh {
                  text-align: center;
                  -webkit-flex: 0 0 auto;
                  -ms-flex: 0 0 auto;
                  flex: 0 0 auto;
                  font-size: 1.5rem;
                  padding: 8px;
                  border-radius: 50%;
                  overflow: visible;
                  color: rgba(0, 0, 0, 0.54);
                  -webkit-transition: background-color 150ms
                    cubic-bezier(0.4, 0, 0.2, 1) 0ms;
                  transition: background-color 150ms
                    cubic-bezier(0.4, 0, 0.2, 1) 0ms;
                  color: #ed6c02;
                }
                .css-j4ylzh:hover {
                  background-color: rgba(0, 0, 0, 0.04);
                }
                @media (hover: none) {
                  .css-j4ylzh:hover {
                    background-color: transparent;
                  }
                }
                .css-j4ylzh:hover {
                  background-color: rgba(237, 108, 2, 0.04);
                }
                @media (hover: none) {
                  .css-j4ylzh:hover {
                    background-color: transparent;
                  }
                }
                .css-j4ylzh.Mui-disabled {
                  background-color: transparent;
                  color: rgba(0, 0, 0, 0.26);
                }</style
              ><style data-emotion="css r4nl99">
                .css-r4nl99 {
                  display: -webkit-inline-box;
                  display: -webkit-inline-flex;
                  display: -ms-inline-flexbox;
                  display: inline-flex;
                  -webkit-align-items: center;
                  -webkit-box-align: center;
                  -ms-flex-align: center;
                  align-items: center;
                  -webkit-box-pack: center;
                  -ms-flex-pack: center;
                  -webkit-justify-content: center;
                  justify-content: center;
                  position: relative;
                  box-sizing: border-box;
                  -webkit-tap-highlight-color: transparent;
                  background-color: transparent;
                  outline: 0;
                  border: 0;
                  margin: 0;
                  border-radius: 0;
                  padding: 0;
                  cursor: pointer;
                  -webkit-user-select: none;
                  -moz-user-select: none;
                  -ms-user-select: none;
                  user-select: none;
                  vertical-align: middle;
                  -moz-appearance: none;
                  -webkit-appearance: none;
                  -webkit-text-decoration: none;
                  text-decoration: none;
                  color: inherit;
                  text-align: center;
                  -webkit-flex: 0 0 auto;
                  -ms-flex: 0 0 auto;
                  flex: 0 0 auto;
                  font-size: 1.5rem;
                  padding: 8px;
                  border-radius: 50%;
                  overflow: visible;
                  color: rgba(0, 0, 0, 0.54);
                  -webkit-transition: background-color 150ms
                    cubic-bezier(0.4, 0, 0.2, 1) 0ms;
                  transition: background-color 150ms
                    cubic-bezier(0.4, 0, 0.2, 1) 0ms;
                  color: #ed6c02;
                }
                .css-r4nl99::-moz-focus-inner {
                  border-style: none;
                }
                .css-r4nl99.Mui-disabled {
                  pointer-events: none;
                  cursor: default;
                }
                @media print {
                  .css-r4nl99 {
                    -webkit-print-color-adjust: exact;
                    color-adjust: exact;
                  }
                }
                .css-r4nl99:hover {
                  background-color: rgba(0, 0, 0, 0.04);
                }
                @media (hover: none) {
                  .css-r4nl99:hover {
                    background-color: transparent;
                  }
                }
                .css-r4nl99:hover {
                  background-color: rgba(237, 108, 2, 0.04);
                }
                @media (hover: none) {
                  .css-r4nl99:hover {
                    background-color: transparent;
                  }
                }
                .css-r4nl99.Mui-disabled {
                  background-color: transparent;
                  color: rgba(0, 0, 0, 0.26);
                }</style
              ><button
                class="MuiButtonBase-root MuiIconButton-root MuiIconButton-colorWarning MuiIconButton-sizeMedium css-r4nl99"
                tabindex="0"
                type="button"
              >
                <style data-emotion="css 6flbmm">
                  .css-6flbmm {
                    -webkit-user-select: none;
                    -moz-user-select: none;
                    -ms-user-select: none;
                    user-select: none;
                    width: 1em;
                    height: 1em;
                    display: inline-block;
                    fill: currentColor;
                    -webkit-flex-shrink: 0;
                    -ms-flex-negative: 0;
                    flex-shrink: 0;
                    -webkit-transition: fill 200ms cubic-bezier(0.4, 0, 0.2, 1)
                      0ms;
                    transition: fill 200ms cubic-bezier(0.4, 0, 0.2, 1) 0ms;
                    font-size: 2.1875rem;
                  }</style
                ><svg
                  class="MuiSvgIcon-root MuiSvgIcon-fontSizeLarge css-6flbmm"
                  focusable="false"
                  aria-hidden="true"
                  viewBox="0 0 24 24"
                  data-testid="MenuIcon"
                >
                  <path d="M3 18h18v-2H3zm0-5h18v-2H3zm0-7v2h18V6z"></path>
                </svg>
              </button>
            </div>
          </div>
        </div>
      </header>
      <div style="padding-top: 55px"></div>
    </header>
    <style data-emotion="css 1qsxih2">
      .css-1qsxih2 {
        width: 100%;
        margin-left: auto;
        box-sizing: border-box;
        margin-right: auto;
        display: block;
        padding-left: 16px;
        padding-right: 16px;
      }
      @media (min-width: 600px) {
        .css-1qsxih2 {
          padding-left: 24px;
          padding-right: 24px;
        }
      }
      @media (min-width: 1200px) {
        .css-1qsxih2 {
          max-width: 1200px;
        }
      }
    </style>
    <div class="MuiContainer-root MuiContainer-maxWidthLg css-1qsxih2">
      <style data-emotion="css 1g0xyuw">
        .css-1g0xyuw {
          margin-bottom: 40px;
          padding-bottom: 16px;
          width: 100%;
          display: -webkit-box;
          display: -webkit-flex;
          display: -ms-flexbox;
          display: flex;
          -webkit-flex-direction: column;
          -ms-flex-direction: column;
          flex-direction: column;
          -webkit-box-pack: start;
          -ms-flex-pack: start;
          -webkit-justify-content: flex-start;
          justify-content: flex-start;
          -webkit-align-items: flex-start;
          -webkit-box-align: flex-start;
          -ms-flex-align: flex-start;
          align-items: flex-start;
        }
      </style>
      <div class="MuiBox-root css-1g0xyuw">
        <style data-emotion="css 1vl439b">
          .css-1vl439b {
            width: 100%;
            -webkit-flex-direction: row;
            -ms-flex-direction: row;
            flex-direction: row;
            -webkit-box-pack: start;
            -ms-flex-pack: start;
            -webkit-justify-content: flex-start;
            justify-content: flex-start;
            -webkit-align-items: center;
            -webkit-box-align: center;
            -ms-flex-align: center;
            align-items: center;
            margin-bottom: 24px;
          }
          @media (min-width: 0px) {
            .css-1vl439b {
              display: none;
            }
          }
          @media (min-width: 900px) {
            .css-1vl439b {
              display: -webkit-box;
              display: -webkit-flex;
              display: -ms-flexbox;
              display: flex;
            }
          }
        </style>
        <div class="MuiBox-root css-1vl439b">
          <style data-emotion="css 1yae3jf">
            .css-1yae3jf {
              display: -webkit-box;
              display: -webkit-flex;
              display: -ms-flexbox;
              display: flex;
              -webkit-flex-direction: row;
              -ms-flex-direction: row;
              flex-direction: row;
              -webkit-box-pack: start;
              -ms-flex-pack: start;
              -webkit-justify-content: flex-start;
              justify-content: flex-start;
              -webkit-align-items: center;
              -webkit-box-align: center;
              -ms-flex-align: center;
              align-items: center;
            }
          </style>
          <div class="MuiBox-root css-1yae3jf">
            <a href="/"
              ><style data-emotion="css pbbsfi">
                .css-pbbsfi {
                  font-family: "Roboto", "Helvetica", "Arial", sans-serif;
                  font-weight: 500;
                  font-size: 0.8125rem;
                  line-height: 1.75;
                  letter-spacing: 0.02857em;
                  text-transform: uppercase;
                  min-width: 64px;
                  padding: 3px 9px;
                  border-radius: 4px;
                  -webkit-transition:
                    background-color 250ms cubic-bezier(0.4, 0, 0.2, 1) 0ms,
                    box-shadow 250ms cubic-bezier(0.4, 0, 0.2, 1) 0ms,
                    border-color 250ms cubic-bezier(0.4, 0, 0.2, 1) 0ms,
                    color 250ms cubic-bezier(0.4, 0, 0.2, 1) 0ms;
                  transition:
                    background-color 250ms cubic-bezier(0.4, 0, 0.2, 1) 0ms,
                    box-shadow 250ms cubic-bezier(0.4, 0, 0.2, 1) 0ms,
                    border-color 250ms cubic-bezier(0.4, 0, 0.2, 1) 0ms,
                    color 250ms cubic-bezier(0.4, 0, 0.2, 1) 0ms;
                  border: 1px solid rgba(237, 108, 2, 0.5);
                  color: #ed6c02;
                }
                .css-pbbsfi:hover {
                  -webkit-text-decoration: none;
                  text-decoration: none;
                  background-color: rgba(237, 108, 2, 0.04);
                  border: 1px solid #ed6c02;
                }
                @media (hover: none) {
                  .css-pbbsfi:hover {
                    background-color: transparent;
                  }
                }
                .css-pbbsfi.Mui-disabled {
                  color: rgba(0, 0, 0, 0.26);
                  border: 1px solid rgba(0, 0, 0, 0.12);
                }</style
              ><style data-emotion="css 1184ln1">
                .css-1184ln1 {
                  display: -webkit-inline-box;
                  display: -webkit-inline-flex;
                  display: -ms-inline-flexbox;
                  display: inline-flex;
                  -webkit-align-items: center;
                  -webkit-box-align: center;
                  -ms-flex-align: center;
                  align-items: center;
                  -webkit-box-pack: center;
                  -ms-flex-pack: center;
                  -webkit-justify-content: center;
                  justify-content: center;
                  position: relative;
                  box-sizing: border-box;
                  -webkit-tap-highlight-color: transparent;
                  background-color: transparent;
                  outline: 0;
                  border: 0;
                  margin: 0;
                  border-radius: 0;
                  padding: 0;
                  cursor: pointer;
                  -webkit-user-select: none;
                  -moz-user-select: none;
                  -ms-user-select: none;
                  user-select: none;
                  vertical-align: middle;
                  -moz-appearance: none;
                  -webkit-appearance: none;
                  -webkit-text-decoration: none;
                  text-decoration: none;
                  color: inherit;
                  font-family: "Roboto", "Helvetica", "Arial", sans-serif;
                  font-weight: 500;
                  font-size: 0.8125rem;
                  line-height: 1.75;
                  letter-spacing: 0.02857em;
                  text-transform: uppercase;
                  min-width: 64px;
                  padding: 3px 9px;
                  border-radius: 4px;
                  -webkit-transition:
                    background-color 250ms cubic-bezier(0.4, 0, 0.2, 1) 0ms,
                    box-shadow 250ms cubic-bezier(0.4, 0, 0.2, 1) 0ms,
                    border-color 250ms cubic-bezier(0.4, 0, 0.2, 1) 0ms,
                    color 250ms cubic-bezier(0.4, 0, 0.2, 1) 0ms;
                  transition:
                    background-color 250ms cubic-bezier(0.4, 0, 0.2, 1) 0ms,
                    box-shadow 250ms cubic-bezier(0.4, 0, 0.2, 1) 0ms,
                    border-color 250ms cubic-bezier(0.4, 0, 0.2, 1) 0ms,
                    color 250ms cubic-bezier(0.4, 0, 0.2, 1) 0ms;
                  border: 1px solid rgba(237, 108, 2, 0.5);
                  color: #ed6c02;
                }
                .css-1184ln1::-moz-focus-inner {
                  border-style: none;
                }
                .css-1184ln1.Mui-disabled {
                  pointer-events: none;
                  cursor: default;
                }
                @media print {
                  .css-1184ln1 {
                    -webkit-print-color-adjust: exact;
                    color-adjust: exact;
                  }
                }
                .css-1184ln1:hover {
                  -webkit-text-decoration: none;
                  text-decoration: none;
                  background-color: rgba(237, 108, 2, 0.04);
                  border: 1px solid #ed6c02;
                }
                @media (hover: none) {
                  .css-1184ln1:hover {
                    background-color: transparent;
                  }
                }
                .css-1184ln1.Mui-disabled {
                  color: rgba(0, 0, 0, 0.26);
                  border: 1px solid rgba(0, 0, 0, 0.12);
                }</style
              ><button
                class="MuiButtonBase-root MuiButton-root MuiButton-outlined MuiButton-outlinedWarning MuiButton-sizeSmall MuiButton-outlinedSizeSmall MuiButton-colorWarning MuiButton-root MuiButton-outlined MuiButton-outlinedWarning MuiButton-sizeSmall MuiButton-outlinedSizeSmall MuiButton-colorWarning css-1184ln1"
                tabindex="0"
                type="button"
              >
                Home
              </button></a
            >
          </div>
          <div class="MuiBox-root css-1yae3jf">
            <style data-emotion="css vubbuv">
              .css-vubbuv {
                -webkit-user-select: none;
                -moz-user-select: none;
                -ms-user-select: none;
                user-select: none;
                width: 1em;
                height: 1em;
                display: inline-block;
                fill: currentColor;
                -webkit-flex-shrink: 0;
                -ms-flex-negative: 0;
                flex-shrink: 0;
                -webkit-transition: fill 200ms cubic-bezier(0.4, 0, 0.2, 1) 0ms;
                transition: fill 200ms cubic-bezier(0.4, 0, 0.2, 1) 0ms;
                font-size: 1.5rem;
              }</style
            ><svg
              class="MuiSvgIcon-root MuiSvgIcon-fontSizeMedium css-vubbuv"
              focusable="false"
              aria-hidden="true"
              viewBox="0 0 24 24"
              data-testid="KeyboardArrowRightIcon"
            >
              <path
                d="M8.59 16.59 13.17 12 8.59 7.41 10 6l6 6-6 6z"
              ></path></svg
            ><a href="/ml-ops/"
              ><button
                class="MuiButtonBase-root MuiButton-root MuiButton-outlined MuiButton-outlinedWarning MuiButton-sizeSmall MuiButton-outlinedSizeSmall MuiButton-colorWarning MuiButton-root MuiButton-outlined MuiButton-outlinedWarning MuiButton-sizeSmall MuiButton-outlinedSizeSmall MuiButton-colorWarning css-1184ln1"
                tabindex="0"
                type="button"
              >
                ML Ops
              </button></a
            >
          </div>
          <div class="MuiBox-root css-1yae3jf">
            <svg
              class="MuiSvgIcon-root MuiSvgIcon-fontSizeMedium css-vubbuv"
              focusable="false"
              aria-hidden="true"
              viewBox="0 0 24 24"
              data-testid="KeyboardArrowRightIcon"
            >
              <path
                d="M8.59 16.59 13.17 12 8.59 7.41 10 6l6 6-6 6z"
              ></path></svg
            ><a href="/ml-ops/onnxruntime-web-inference-in-react/"
              ><button
                class="MuiButtonBase-root MuiButton-root MuiButton-outlined MuiButton-outlinedWarning MuiButton-sizeSmall MuiButton-outlinedSizeSmall MuiButton-colorWarning MuiButton-root MuiButton-outlined MuiButton-outlinedWarning MuiButton-sizeSmall MuiButton-outlinedSizeSmall MuiButton-colorWarning css-1184ln1"
                tabindex="0"
                type="button"
              >
                ONNXRuntime Inference in a React App
              </button></a
            >
          </div>
        </div>
        <style data-emotion="css slaq2o">
          .css-slaq2o {
            box-sizing: border-box;
            display: -webkit-box;
            display: -webkit-flex;
            display: -ms-flexbox;
            display: flex;
            -webkit-box-flex-wrap: wrap;
            -webkit-flex-wrap: wrap;
            -ms-flex-wrap: wrap;
            flex-wrap: wrap;
            width: 100%;
            -webkit-flex-direction: row;
            -ms-flex-direction: row;
            flex-direction: row;
            margin-top: -16px;
            width: calc(100% + 16px);
            margin-left: -16px;
            margin-bottom: 0px;
          }
          .css-slaq2o > .MuiGrid-item {
            padding-top: 16px;
          }
          .css-slaq2o > .MuiGrid-item {
            padding-left: 16px;
          }
        </style>
        <div
          class="MuiGrid-root MuiGrid-container MuiGrid-spacing-xs-2 css-slaq2o"
        >
          <style data-emotion="css hr4540">
            .css-hr4540 {
              box-sizing: border-box;
              margin: 0;
              -webkit-flex-direction: row;
              -ms-flex-direction: row;
              flex-direction: row;
              -webkit-flex-basis: 100%;
              -ms-flex-preferred-size: 100%;
              flex-basis: 100%;
              -webkit-box-flex: 0;
              -webkit-flex-grow: 0;
              -ms-flex-positive: 0;
              flex-grow: 0;
              max-width: 100%;
              background: linear-gradient(to right, #eeeeee, #ffffff);
              border-radius: 20px;
            }
            @media (min-width: 600px) {
              .css-hr4540 {
                -webkit-flex-basis: 100%;
                -ms-flex-preferred-size: 100%;
                flex-basis: 100%;
                -webkit-box-flex: 0;
                -webkit-flex-grow: 0;
                -ms-flex-positive: 0;
                flex-grow: 0;
                max-width: 100%;
              }
            }
            @media (min-width: 900px) {
              .css-hr4540 {
                -webkit-flex-basis: 33.333333%;
                -ms-flex-preferred-size: 33.333333%;
                flex-basis: 33.333333%;
                -webkit-box-flex: 0;
                -webkit-flex-grow: 0;
                -ms-flex-positive: 0;
                flex-grow: 0;
                max-width: 33.333333%;
              }
            }
            @media (min-width: 1200px) {
              .css-hr4540 {
                -webkit-flex-basis: 33.333333%;
                -ms-flex-preferred-size: 33.333333%;
                flex-basis: 33.333333%;
                -webkit-box-flex: 0;
                -webkit-flex-grow: 0;
                -ms-flex-positive: 0;
                flex-grow: 0;
                max-width: 33.333333%;
              }
            }
            @media (min-width: 1536px) {
              .css-hr4540 {
                -webkit-flex-basis: 33.333333%;
                -ms-flex-preferred-size: 33.333333%;
                flex-basis: 33.333333%;
                -webkit-box-flex: 0;
                -webkit-flex-grow: 0;
                -ms-flex-positive: 0;
                flex-grow: 0;
                max-width: 33.333333%;
              }
            }
          </style>
          <div
            class="MuiGrid-root MuiGrid-item MuiGrid-grid-xs-12 MuiGrid-grid-sm-12 MuiGrid-grid-md-4 css-hr4540"
          >
            <style data-emotion="css 194lag7">
              .css-194lag7 {
                width: 100%;
                height: 100%;
                display: -webkit-box;
                display: -webkit-flex;
                display: -ms-flexbox;
                display: flex;
                -webkit-flex-direction: column;
                -ms-flex-direction: column;
                flex-direction: column;
                -webkit-box-pack: center;
                -ms-flex-pack: center;
                -webkit-justify-content: center;
                justify-content: center;
                -webkit-align-items: flex-start;
                -webkit-box-align: flex-start;
                -ms-flex-align: flex-start;
                align-items: flex-start;
                padding-bottom: 16px;
              }
            </style>
            <div class="MuiBox-root css-194lag7">
              <style data-emotion="css t1nuxs">
                .css-t1nuxs {
                  margin: 0;
                  font-family: "Roboto", "Helvetica", "Arial", sans-serif;
                  font-weight: 400;
                  font-size: 1.5rem;
                  line-height: 1.334;
                  letter-spacing: 0em;
                  margin-bottom: 0.35em;
                }
              </style>
              <h1
                class="MuiTypography-root MuiTypography-h5 MuiTypography-gutterBottom css-t1nuxs"
              >
                ONNXRuntime Inference in a React App
              </h1>
              <style data-emotion="css 15wzlf5">
                .css-15wzlf5 {
                  margin: 0;
                  margin-bottom: 0.35em;
                  margin-bottom: 32px;
                }
              </style>
              <p
                class="MuiTypography-root MuiTypography-p MuiTypography-gutterBottom css-15wzlf5"
              >
                Inferencing on an ONNX model in a React App using ONNXRuntime
                Web.
              </p>
              <style data-emotion="css 1aiyebw">
                .css-1aiyebw {
                  width: 100%;
                  display: -webkit-box;
                  display: -webkit-flex;
                  display: -ms-flexbox;
                  display: flex;
                  -webkit-flex-direction: row;
                  -ms-flex-direction: row;
                  flex-direction: row;
                  -webkit-box-pack: justify;
                  -webkit-justify-content: space-between;
                  justify-content: space-between;
                  -webkit-align-items: center;
                  -webkit-box-align: center;
                  -ms-flex-align: center;
                  align-items: center;
                  margin-bottom: 16px;
                }
              </style>
              <div class="MuiBox-root css-1aiyebw">
                <style data-emotion="css mxjm1x">
                  .css-mxjm1x {
                    margin: 0;
                    margin-bottom: 0.35em;
                  }
                </style>
                <p
                  class="MuiTypography-root MuiTypography-p MuiTypography-gutterBottom css-mxjm1x"
                >
                  July 25, 2024
                </p>
                <p
                  class="MuiTypography-root MuiTypography-p MuiTypography-gutterBottom css-mxjm1x"
                >
                  08m<!-- -->
                  Read
                </p>
              </div>
              <style data-emotion="css 1sdy4c7">
                .css-1sdy4c7 {
                  width: 100%;
                  display: -webkit-box;
                  display: -webkit-flex;
                  display: -ms-flexbox;
                  display: flex;
                  -webkit-flex-direction: row;
                  -ms-flex-direction: row;
                  flex-direction: row;
                  -webkit-box-pack: justify;
                  -webkit-justify-content: space-between;
                  justify-content: space-between;
                  -webkit-align-items: center;
                  -webkit-box-align: center;
                  -ms-flex-align: center;
                  align-items: center;
                }
              </style>
              <div class="MuiBox-root css-1sdy4c7">
                <style data-emotion="css 19115x2">
                  .css-19115x2 {
                    margin: 0;
                    margin-right: 16px;
                  }
                </style>
                <p class="MuiTypography-root MuiTypography-p css-19115x2">
                  By: Abhilaksh Singh Reen
                </p>
                <style data-emotion="css o6eoqx">
                  .css-o6eoqx {
                    display: -webkit-box;
                    display: -webkit-flex;
                    display: -ms-flexbox;
                    display: flex;
                    -webkit-flex-direction: row;
                    -ms-flex-direction: row;
                    flex-direction: row;
                    -webkit-box-pack: space-evenly;
                    -ms-flex-pack: space-evenly;
                    -webkit-justify-content: space-evenly;
                    justify-content: space-evenly;
                    -webkit-align-items: center;
                    -webkit-box-align: center;
                    -ms-flex-align: center;
                    align-items: center;
                  }
                </style>
                <div class="MuiBox-root css-o6eoqx">
                  <style data-emotion="css 1t2xui4">
                    .css-1t2xui4 {
                      text-align: center;
                      -webkit-flex: 0 0 auto;
                      -ms-flex: 0 0 auto;
                      flex: 0 0 auto;
                      font-size: 1.5rem;
                      padding: 8px;
                      border-radius: 50%;
                      overflow: visible;
                      color: rgba(0, 0, 0, 0.54);
                      -webkit-transition: background-color 150ms
                        cubic-bezier(0.4, 0, 0.2, 1) 0ms;
                      transition: background-color 150ms
                        cubic-bezier(0.4, 0, 0.2, 1) 0ms;
                      color: #0077b5;
                    }
                    .css-1t2xui4:hover {
                      background-color: rgba(0, 0, 0, 0.04);
                    }
                    @media (hover: none) {
                      .css-1t2xui4:hover {
                        background-color: transparent;
                      }
                    }
                    .css-1t2xui4.Mui-disabled {
                      background-color: transparent;
                      color: rgba(0, 0, 0, 0.26);
                    }</style
                  ><style data-emotion="css 1yl6xtp">
                    .css-1yl6xtp {
                      display: -webkit-inline-box;
                      display: -webkit-inline-flex;
                      display: -ms-inline-flexbox;
                      display: inline-flex;
                      -webkit-align-items: center;
                      -webkit-box-align: center;
                      -ms-flex-align: center;
                      align-items: center;
                      -webkit-box-pack: center;
                      -ms-flex-pack: center;
                      -webkit-justify-content: center;
                      justify-content: center;
                      position: relative;
                      box-sizing: border-box;
                      -webkit-tap-highlight-color: transparent;
                      background-color: transparent;
                      outline: 0;
                      border: 0;
                      margin: 0;
                      border-radius: 0;
                      padding: 0;
                      cursor: pointer;
                      -webkit-user-select: none;
                      -moz-user-select: none;
                      -ms-user-select: none;
                      user-select: none;
                      vertical-align: middle;
                      -moz-appearance: none;
                      -webkit-appearance: none;
                      -webkit-text-decoration: none;
                      text-decoration: none;
                      color: inherit;
                      text-align: center;
                      -webkit-flex: 0 0 auto;
                      -ms-flex: 0 0 auto;
                      flex: 0 0 auto;
                      font-size: 1.5rem;
                      padding: 8px;
                      border-radius: 50%;
                      overflow: visible;
                      color: rgba(0, 0, 0, 0.54);
                      -webkit-transition: background-color 150ms
                        cubic-bezier(0.4, 0, 0.2, 1) 0ms;
                      transition: background-color 150ms
                        cubic-bezier(0.4, 0, 0.2, 1) 0ms;
                      color: #0077b5;
                    }
                    .css-1yl6xtp::-moz-focus-inner {
                      border-style: none;
                    }
                    .css-1yl6xtp.Mui-disabled {
                      pointer-events: none;
                      cursor: default;
                    }
                    @media print {
                      .css-1yl6xtp {
                        -webkit-print-color-adjust: exact;
                        color-adjust: exact;
                      }
                    }
                    .css-1yl6xtp:hover {
                      background-color: rgba(0, 0, 0, 0.04);
                    }
                    @media (hover: none) {
                      .css-1yl6xtp:hover {
                        background-color: transparent;
                      }
                    }
                    .css-1yl6xtp.Mui-disabled {
                      background-color: transparent;
                      color: rgba(0, 0, 0, 0.26);
                    }</style
                  ><button
                    class="MuiButtonBase-root MuiIconButton-root MuiIconButton-sizeMedium css-1yl6xtp"
                    tabindex="0"
                    type="button"
                  >
                    <svg
                      class="MuiSvgIcon-root MuiSvgIcon-fontSizeMedium css-vubbuv"
                      focusable="false"
                      aria-hidden="true"
                      viewBox="0 0 24 24"
                      data-testid="LinkedInIcon"
                    >
                      <path
                        d="M19 3a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h14m-.5 15.5v-5.3a3.26 3.26 0 0 0-3.26-3.26c-.85 0-1.84.52-2.32 1.3v-1.11h-2.79v8.37h2.79v-4.93c0-.77.62-1.4 1.39-1.4a1.4 1.4 0 0 1 1.4 1.4v4.93h2.79M6.88 8.56a1.68 1.68 0 0 0 1.68-1.68c0-.93-.75-1.69-1.68-1.69a1.69 1.69 0 0 0-1.69 1.69c0 .93.76 1.68 1.69 1.68m1.39 9.94v-8.37H5.5v8.37h2.77z"
                      ></path>
                    </svg></button
                  ><style data-emotion="css 161nngb">
                    .css-161nngb {
                      text-align: center;
                      -webkit-flex: 0 0 auto;
                      -ms-flex: 0 0 auto;
                      flex: 0 0 auto;
                      font-size: 1.5rem;
                      padding: 8px;
                      border-radius: 50%;
                      overflow: visible;
                      color: rgba(0, 0, 0, 0.54);
                      -webkit-transition: background-color 150ms
                        cubic-bezier(0.4, 0, 0.2, 1) 0ms;
                      transition: background-color 150ms
                        cubic-bezier(0.4, 0, 0.2, 1) 0ms;
                      color: #000000;
                    }
                    .css-161nngb:hover {
                      background-color: rgba(0, 0, 0, 0.04);
                    }
                    @media (hover: none) {
                      .css-161nngb:hover {
                        background-color: transparent;
                      }
                    }
                    .css-161nngb.Mui-disabled {
                      background-color: transparent;
                      color: rgba(0, 0, 0, 0.26);
                    }</style
                  ><style data-emotion="css tn2bks">
                    .css-tn2bks {
                      display: -webkit-inline-box;
                      display: -webkit-inline-flex;
                      display: -ms-inline-flexbox;
                      display: inline-flex;
                      -webkit-align-items: center;
                      -webkit-box-align: center;
                      -ms-flex-align: center;
                      align-items: center;
                      -webkit-box-pack: center;
                      -ms-flex-pack: center;
                      -webkit-justify-content: center;
                      justify-content: center;
                      position: relative;
                      box-sizing: border-box;
                      -webkit-tap-highlight-color: transparent;
                      background-color: transparent;
                      outline: 0;
                      border: 0;
                      margin: 0;
                      border-radius: 0;
                      padding: 0;
                      cursor: pointer;
                      -webkit-user-select: none;
                      -moz-user-select: none;
                      -ms-user-select: none;
                      user-select: none;
                      vertical-align: middle;
                      -moz-appearance: none;
                      -webkit-appearance: none;
                      -webkit-text-decoration: none;
                      text-decoration: none;
                      color: inherit;
                      text-align: center;
                      -webkit-flex: 0 0 auto;
                      -ms-flex: 0 0 auto;
                      flex: 0 0 auto;
                      font-size: 1.5rem;
                      padding: 8px;
                      border-radius: 50%;
                      overflow: visible;
                      color: rgba(0, 0, 0, 0.54);
                      -webkit-transition: background-color 150ms
                        cubic-bezier(0.4, 0, 0.2, 1) 0ms;
                      transition: background-color 150ms
                        cubic-bezier(0.4, 0, 0.2, 1) 0ms;
                      color: #000000;
                    }
                    .css-tn2bks::-moz-focus-inner {
                      border-style: none;
                    }
                    .css-tn2bks.Mui-disabled {
                      pointer-events: none;
                      cursor: default;
                    }
                    @media print {
                      .css-tn2bks {
                        -webkit-print-color-adjust: exact;
                        color-adjust: exact;
                      }
                    }
                    .css-tn2bks:hover {
                      background-color: rgba(0, 0, 0, 0.04);
                    }
                    @media (hover: none) {
                      .css-tn2bks:hover {
                        background-color: transparent;
                      }
                    }
                    .css-tn2bks.Mui-disabled {
                      background-color: transparent;
                      color: rgba(0, 0, 0, 0.26);
                    }</style
                  ><button
                    class="MuiButtonBase-root MuiIconButton-root MuiIconButton-sizeMedium css-tn2bks"
                    tabindex="0"
                    type="button"
                  >
                    <svg
                      class="MuiSvgIcon-root MuiSvgIcon-fontSizeMedium css-vubbuv"
                      focusable="false"
                      aria-hidden="true"
                      viewBox="0 0 24 24"
                      data-testid="XIcon"
                    >
                      <path
                        d="M18.244 2.25h3.308l-7.227 8.26 8.502 11.24H16.17l-5.214-6.817L4.99 21.75H1.68l7.73-8.835L1.254 2.25H8.08l4.713 6.231zm-1.161 17.52h1.833L7.084 4.126H5.117z"
                      ></path>
                    </svg></button
                  ><button
                    class="MuiButtonBase-root MuiIconButton-root MuiIconButton-sizeMedium css-tn2bks"
                    tabindex="0"
                    type="button"
                  >
                    <svg
                      class="MuiSvgIcon-root MuiSvgIcon-fontSizeMedium css-vubbuv"
                      focusable="false"
                      aria-hidden="true"
                      viewBox="0 0 24 24"
                      data-testid="GitHubIcon"
                    >
                      <path
                        d="M12 1.27a11 11 0 00-3.48 21.46c.55.09.73-.28.73-.55v-1.84c-3.03.64-3.67-1.46-3.67-1.46-.55-1.29-1.28-1.65-1.28-1.65-.92-.65.1-.65.1-.65 1.1 0 1.73 1.1 1.73 1.1.92 1.65 2.57 1.2 3.21.92a2 2 0 01.64-1.47c-2.47-.27-5.04-1.19-5.04-5.5 0-1.1.46-2.1 1.2-2.84a3.76 3.76 0 010-2.93s.91-.28 3.11 1.1c1.8-.49 3.7-.49 5.5 0 2.1-1.38 3.02-1.1 3.02-1.1a3.76 3.76 0 010 2.93c.83.74 1.2 1.74 1.2 2.94 0 4.21-2.57 5.13-5.04 5.4.45.37.82.92.82 2.02v3.03c0 .27.1.64.73.55A11 11 0 0012 1.27"
                      ></path>
                    </svg>
                  </button>
                </div>
              </div>
            </div>
          </div>
          <style data-emotion="css efwuvd">
            .css-efwuvd {
              box-sizing: border-box;
              margin: 0;
              -webkit-flex-direction: row;
              -ms-flex-direction: row;
              flex-direction: row;
              -webkit-flex-basis: 100%;
              -ms-flex-preferred-size: 100%;
              flex-basis: 100%;
              -webkit-box-flex: 0;
              -webkit-flex-grow: 0;
              -ms-flex-positive: 0;
              flex-grow: 0;
              max-width: 100%;
            }
            @media (min-width: 600px) {
              .css-efwuvd {
                -webkit-flex-basis: 100%;
                -ms-flex-preferred-size: 100%;
                flex-basis: 100%;
                -webkit-box-flex: 0;
                -webkit-flex-grow: 0;
                -ms-flex-positive: 0;
                flex-grow: 0;
                max-width: 100%;
              }
            }
            @media (min-width: 900px) {
              .css-efwuvd {
                -webkit-flex-basis: 66.666667%;
                -ms-flex-preferred-size: 66.666667%;
                flex-basis: 66.666667%;
                -webkit-box-flex: 0;
                -webkit-flex-grow: 0;
                -ms-flex-positive: 0;
                flex-grow: 0;
                max-width: 66.666667%;
              }
            }
            @media (min-width: 1200px) {
              .css-efwuvd {
                -webkit-flex-basis: 66.666667%;
                -ms-flex-preferred-size: 66.666667%;
                flex-basis: 66.666667%;
                -webkit-box-flex: 0;
                -webkit-flex-grow: 0;
                -ms-flex-positive: 0;
                flex-grow: 0;
                max-width: 66.666667%;
              }
            }
            @media (min-width: 1536px) {
              .css-efwuvd {
                -webkit-flex-basis: 66.666667%;
                -ms-flex-preferred-size: 66.666667%;
                flex-basis: 66.666667%;
                -webkit-box-flex: 0;
                -webkit-flex-grow: 0;
                -ms-flex-positive: 0;
                flex-grow: 0;
                max-width: 66.666667%;
              }
            }
          </style>
          <div
            class="MuiGrid-root MuiGrid-item MuiGrid-grid-xs-12 MuiGrid-grid-sm-12 MuiGrid-grid-md-8 css-efwuvd"
          >
            <style data-emotion="css fbmkol">
              .css-fbmkol {
                -webkit-flex: 1;
                -ms-flex: 1;
                flex: 1;
                display: -webkit-box;
                display: -webkit-flex;
                display: -ms-flexbox;
                display: flex;
                -webkit-flex-direction: column;
                -ms-flex-direction: column;
                flex-direction: column;
                -webkit-box-pack: center;
                -ms-flex-pack: center;
                -webkit-justify-content: center;
                justify-content: center;
                -webkit-align-items: center;
                -webkit-box-align: center;
                -ms-flex-align: center;
                align-items: center;
                margin-right: 16px;
              }
            </style>
            <div class="MuiBox-root css-fbmkol">
              <img
                src="/media/images/react-digit-recog-app-final.jpg"
                style="
                  width: 100%;
                  max-width: 75vw;
                  height: auto;
                  max-height: 35vh;
                  object-fit: cover;
                "
              />
            </div>
          </div>
        </div>
        <style data-emotion="css 8atqhb">
          .css-8atqhb {
            width: 100%;
          }
        </style>
        <div class="MuiBox-root css-8atqhb">
          <style data-emotion="css iv262p">
            .css-iv262p {
              box-sizing: border-box;
              display: -webkit-box;
              display: -webkit-flex;
              display: -ms-flexbox;
              display: flex;
              -webkit-box-flex-wrap: wrap;
              -webkit-flex-wrap: wrap;
              -ms-flex-wrap: wrap;
              flex-wrap: wrap;
              width: 100%;
              -webkit-flex-direction: row;
              -ms-flex-direction: row;
              flex-direction: row;
              margin-top: -16px;
              width: calc(100% + 16px);
              margin-left: -16px;
              margin-top: 32px;
              margin-bottom: 0px;
            }
            .css-iv262p > .MuiGrid-item {
              padding-top: 16px;
            }
            .css-iv262p > .MuiGrid-item {
              padding-left: 16px;
            }
          </style>
          <div
            class="MuiGrid-root MuiGrid-container MuiGrid-spacing-xs-2 css-iv262p"
          >
            <style data-emotion="css 1hclw6t">
              .css-1hclw6t {
                box-sizing: border-box;
                margin: 0;
                -webkit-flex-direction: row;
                -ms-flex-direction: row;
                flex-direction: row;
                -webkit-flex-basis: 100%;
                -ms-flex-preferred-size: 100%;
                flex-basis: 100%;
                -webkit-box-flex: 0;
                -webkit-flex-grow: 0;
                -ms-flex-positive: 0;
                flex-grow: 0;
                max-width: 100%;
                background: linear-gradient(to right, #eeeeee, #ffffff);
                border-radius: 20px;
              }
              @media (min-width: 600px) {
                .css-1hclw6t {
                  -webkit-flex-basis: 100%;
                  -ms-flex-preferred-size: 100%;
                  flex-basis: 100%;
                  -webkit-box-flex: 0;
                  -webkit-flex-grow: 0;
                  -ms-flex-positive: 0;
                  flex-grow: 0;
                  max-width: 100%;
                }
              }
              @media (min-width: 900px) {
                .css-1hclw6t {
                  -webkit-flex-basis: 33.333333%;
                  -ms-flex-preferred-size: 33.333333%;
                  flex-basis: 33.333333%;
                  -webkit-box-flex: 0;
                  -webkit-flex-grow: 0;
                  -ms-flex-positive: 0;
                  flex-grow: 0;
                  max-width: 33.333333%;
                }
              }
              @media (min-width: 1200px) {
                .css-1hclw6t {
                  -webkit-flex-basis: 25%;
                  -ms-flex-preferred-size: 25%;
                  flex-basis: 25%;
                  -webkit-box-flex: 0;
                  -webkit-flex-grow: 0;
                  -ms-flex-positive: 0;
                  flex-grow: 0;
                  max-width: 25%;
                }
              }
              @media (min-width: 1536px) {
                .css-1hclw6t {
                  -webkit-flex-basis: 25%;
                  -ms-flex-preferred-size: 25%;
                  flex-basis: 25%;
                  -webkit-box-flex: 0;
                  -webkit-flex-grow: 0;
                  -ms-flex-positive: 0;
                  flex-grow: 0;
                  max-width: 25%;
                }
              }
            </style>
            <div
              class="MuiGrid-root MuiGrid-item MuiGrid-grid-xs-12 MuiGrid-grid-sm-12 MuiGrid-grid-md-4 MuiGrid-grid-lg-3 css-1hclw6t"
            >
              <div class="MuiBox-root css-8atqhb">
                <style data-emotion="css 1zqdou">
                  .css-1zqdou {
                    width: 100%;
                    margin-bottom: 16px;
                  }
                  @media (min-width: 0px) {
                    .css-1zqdou {
                      display: block;
                    }
                  }
                  @media (min-width: 900px) {
                    .css-1zqdou {
                      display: none;
                    }
                  }
                </style>
                <div class="MuiBox-root css-1zqdou">
                  <style data-emotion="css mgu3mc">
                    .css-mgu3mc {
                      position: relative;
                      -webkit-transition: margin 150ms
                        cubic-bezier(0.4, 0, 0.2, 1) 0ms;
                      transition: margin 150ms cubic-bezier(0.4, 0, 0.2, 1) 0ms;
                      overflow-anchor: none;
                      border-radius: 0;
                      width: 100%;
                      margin-bottom: 16px;
                      box-shadow:
                        0px 3px 3px -2px rgba(0, 0, 0, 0.2),
                        0px 3px 4px 0px rgba(0, 0, 0, 0.14),
                        0px 1px 8px 0px rgba(0, 0, 0, 0.12);
                      background-color: #ffffff22;
                    }
                    .css-mgu3mc::before {
                      position: absolute;
                      left: 0;
                      top: -1px;
                      right: 0;
                      height: 1px;
                      content: "";
                      opacity: 1;
                      background-color: rgba(0, 0, 0, 0.12);
                      -webkit-transition:
                        opacity 150ms cubic-bezier(0.4, 0, 0.2, 1) 0ms,
                        background-color 150ms cubic-bezier(0.4, 0, 0.2, 1) 0ms;
                      transition:
                        opacity 150ms cubic-bezier(0.4, 0, 0.2, 1) 0ms,
                        background-color 150ms cubic-bezier(0.4, 0, 0.2, 1) 0ms;
                    }
                    .css-mgu3mc:first-of-type::before {
                      display: none;
                    }
                    .css-mgu3mc.Mui-expanded::before {
                      opacity: 0;
                    }
                    .css-mgu3mc.Mui-expanded:first-of-type {
                      margin-top: 0;
                    }
                    .css-mgu3mc.Mui-expanded:last-of-type {
                      margin-bottom: 0;
                    }
                    .css-mgu3mc.Mui-expanded
                      + .css-mgu3mc.Mui-expanded::before {
                      display: none;
                    }
                    .css-mgu3mc.Mui-disabled {
                      background-color: rgba(0, 0, 0, 0.12);
                    }
                    .css-mgu3mc:first-of-type {
                      border-top-left-radius: 4px;
                      border-top-right-radius: 4px;
                    }
                    .css-mgu3mc:last-of-type {
                      border-bottom-left-radius: 4px;
                      border-bottom-right-radius: 4px;
                    }
                    @supports (-ms-ime-align: auto) {
                      .css-mgu3mc:last-of-type {
                        border-bottom-left-radius: 0;
                        border-bottom-right-radius: 0;
                      }
                    }</style
                  ><style data-emotion="css 16ex79u">
                    .css-16ex79u {
                      background-color: #fff;
                      color: rgba(0, 0, 0, 0.87);
                      -webkit-transition: box-shadow 300ms
                        cubic-bezier(0.4, 0, 0.2, 1) 0ms;
                      transition: box-shadow 300ms cubic-bezier(0.4, 0, 0.2, 1)
                        0ms;
                      border-radius: 4px;
                      box-shadow:
                        0px 2px 1px -1px rgba(0, 0, 0, 0.2),
                        0px 1px 1px 0px rgba(0, 0, 0, 0.14),
                        0px 1px 3px 0px rgba(0, 0, 0, 0.12);
                      position: relative;
                      -webkit-transition: margin 150ms
                        cubic-bezier(0.4, 0, 0.2, 1) 0ms;
                      transition: margin 150ms cubic-bezier(0.4, 0, 0.2, 1) 0ms;
                      overflow-anchor: none;
                      border-radius: 0;
                      width: 100%;
                      margin-bottom: 16px;
                      box-shadow:
                        0px 3px 3px -2px rgba(0, 0, 0, 0.2),
                        0px 3px 4px 0px rgba(0, 0, 0, 0.14),
                        0px 1px 8px 0px rgba(0, 0, 0, 0.12);
                      background-color: #ffffff22;
                    }
                    .css-16ex79u::before {
                      position: absolute;
                      left: 0;
                      top: -1px;
                      right: 0;
                      height: 1px;
                      content: "";
                      opacity: 1;
                      background-color: rgba(0, 0, 0, 0.12);
                      -webkit-transition:
                        opacity 150ms cubic-bezier(0.4, 0, 0.2, 1) 0ms,
                        background-color 150ms cubic-bezier(0.4, 0, 0.2, 1) 0ms;
                      transition:
                        opacity 150ms cubic-bezier(0.4, 0, 0.2, 1) 0ms,
                        background-color 150ms cubic-bezier(0.4, 0, 0.2, 1) 0ms;
                    }
                    .css-16ex79u:first-of-type::before {
                      display: none;
                    }
                    .css-16ex79u.Mui-expanded::before {
                      opacity: 0;
                    }
                    .css-16ex79u.Mui-expanded:first-of-type {
                      margin-top: 0;
                    }
                    .css-16ex79u.Mui-expanded:last-of-type {
                      margin-bottom: 0;
                    }
                    .css-16ex79u.Mui-expanded
                      + .css-16ex79u.Mui-expanded::before {
                      display: none;
                    }
                    .css-16ex79u.Mui-disabled {
                      background-color: rgba(0, 0, 0, 0.12);
                    }
                    .css-16ex79u:first-of-type {
                      border-top-left-radius: 4px;
                      border-top-right-radius: 4px;
                    }
                    .css-16ex79u:last-of-type {
                      border-bottom-left-radius: 4px;
                      border-bottom-right-radius: 4px;
                    }
                    @supports (-ms-ime-align: auto) {
                      .css-16ex79u:last-of-type {
                        border-bottom-left-radius: 0;
                        border-bottom-right-radius: 0;
                      }
                    }
                  </style>
                  <div
                    class="MuiPaper-root MuiPaper-elevation MuiPaper-rounded MuiPaper-elevation1 MuiAccordion-root MuiAccordion-rounded css-16ex79u"
                  >
                    <style data-emotion="css 148gpqp">
                      .css-148gpqp {
                        display: -webkit-box;
                        display: -webkit-flex;
                        display: -ms-flexbox;
                        display: flex;
                        min-height: 48px;
                        padding: 0px 16px;
                        -webkit-transition:
                          min-height 150ms cubic-bezier(0.4, 0, 0.2, 1) 0ms,
                          background-color 150ms cubic-bezier(0.4, 0, 0.2, 1)
                            0ms;
                        transition:
                          min-height 150ms cubic-bezier(0.4, 0, 0.2, 1) 0ms,
                          background-color 150ms cubic-bezier(0.4, 0, 0.2, 1)
                            0ms;
                      }
                      .css-148gpqp.Mui-focusVisible {
                        background-color: rgba(0, 0, 0, 0.12);
                      }
                      .css-148gpqp.Mui-disabled {
                        opacity: 0.38;
                      }
                      .css-148gpqp:hover:not(.Mui-disabled) {
                        cursor: pointer;
                      }</style
                    ><style data-emotion="css 1uaukoe">
                      .css-1uaukoe {
                        display: -webkit-inline-box;
                        display: -webkit-inline-flex;
                        display: -ms-inline-flexbox;
                        display: inline-flex;
                        -webkit-align-items: center;
                        -webkit-box-align: center;
                        -ms-flex-align: center;
                        align-items: center;
                        -webkit-box-pack: center;
                        -ms-flex-pack: center;
                        -webkit-justify-content: center;
                        justify-content: center;
                        position: relative;
                        box-sizing: border-box;
                        -webkit-tap-highlight-color: transparent;
                        background-color: transparent;
                        outline: 0;
                        border: 0;
                        margin: 0;
                        border-radius: 0;
                        padding: 0;
                        cursor: pointer;
                        -webkit-user-select: none;
                        -moz-user-select: none;
                        -ms-user-select: none;
                        user-select: none;
                        vertical-align: middle;
                        -moz-appearance: none;
                        -webkit-appearance: none;
                        -webkit-text-decoration: none;
                        text-decoration: none;
                        color: inherit;
                        display: -webkit-box;
                        display: -webkit-flex;
                        display: -ms-flexbox;
                        display: flex;
                        min-height: 48px;
                        padding: 0px 16px;
                        -webkit-transition:
                          min-height 150ms cubic-bezier(0.4, 0, 0.2, 1) 0ms,
                          background-color 150ms cubic-bezier(0.4, 0, 0.2, 1)
                            0ms;
                        transition:
                          min-height 150ms cubic-bezier(0.4, 0, 0.2, 1) 0ms,
                          background-color 150ms cubic-bezier(0.4, 0, 0.2, 1)
                            0ms;
                      }
                      .css-1uaukoe::-moz-focus-inner {
                        border-style: none;
                      }
                      .css-1uaukoe.Mui-disabled {
                        pointer-events: none;
                        cursor: default;
                      }
                      @media print {
                        .css-1uaukoe {
                          -webkit-print-color-adjust: exact;
                          color-adjust: exact;
                        }
                      }
                      .css-1uaukoe.Mui-focusVisible {
                        background-color: rgba(0, 0, 0, 0.12);
                      }
                      .css-1uaukoe.Mui-disabled {
                        opacity: 0.38;
                      }
                      .css-1uaukoe:hover:not(.Mui-disabled) {
                        cursor: pointer;
                      }
                    </style>
                    <div
                      class="MuiButtonBase-root MuiAccordionSummary-root css-1uaukoe"
                      tabindex="0"
                      role="button"
                      aria-expanded="false"
                    >
                      <style data-emotion="css 1n11r91">
                        .css-1n11r91 {
                          display: -webkit-box;
                          display: -webkit-flex;
                          display: -ms-flexbox;
                          display: flex;
                          -webkit-box-flex: 1;
                          -webkit-flex-grow: 1;
                          -ms-flex-positive: 1;
                          flex-grow: 1;
                          margin: 12px 0;
                        }
                      </style>
                      <div class="MuiAccordionSummary-content css-1n11r91">
                        <style data-emotion="css 10n6ggx">
                          .css-10n6ggx {
                            margin: 0;
                            font-family: "Roboto", "Helvetica", "Arial",
                              sans-serif;
                            font-weight: 500;
                            font-size: 1.25rem;
                            line-height: 1.6;
                            letter-spacing: 0.0075em;
                            margin: 0px;
                            padding: 0px;
                          }
                        </style>
                        <h6
                          class="MuiTypography-root MuiTypography-h6 css-10n6ggx"
                        >
                          Table of Contents
                        </h6>
                      </div>
                      <style data-emotion="css 1fx8m19">
                        .css-1fx8m19 {
                          display: -webkit-box;
                          display: -webkit-flex;
                          display: -ms-flexbox;
                          display: flex;
                          color: rgba(0, 0, 0, 0.54);
                          -webkit-transform: rotate(0deg);
                          -moz-transform: rotate(0deg);
                          -ms-transform: rotate(0deg);
                          transform: rotate(0deg);
                          -webkit-transition: -webkit-transform 150ms
                            cubic-bezier(0.4, 0, 0.2, 1) 0ms;
                          transition: transform 150ms
                            cubic-bezier(0.4, 0, 0.2, 1) 0ms;
                        }
                        .css-1fx8m19.Mui-expanded {
                          -webkit-transform: rotate(180deg);
                          -moz-transform: rotate(180deg);
                          -ms-transform: rotate(180deg);
                          transform: rotate(180deg);
                        }
                      </style>
                      <div
                        class="MuiAccordionSummary-expandIconWrapper css-1fx8m19"
                      >
                        <svg
                          class="MuiSvgIcon-root MuiSvgIcon-fontSizeMedium css-vubbuv"
                          focusable="false"
                          aria-hidden="true"
                          viewBox="0 0 24 24"
                          data-testid="ExpandMoreIcon"
                        >
                          <path
                            d="M16.59 8.59 12 13.17 7.41 8.59 6 10l6 6 6-6z"
                          ></path>
                        </svg>
                      </div>
                    </div>
                    <style data-emotion="css a0y2e3">
                      .css-a0y2e3 {
                        height: 0;
                        overflow: hidden;
                        -webkit-transition: height 300ms
                          cubic-bezier(0.4, 0, 0.2, 1) 0ms;
                        transition: height 300ms cubic-bezier(0.4, 0, 0.2, 1)
                          0ms;
                        visibility: hidden;
                      }
                    </style>
                    <div
                      class="MuiCollapse-root MuiCollapse-vertical MuiCollapse-hidden css-a0y2e3"
                      style="min-height: 0px"
                    >
                      <style data-emotion="css hboir5">
                        .css-hboir5 {
                          display: -webkit-box;
                          display: -webkit-flex;
                          display: -ms-flexbox;
                          display: flex;
                          width: 100%;
                        }
                      </style>
                      <div
                        class="MuiCollapse-wrapper MuiCollapse-vertical css-hboir5"
                      >
                        <div
                          class="MuiCollapse-wrapperInner MuiCollapse-vertical css-8atqhb"
                        >
                          <div role="region" class="MuiAccordion-region">
                            <style data-emotion="css 2m6k8o">
                              .css-2m6k8o {
                                padding: 8px 16px 16px;
                                width: 90%;
                                display: -webkit-box;
                                display: -webkit-flex;
                                display: -ms-flexbox;
                                display: flex;
                                -webkit-flex-direction: column;
                                -ms-flex-direction: column;
                                flex-direction: column;
                                -webkit-box-pack: start;
                                -ms-flex-pack: start;
                                -webkit-justify-content: flex-start;
                                justify-content: flex-start;
                                -webkit-align-items: flex-start;
                                -webkit-box-align: flex-start;
                                -ms-flex-align: flex-start;
                                align-items: flex-start;
                                margin-bottom: 16px;
                              }
                            </style>
                            <div class="MuiAccordionDetails-root css-2m6k8o">
                              <a
                                href="#the-model"
                                style="text-decoration:none;color:inherit;&amp;:visited:[object Object]"
                                ><style data-emotion="css vmnodn">
                                  .css-vmnodn {
                                    margin: 0;
                                    margin-left: 0px;
                                    margin-bottom: 20px;
                                  }
                                  .css-vmnodn:hover {
                                    color: blue;
                                  }
                                </style>
                                <p
                                  class="MuiTypography-root MuiTypography-p css-vmnodn"
                                >
                                  The Model
                                </p></a
                              ><a
                                href="#getting-started"
                                style="text-decoration:none;color:inherit;&amp;:visited:[object Object]"
                                ><p
                                  class="MuiTypography-root MuiTypography-p css-vmnodn"
                                >
                                  Getting Started
                                </p></a
                              ><a
                                href="#setup"
                                style="text-decoration:none;color:inherit;&amp;:visited:[object Object]"
                                ><p
                                  class="MuiTypography-root MuiTypography-p css-vmnodn"
                                >
                                  Setup
                                </p></a
                              ><a
                                href="#the-home-page"
                                style="text-decoration:none;color:inherit;&amp;:visited:[object Object]"
                                ><p
                                  class="MuiTypography-root MuiTypography-p css-vmnodn"
                                >
                                  The Home Page
                                </p></a
                              ><a
                                href="#running-inference"
                                style="text-decoration:none;color:inherit;&amp;:visited:[object Object]"
                                ><p
                                  class="MuiTypography-root MuiTypography-p css-vmnodn"
                                >
                                  Running Inference
                                </p></a
                              ><a
                                href="#knowing-our-model"
                                style="text-decoration:none;color:inherit;&amp;:visited:[object Object]"
                                ><style data-emotion="css 1i0m0sm">
                                  .css-1i0m0sm {
                                    margin: 0;
                                    margin-left: 8px;
                                    margin-bottom: 16px;
                                  }
                                  .css-1i0m0sm:hover {
                                    color: blue;
                                  }
                                </style>
                                <p
                                  class="MuiTypography-root MuiTypography-p css-1i0m0sm"
                                >
                                  Knowing our Model
                                </p></a
                              ><a
                                href="#math-utils"
                                style="text-decoration:none;color:inherit;&amp;:visited:[object Object]"
                                ><p
                                  class="MuiTypography-root MuiTypography-p css-1i0m0sm"
                                >
                                  Math Utils
                                </p></a
                              ><a
                                href="#image-processing"
                                style="text-decoration:none;color:inherit;&amp;:visited:[object Object]"
                                ><p
                                  class="MuiTypography-root MuiTypography-p css-1i0m0sm"
                                >
                                  Image Processing
                                </p></a
                              ><a
                                href="#onnx-runtime-inference"
                                style="text-decoration:none;color:inherit;&amp;:visited:[object Object]"
                                ><p
                                  class="MuiTypography-root MuiTypography-p css-1i0m0sm"
                                >
                                  ONNX Runtime Inference
                                </p></a
                              ><a
                                href="#conclusion"
                                style="text-decoration:none;color:inherit;&amp;:visited:[object Object]"
                                ><p
                                  class="MuiTypography-root MuiTypography-p css-vmnodn"
                                >
                                  Conclusion
                                </p></a
                              >
                            </div>
                          </div>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
                <style data-emotion="css 8e7o3j">
                  .css-8e7o3j {
                    width: 100%;
                  }
                  @media (min-width: 0px) {
                    .css-8e7o3j {
                      display: none;
                    }
                  }
                  @media (min-width: 900px) {
                    .css-8e7o3j {
                      display: block;
                    }
                  }
                </style>
                <div class="MuiBox-root css-8e7o3j">
                  <style data-emotion="css 1npmiby">
                    .css-1npmiby {
                      margin: 0;
                      font-family: "Roboto", "Helvetica", "Arial", sans-serif;
                      font-weight: 400;
                      font-size: 1.5rem;
                      line-height: 1.334;
                      letter-spacing: 0em;
                      margin: 0px;
                      padding: 0px;
                    }
                  </style>
                  <h5 class="MuiTypography-root MuiTypography-h5 css-1npmiby">
                    Table of Contents
                  </h5>
                  <a
                    href="#the-model"
                    style="text-decoration:none;color:inherit;&amp;:visited:[object Object]"
                    ><p class="MuiTypography-root MuiTypography-p css-vmnodn">
                      The Model
                    </p></a
                  ><a
                    href="#getting-started"
                    style="text-decoration:none;color:inherit;&amp;:visited:[object Object]"
                    ><p class="MuiTypography-root MuiTypography-p css-vmnodn">
                      Getting Started
                    </p></a
                  ><a
                    href="#setup"
                    style="text-decoration:none;color:inherit;&amp;:visited:[object Object]"
                    ><p class="MuiTypography-root MuiTypography-p css-vmnodn">
                      Setup
                    </p></a
                  ><a
                    href="#the-home-page"
                    style="text-decoration:none;color:inherit;&amp;:visited:[object Object]"
                    ><p class="MuiTypography-root MuiTypography-p css-vmnodn">
                      The Home Page
                    </p></a
                  ><a
                    href="#running-inference"
                    style="text-decoration:none;color:inherit;&amp;:visited:[object Object]"
                    ><p class="MuiTypography-root MuiTypography-p css-vmnodn">
                      Running Inference
                    </p></a
                  ><a
                    href="#knowing-our-model"
                    style="text-decoration:none;color:inherit;&amp;:visited:[object Object]"
                    ><p class="MuiTypography-root MuiTypography-p css-1i0m0sm">
                      Knowing our Model
                    </p></a
                  ><a
                    href="#math-utils"
                    style="text-decoration:none;color:inherit;&amp;:visited:[object Object]"
                    ><p class="MuiTypography-root MuiTypography-p css-1i0m0sm">
                      Math Utils
                    </p></a
                  ><a
                    href="#image-processing"
                    style="text-decoration:none;color:inherit;&amp;:visited:[object Object]"
                    ><p class="MuiTypography-root MuiTypography-p css-1i0m0sm">
                      Image Processing
                    </p></a
                  ><a
                    href="#onnx-runtime-inference"
                    style="text-decoration:none;color:inherit;&amp;:visited:[object Object]"
                    ><p class="MuiTypography-root MuiTypography-p css-1i0m0sm">
                      ONNX Runtime Inference
                    </p></a
                  ><a
                    href="#conclusion"
                    style="text-decoration:none;color:inherit;&amp;:visited:[object Object]"
                    ><p class="MuiTypography-root MuiTypography-p css-vmnodn">
                      Conclusion
                    </p></a
                  >
                </div>
              </div>
            </div>
            <style data-emotion="css 4uwbp1">
              .css-4uwbp1 {
                box-sizing: border-box;
                margin: 0;
                -webkit-flex-direction: row;
                -ms-flex-direction: row;
                flex-direction: row;
                -webkit-flex-basis: 100%;
                -ms-flex-preferred-size: 100%;
                flex-basis: 100%;
                -webkit-box-flex: 0;
                -webkit-flex-grow: 0;
                -ms-flex-positive: 0;
                flex-grow: 0;
                max-width: 100%;
                background: linear-gradient(to right, #ffffff, #eeeeee);
                border-radius: 20px;
              }
              @media (min-width: 600px) {
                .css-4uwbp1 {
                  -webkit-flex-basis: 100%;
                  -ms-flex-preferred-size: 100%;
                  flex-basis: 100%;
                  -webkit-box-flex: 0;
                  -webkit-flex-grow: 0;
                  -ms-flex-positive: 0;
                  flex-grow: 0;
                  max-width: 100%;
                }
              }
              @media (min-width: 900px) {
                .css-4uwbp1 {
                  -webkit-flex-basis: 66.666667%;
                  -ms-flex-preferred-size: 66.666667%;
                  flex-basis: 66.666667%;
                  -webkit-box-flex: 0;
                  -webkit-flex-grow: 0;
                  -ms-flex-positive: 0;
                  flex-grow: 0;
                  max-width: 66.666667%;
                }
              }
              @media (min-width: 1200px) {
                .css-4uwbp1 {
                  -webkit-flex-basis: 75%;
                  -ms-flex-preferred-size: 75%;
                  flex-basis: 75%;
                  -webkit-box-flex: 0;
                  -webkit-flex-grow: 0;
                  -ms-flex-positive: 0;
                  flex-grow: 0;
                  max-width: 75%;
                }
              }
              @media (min-width: 1536px) {
                .css-4uwbp1 {
                  -webkit-flex-basis: 75%;
                  -ms-flex-preferred-size: 75%;
                  flex-basis: 75%;
                  -webkit-box-flex: 0;
                  -webkit-flex-grow: 0;
                  -ms-flex-positive: 0;
                  flex-grow: 0;
                  max-width: 75%;
                }
              }
            </style>
            <div
              class="MuiGrid-root MuiGrid-item MuiGrid-grid-xs-12 MuiGrid-grid-sm-12 MuiGrid-grid-md-8 MuiGrid-grid-lg-9 css-4uwbp1"
            >
              <style data-emotion="css 1zo2vp">
                .css-1zo2vp {
                  -webkit-flex: 1;
                  -ms-flex: 1;
                  flex: 1;
                  margin-right: 16px;
                }
              </style>
              <div class="MuiBox-root css-1zo2vp">
                <style data-emotion="css vsuld9">
                  .css-vsuld9 {
                    margin: 0;
                    text-align: justify;
                    margin-bottom: 16px;
                  }
                </style>
                <p class="MuiTypography-root MuiTypography-p css-vsuld9">
                  <style data-emotion="css ct9vl7">
                    .css-ct9vl7 {
                      -webkit-text-decoration: none;
                      text-decoration: none;
                    }
                    .css-ct9vl7:hover {
                      -webkit-text-decoration: underline;
                      text-decoration: underline;
                    }</style
                  ><style data-emotion="css 1vxruma">
                    .css-1vxruma {
                      margin: 0;
                      font: inherit;
                      color: #1976d2;
                      -webkit-text-decoration: none;
                      text-decoration: none;
                    }
                    .css-1vxruma:hover {
                      -webkit-text-decoration: underline;
                      text-decoration: underline;
                    }</style
                  ><a
                    class="MuiTypography-root MuiTypography-inherit MuiLink-root MuiLink-underlineHover css-1vxruma"
                    href="https://onnxruntime.ai"
                    rel="noopener noreferrer"
                    target="_blank"
                    >ONNX Runtime</a
                  >
                  allows us to easily run models exported to
                  <a
                    class="MuiTypography-root MuiTypography-inherit MuiLink-root MuiLink-underlineHover css-1vxruma"
                    href="https://onnx.ai/"
                    rel="noopener noreferrer"
                    target="_blank"
                    >ONNX</a
                  >
                  in multiple languages and on multiple platforms. Today,
                  we&#x27;ll use
                  <a
                    class="MuiTypography-root MuiTypography-inherit MuiLink-root MuiLink-underlineHover css-1vxruma"
                    href="https://www.npmjs.com/package/onnxruntime-web"
                    rel="noopener noreferrer"
                    target="_blank"
                    >onnxruntime-web</a
                  >
                  to run inference with our ONNX model in a React application.
                </p>
                <p class="MuiTypography-root MuiTypography-p css-vsuld9">
                  All the code for today&#x27;s project can be found in
                  <a
                    class="MuiTypography-root MuiTypography-inherit MuiLink-root MuiLink-underlineHover css-1vxruma"
                    href="https://github.com/AbhilakshSinghReen/drawn-digit-recognition/tree/main/frontends/react-via-onnx"
                    rel="noopener noreferrer"
                    target="_blank"
                    >this GitHub Repo</a
                  >.
                </p>
                <style data-emotion="css rg843f">
                  .css-rg843f {
                    margin: 0;
                    font-family: "Roboto", "Helvetica", "Arial", sans-serif;
                    font-weight: 400;
                    font-size: 2.125rem;
                    line-height: 1.235;
                    letter-spacing: 0.00735em;
                    margin-bottom: 16px;
                  }
                </style>
                <h1
                  class="MuiTypography-root MuiTypography-h4 css-rg843f"
                  id="the-model"
                >
                  <strong>The Model</strong>
                </h1>
                <p class="MuiTypography-root MuiTypography-p css-vsuld9">
                  The model we&#x27;ll be using today is a Convolutional Neural
                  Network trained using PyTorch and exported to ONNX. For a full
                  tutorial where we train and export the exact model we&#x27;ll
                  use today, check out
                  <a
                    class="MuiTypography-root MuiTypography-inherit MuiLink-root MuiLink-underlineHover css-1vxruma"
                    href="/ml-ops/torch-training-and-conversion-to-onnx"
                    >this Post</a
                  >.
                </p>
                <h1
                  class="MuiTypography-root MuiTypography-h4 css-rg843f"
                  id="getting-started"
                >
                  <strong>Getting Started</strong>
                </h1>
                <p class="MuiTypography-root MuiTypography-p css-vsuld9">
                  The most straightforward way of creating a React App with all
                  the necessary boilerplate is the
                  <style data-emotion="css 87x4qo">
                    .css-87x4qo {
                      padding-left: 4px;
                      padding-right: 4px;
                      border-radius: 4px;
                      background-color: rgb(227, 234, 242);
                    }</style
                  ><span class="MuiBox-root css-87x4qo">create-react-app</span>
                  utility. However, out of the box,
                  <span class="MuiBox-root css-87x4qo">create-react-app</span>
                  does not support Web Assembly, which is required by
                  <span class="MuiBox-root css-87x4qo">onnxruntime-web</span>.
                  There are multiple ways around this such as
                  <a
                    class="MuiTypography-root MuiTypography-inherit MuiLink-root MuiLink-underlineHover css-1vxruma"
                    href="https://stackoverflow.com/questions/58259904/can-you-load-modules-with-wasm-files-into-create-react-app"
                    rel="noopener noreferrer"
                    target="_blank"
                    >by using react-app-rewired</a
                  >
                  or by creating a react app without using
                  <span class="MuiBox-root css-87x4qo">create-react-app</span>.
                  But, there&#x27;s a much simpler way (at least for our
                  purpose) that we&#x27;ll be using today.
                </p>
                <h1
                  class="MuiTypography-root MuiTypography-h4 css-rg843f"
                  id="setup"
                >
                  <strong>Setup</strong>
                </h1>
                <p class="MuiTypography-root MuiTypography-p css-vsuld9">
                  In your project folder, create a new react app using
                  <span class="MuiBox-root css-87x4qo">cra</span>.
                </p>
                <style data-emotion="css dzaqf9">
                  .css-dzaqf9 {
                    width: 100%;
                    margin-bottom: 16px;
                  }
                </style>
                <div class="MuiBox-root css-dzaqf9">
                  <style data-emotion="css 125pbeb">
                    .css-125pbeb {
                      background-color: rgb(227, 234, 242);
                      width: 100%;
                      display: -webkit-box;
                      display: -webkit-flex;
                      display: -ms-flexbox;
                      display: flex;
                      -webkit-flex-direction: row;
                      -ms-flex-direction: row;
                      flex-direction: row;
                      -webkit-box-pack: end;
                      -ms-flex-pack: end;
                      -webkit-justify-content: flex-end;
                      justify-content: flex-end;
                      -webkit-align-items: center;
                      -webkit-box-align: center;
                      -ms-flex-align: center;
                      align-items: center;
                    }
                  </style>
                  <div class="MuiBox-root css-125pbeb">
                    <style data-emotion="css 1xdvxj1">
                      .css-1xdvxj1 {
                        text-align: center;
                        -webkit-flex: 0 0 auto;
                        -ms-flex: 0 0 auto;
                        flex: 0 0 auto;
                        font-size: 1.5rem;
                        padding: 8px;
                        border-radius: 50%;
                        overflow: visible;
                        color: rgba(0, 0, 0, 0.54);
                        -webkit-transition: background-color 150ms
                          cubic-bezier(0.4, 0, 0.2, 1) 0ms;
                        transition: background-color 150ms
                          cubic-bezier(0.4, 0, 0.2, 1) 0ms;
                        color: #1976d2;
                        padding: 12px;
                        font-size: 1.75rem;
                      }
                      .css-1xdvxj1:hover {
                        background-color: rgba(0, 0, 0, 0.04);
                      }
                      @media (hover: none) {
                        .css-1xdvxj1:hover {
                          background-color: transparent;
                        }
                      }
                      .css-1xdvxj1:hover {
                        background-color: rgba(25, 118, 210, 0.04);
                      }
                      @media (hover: none) {
                        .css-1xdvxj1:hover {
                          background-color: transparent;
                        }
                      }
                      .css-1xdvxj1.Mui-disabled {
                        background-color: transparent;
                        color: rgba(0, 0, 0, 0.26);
                      }</style
                    ><style data-emotion="css h1oho">
                      .css-h1oho {
                        display: -webkit-inline-box;
                        display: -webkit-inline-flex;
                        display: -ms-inline-flexbox;
                        display: inline-flex;
                        -webkit-align-items: center;
                        -webkit-box-align: center;
                        -ms-flex-align: center;
                        align-items: center;
                        -webkit-box-pack: center;
                        -ms-flex-pack: center;
                        -webkit-justify-content: center;
                        justify-content: center;
                        position: relative;
                        box-sizing: border-box;
                        -webkit-tap-highlight-color: transparent;
                        background-color: transparent;
                        outline: 0;
                        border: 0;
                        margin: 0;
                        border-radius: 0;
                        padding: 0;
                        cursor: pointer;
                        -webkit-user-select: none;
                        -moz-user-select: none;
                        -ms-user-select: none;
                        user-select: none;
                        vertical-align: middle;
                        -moz-appearance: none;
                        -webkit-appearance: none;
                        -webkit-text-decoration: none;
                        text-decoration: none;
                        color: inherit;
                        text-align: center;
                        -webkit-flex: 0 0 auto;
                        -ms-flex: 0 0 auto;
                        flex: 0 0 auto;
                        font-size: 1.5rem;
                        padding: 8px;
                        border-radius: 50%;
                        overflow: visible;
                        color: rgba(0, 0, 0, 0.54);
                        -webkit-transition: background-color 150ms
                          cubic-bezier(0.4, 0, 0.2, 1) 0ms;
                        transition: background-color 150ms
                          cubic-bezier(0.4, 0, 0.2, 1) 0ms;
                        color: #1976d2;
                        padding: 12px;
                        font-size: 1.75rem;
                      }
                      .css-h1oho::-moz-focus-inner {
                        border-style: none;
                      }
                      .css-h1oho.Mui-disabled {
                        pointer-events: none;
                        cursor: default;
                      }
                      @media print {
                        .css-h1oho {
                          -webkit-print-color-adjust: exact;
                          color-adjust: exact;
                        }
                      }
                      .css-h1oho:hover {
                        background-color: rgba(0, 0, 0, 0.04);
                      }
                      @media (hover: none) {
                        .css-h1oho:hover {
                          background-color: transparent;
                        }
                      }
                      .css-h1oho:hover {
                        background-color: rgba(25, 118, 210, 0.04);
                      }
                      @media (hover: none) {
                        .css-h1oho:hover {
                          background-color: transparent;
                        }
                      }
                      .css-h1oho.Mui-disabled {
                        background-color: transparent;
                        color: rgba(0, 0, 0, 0.26);
                      }</style
                    ><button
                      class="MuiButtonBase-root MuiIconButton-root MuiIconButton-colorPrimary MuiIconButton-sizeLarge css-h1oho"
                      tabindex="0"
                      type="button"
                    >
                      <svg
                        class="MuiSvgIcon-root MuiSvgIcon-fontSizeMedium css-vubbuv"
                        focusable="false"
                        aria-hidden="true"
                        viewBox="0 0 24 24"
                        data-testid="ContentCopyIcon"
                      >
                        <path
                          d="M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12zm3 4H8c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h11c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2m0 16H8V7h11z"
                        ></path>
                      </svg>
                    </button>
                  </div>
                  <pre
                    style="
                      color: #111b27;
                      background: #e3eaf2;
                      font-family: Consolas, Monaco, &quot;Andale Mono&quot;,
                        &quot;Ubuntu Mono&quot;, monospace;
                      text-align: left;
                      white-space: pre;
                      word-spacing: normal;
                      word-break: normal;
                      word-wrap: normal;
                      line-height: 1.5;
                      -moz-tab-size: 4;
                      -o-tab-size: 4;
                      tab-size: 4;
                      -webkit-hyphens: none;
                      -moz-hyphens: none;
                      -ms-hyphens: none;
                      hyphens: none;
                      padding: 1em;
                      margin: 0;
                      overflow: auto;
                    "
                  ><code class="language-bash" style="color:#111b27;background:none;font-family:Consolas, Monaco, &quot;Andale Mono&quot;, &quot;Ubuntu Mono&quot;, monospace;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none"><span>npx create-react-app react-onnx-inference</span></code></pre>
                </div>
                <p class="MuiTypography-root MuiTypography-p css-vsuld9">
                  This will create a new folder called
                  <span class="MuiBox-root css-87x4qo"
                    >react-onnx-inference</span
                  >
                  in the current directory.
                  <span class="MuiBox-root css-87x4qo">cd</span> into this
                  folder and install the following packages.
                </p>
                <div class="MuiBox-root css-dzaqf9">
                  <div class="MuiBox-root css-125pbeb">
                    <button
                      class="MuiButtonBase-root MuiIconButton-root MuiIconButton-colorPrimary MuiIconButton-sizeLarge css-h1oho"
                      tabindex="0"
                      type="button"
                    >
                      <svg
                        class="MuiSvgIcon-root MuiSvgIcon-fontSizeMedium css-vubbuv"
                        focusable="false"
                        aria-hidden="true"
                        viewBox="0 0 24 24"
                        data-testid="ContentCopyIcon"
                      >
                        <path
                          d="M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12zm3 4H8c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h11c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2m0 16H8V7h11z"
                        ></path>
                      </svg>
                    </button>
                  </div>
                  <pre
                    style="
                      color: #111b27;
                      background: #e3eaf2;
                      font-family: Consolas, Monaco, &quot;Andale Mono&quot;,
                        &quot;Ubuntu Mono&quot;, monospace;
                      text-align: left;
                      white-space: pre;
                      word-spacing: normal;
                      word-break: normal;
                      word-wrap: normal;
                      line-height: 1.5;
                      -moz-tab-size: 4;
                      -o-tab-size: 4;
                      tab-size: 4;
                      -webkit-hyphens: none;
                      -moz-hyphens: none;
                      -ms-hyphens: none;
                      hyphens: none;
                      padding: 1em;
                      margin: 0;
                      overflow: auto;
                    "
                  ><code class="language-bash" style="color:#111b27;background:none;font-family:Consolas, Monaco, &quot;Andale Mono&quot;, &quot;Ubuntu Mono&quot;, monospace;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none"><span class="token" style="color:#7c00aa">npm</span><span> </span><span class="token" style="color:#7c00aa">install</span><span> react-konva onnxruntime-web</span></code></pre>
                </div>
                <p class="MuiTypography-root MuiTypography-p css-vsuld9">
                  Konva is a 2D Canvas Library for JavaScript that we&#x27;ll
                  use to draw images of digits and then get our model to make
                  predictions on them.
                </p>
                <p class="MuiTypography-root MuiTypography-p css-vsuld9">
                  After the installation, there is a bit of a hack that we need
                  to perform to get
                  <span class="MuiBox-root css-87x4qo">onnxruntime-web</span>
                  running in our
                  <span class="MuiBox-root css-87x4qo">cra</span> application.
                  Head to
                  <span class="MuiBox-root css-87x4qo"
                    >node_modules/onnxruntime-web/dist</span
                  >
                  and copy all the files ending in
                  <span class="MuiBox-root css-87x4qo">.wasm</span>. We&#x27;ll
                  paste these in
                  <span class="MuiBox-root css-87x4qo">public/static/js</span>
                  (you&#x27;ll have to create the
                  <span class="MuiBox-root css-87x4qo">static/js</span>
                  folders). That&#x27;s it. Now we can easily use
                  <span class="MuiBox-root css-87x4qo">onnxruntime-web</span>.
                </p>
                <h1
                  class="MuiTypography-root MuiTypography-h4 css-rg843f"
                  id="the-home-page"
                >
                  <strong>The Home Page</strong>
                </h1>
                <p class="MuiTypography-root MuiTypography-p css-vsuld9">
                  Inside the
                  <span class="MuiBox-root css-87x4qo">src</span> directory,
                  create a new folder called
                  <span class="MuiBox-root css-87x4qo">pages</span> and inside
                  it create a file called
                  <span class="MuiBox-root css-87x4qo">Home.jsx</span>.
                  Let&#x27;s add a simple component here for now.
                </p>
                <div class="MuiBox-root css-dzaqf9">
                  <div class="MuiBox-root css-125pbeb">
                    <button
                      class="MuiButtonBase-root MuiIconButton-root MuiIconButton-colorPrimary MuiIconButton-sizeLarge css-h1oho"
                      tabindex="0"
                      type="button"
                    >
                      <svg
                        class="MuiSvgIcon-root MuiSvgIcon-fontSizeMedium css-vubbuv"
                        focusable="false"
                        aria-hidden="true"
                        viewBox="0 0 24 24"
                        data-testid="ContentCopyIcon"
                      >
                        <path
                          d="M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12zm3 4H8c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h11c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2m0 16H8V7h11z"
                        ></path>
                      </svg>
                    </button>
                  </div>
                  <pre
                    style="
                      color: #111b27;
                      background: #e3eaf2;
                      font-family: Consolas, Monaco, &quot;Andale Mono&quot;,
                        &quot;Ubuntu Mono&quot;, monospace;
                      text-align: left;
                      white-space: pre;
                      word-spacing: normal;
                      word-break: normal;
                      word-wrap: normal;
                      line-height: 1.5;
                      -moz-tab-size: 4;
                      -o-tab-size: 4;
                      tab-size: 4;
                      -webkit-hyphens: none;
                      -moz-hyphens: none;
                      -ms-hyphens: none;
                      hyphens: none;
                      padding: 1em;
                      margin: 0;
                      overflow: auto;
                    "
                  ><code class="language-javascript" style="color:#111b27;background:none;font-family:Consolas, Monaco, &quot;Andale Mono&quot;, &quot;Ubuntu Mono&quot;, monospace;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none"><span class="token module" style="color:#a04900">export</span><span> </span><span class="token module" style="color:#a04900">default</span><span> </span><span class="token" style="color:#a04900">function</span><span> </span><span class="token maybe-class-name" style="color:#7c00aa">Home</span><span class="token" style="color:#111b27">(</span><span class="token" style="color:#111b27">)</span><span> </span><span class="token" style="color:#111b27">{</span><span>
</span><span>  </span><span class="token control-flow" style="color:#a04900">return</span><span> </span><span class="token" style="color:#111b27">(</span><span>
</span><span>    </span><span class="token" style="color:#a04900">&lt;</span><span>div</span><span class="token" style="color:#a04900">&gt;</span><span class="token maybe-class-name">Home</span><span class="token" style="color:#a04900">&lt;</span><span class="token" style="color:#a04900">/</span><span>div</span><span class="token" style="color:#a04900">&gt;</span><span>
</span><span>  </span><span class="token" style="color:#111b27">)</span><span>
</span><span></span><span class="token" style="color:#111b27">}</span></code></pre>
                </div>
                <p class="MuiTypography-root MuiTypography-p css-vsuld9">
                  Now, head to
                  <span class="MuiBox-root css-87x4qo">src/App.js</span>, delete
                  everything, and add the following code:
                </p>
                <div class="MuiBox-root css-dzaqf9">
                  <div class="MuiBox-root css-125pbeb">
                    <button
                      class="MuiButtonBase-root MuiIconButton-root MuiIconButton-colorPrimary MuiIconButton-sizeLarge css-h1oho"
                      tabindex="0"
                      type="button"
                    >
                      <svg
                        class="MuiSvgIcon-root MuiSvgIcon-fontSizeMedium css-vubbuv"
                        focusable="false"
                        aria-hidden="true"
                        viewBox="0 0 24 24"
                        data-testid="ContentCopyIcon"
                      >
                        <path
                          d="M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12zm3 4H8c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h11c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2m0 16H8V7h11z"
                        ></path>
                      </svg>
                    </button>
                  </div>
                  <pre
                    style="
                      color: #111b27;
                      background: #e3eaf2;
                      font-family: Consolas, Monaco, &quot;Andale Mono&quot;,
                        &quot;Ubuntu Mono&quot;, monospace;
                      text-align: left;
                      white-space: pre;
                      word-spacing: normal;
                      word-break: normal;
                      word-wrap: normal;
                      line-height: 1.5;
                      -moz-tab-size: 4;
                      -o-tab-size: 4;
                      tab-size: 4;
                      -webkit-hyphens: none;
                      -moz-hyphens: none;
                      -ms-hyphens: none;
                      hyphens: none;
                      padding: 1em;
                      margin: 0;
                      overflow: auto;
                    "
                  ><code class="language-javascript" style="color:#111b27;background:none;font-family:Consolas, Monaco, &quot;Andale Mono&quot;, &quot;Ubuntu Mono&quot;, monospace;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none"><span class="token module" style="color:#a04900">import</span><span> </span><span class="token imports maybe-class-name">Home</span><span> </span><span class="token module" style="color:#a04900">from</span><span> </span><span class="token" style="color:#116b00">&quot;./pages/Home&quot;</span><span class="token" style="color:#111b27">;</span><span>
</span>
<span></span><span class="token module" style="color:#a04900">export</span><span> </span><span class="token module" style="color:#a04900">default</span><span> </span><span class="token" style="color:#a04900">function</span><span> </span><span class="token maybe-class-name" style="color:#7c00aa">App</span><span class="token" style="color:#111b27">(</span><span class="token" style="color:#111b27">)</span><span> </span><span class="token" style="color:#111b27">{</span><span>
</span><span>  </span><span class="token control-flow" style="color:#a04900">return</span><span> </span><span class="token" style="color:#111b27">(</span><span>
</span><span>    </span><span class="token" style="color:#a04900">&lt;</span><span>div className</span><span class="token" style="color:#a04900">=</span><span class="token" style="color:#116b00">&quot;App&quot;</span><span class="token" style="color:#a04900">&gt;</span><span>
</span><span>      </span><span class="token" style="color:#a04900">&lt;</span><span class="token maybe-class-name">Home</span><span> </span><span class="token" style="color:#a04900">/</span><span class="token" style="color:#a04900">&gt;</span><span>
</span><span>    </span><span class="token" style="color:#a04900">&lt;</span><span class="token" style="color:#a04900">/</span><span>div</span><span class="token" style="color:#a04900">&gt;</span><span>
</span><span>  </span><span class="token" style="color:#111b27">)</span><span class="token" style="color:#111b27">;</span><span>
</span><span></span><span class="token" style="color:#111b27">}</span></code></pre>
                </div>
                <p class="MuiTypography-root MuiTypography-p css-vsuld9">
                  We can now try running the application
                </p>
                <div class="MuiBox-root css-dzaqf9">
                  <div class="MuiBox-root css-125pbeb">
                    <button
                      class="MuiButtonBase-root MuiIconButton-root MuiIconButton-colorPrimary MuiIconButton-sizeLarge css-h1oho"
                      tabindex="0"
                      type="button"
                    >
                      <svg
                        class="MuiSvgIcon-root MuiSvgIcon-fontSizeMedium css-vubbuv"
                        focusable="false"
                        aria-hidden="true"
                        viewBox="0 0 24 24"
                        data-testid="ContentCopyIcon"
                      >
                        <path
                          d="M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12zm3 4H8c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h11c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2m0 16H8V7h11z"
                        ></path>
                      </svg>
                    </button>
                  </div>
                  <pre
                    style="
                      color: #111b27;
                      background: #e3eaf2;
                      font-family: Consolas, Monaco, &quot;Andale Mono&quot;,
                        &quot;Ubuntu Mono&quot;, monospace;
                      text-align: left;
                      white-space: pre;
                      word-spacing: normal;
                      word-break: normal;
                      word-wrap: normal;
                      line-height: 1.5;
                      -moz-tab-size: 4;
                      -o-tab-size: 4;
                      tab-size: 4;
                      -webkit-hyphens: none;
                      -moz-hyphens: none;
                      -ms-hyphens: none;
                      hyphens: none;
                      padding: 1em;
                      margin: 0;
                      overflow: auto;
                    "
                  ><code class="language-bash" style="color:#111b27;background:none;font-family:Consolas, Monaco, &quot;Andale Mono&quot;, &quot;Ubuntu Mono&quot;, monospace;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none"><span class="token" style="color:#7c00aa">npm</span><span> start</span></code></pre>
                </div>
                <p class="MuiTypography-root MuiTypography-p css-vsuld9">
                  Head to
                  <span class="MuiBox-root css-87x4qo">localhost:3000</span> in
                  your web browser (if it doesn&#x27;t open automatically). You
                  should see a page with the text &quot;Home&quot; on it.
                </p>
                <p class="MuiTypography-root MuiTypography-p css-vsuld9">
                  Great! We can now start making changes to this page and add
                  our canvas for drawing.
                </p>
                <div class="MuiBox-root css-dzaqf9">
                  <div class="MuiBox-root css-125pbeb">
                    <button
                      class="MuiButtonBase-root MuiIconButton-root MuiIconButton-colorPrimary MuiIconButton-sizeLarge css-h1oho"
                      tabindex="0"
                      type="button"
                    >
                      <svg
                        class="MuiSvgIcon-root MuiSvgIcon-fontSizeMedium css-vubbuv"
                        focusable="false"
                        aria-hidden="true"
                        viewBox="0 0 24 24"
                        data-testid="ContentCopyIcon"
                      >
                        <path
                          d="M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12zm3 4H8c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h11c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2m0 16H8V7h11z"
                        ></path>
                      </svg>
                    </button>
                  </div>
                  <pre
                    style="
                      color: #111b27;
                      background: #e3eaf2;
                      font-family: Consolas, Monaco, &quot;Andale Mono&quot;,
                        &quot;Ubuntu Mono&quot;, monospace;
                      text-align: left;
                      white-space: pre;
                      word-spacing: normal;
                      word-break: normal;
                      word-wrap: normal;
                      line-height: 1.5;
                      -moz-tab-size: 4;
                      -o-tab-size: 4;
                      tab-size: 4;
                      -webkit-hyphens: none;
                      -moz-hyphens: none;
                      -ms-hyphens: none;
                      hyphens: none;
                      padding: 1em;
                      margin: 0;
                      overflow: auto;
                    "
                  ><code class="language-javascript" style="color:#111b27;background:none;font-family:Consolas, Monaco, &quot;Andale Mono&quot;, &quot;Ubuntu Mono&quot;, monospace;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none"><span class="token module" style="color:#a04900">import</span><span> </span><span class="token imports" style="color:#111b27">{</span><span class="token imports"> useRef</span><span class="token imports" style="color:#111b27">,</span><span class="token imports"> useState </span><span class="token imports" style="color:#111b27">}</span><span> </span><span class="token module" style="color:#a04900">from</span><span> </span><span class="token" style="color:#116b00">&quot;react&quot;</span><span class="token" style="color:#111b27">;</span><span>
</span><span></span><span class="token module" style="color:#a04900">import</span><span> </span><span class="token imports" style="color:#111b27">{</span><span class="token imports"> </span><span class="token imports maybe-class-name">Stage</span><span class="token imports" style="color:#111b27">,</span><span class="token imports"> </span><span class="token imports maybe-class-name">Layer</span><span class="token imports" style="color:#111b27">,</span><span class="token imports"> </span><span class="token imports maybe-class-name">Line</span><span class="token imports"> </span><span class="token imports" style="color:#111b27">}</span><span> </span><span class="token module" style="color:#a04900">from</span><span> </span><span class="token" style="color:#116b00">&quot;react-konva&quot;</span><span class="token" style="color:#111b27">;</span><span>
</span>
<span></span><span class="token module" style="color:#a04900">import</span><span> </span><span class="token imports">runInference</span><span> </span><span class="token module" style="color:#a04900">from</span><span> </span><span class="token" style="color:#116b00">&quot;../inferencing/onnx&quot;</span><span class="token" style="color:#111b27">;</span><span>
</span>
<span></span><span class="token module" style="color:#a04900">export</span><span> </span><span class="token module" style="color:#a04900">default</span><span> </span><span class="token" style="color:#a04900">function</span><span> </span><span class="token maybe-class-name" style="color:#7c00aa">Home</span><span class="token" style="color:#111b27">(</span><span class="token" style="color:#111b27">)</span><span> </span><span class="token" style="color:#111b27">{</span><span>
</span><span>  </span><span class="token" style="color:#a04900">const</span><span> stageSize </span><span class="token" style="color:#a04900">=</span><span> </span><span class="token known-class-name" style="color:#005a8e">Math</span><span class="token" style="color:#111b27">.</span><span class="token method" style="color:#005a8e">min</span><span class="token" style="color:#111b27">(</span><span class="token dom" style="color:#005a8e">window</span><span class="token" style="color:#111b27">.</span><span class="token" style="color:#005a8e">innerWidth</span><span> </span><span class="token" style="color:#a04900">*</span><span> </span><span class="token" style="color:#755f00">0.9</span><span class="token" style="color:#111b27">,</span><span> </span><span class="token dom" style="color:#005a8e">window</span><span class="token" style="color:#111b27">.</span><span class="token" style="color:#005a8e">innerHeight</span><span> </span><span class="token" style="color:#a04900">*</span><span> </span><span class="token" style="color:#755f00">0.5</span><span class="token" style="color:#111b27">)</span><span class="token" style="color:#111b27">;</span><span>
</span>
<span>  </span><span class="token" style="color:#a04900">const</span><span> </span><span class="token" style="color:#111b27">[</span><span>tool</span><span class="token" style="color:#111b27">,</span><span> setTool</span><span class="token" style="color:#111b27">]</span><span> </span><span class="token" style="color:#a04900">=</span><span> </span><span class="token" style="color:#7c00aa">useState</span><span class="token" style="color:#111b27">(</span><span class="token" style="color:#116b00">&quot;pen&quot;</span><span class="token" style="color:#111b27">)</span><span class="token" style="color:#111b27">;</span><span>
</span><span>  </span><span class="token" style="color:#a04900">const</span><span> </span><span class="token" style="color:#111b27">[</span><span>lines</span><span class="token" style="color:#111b27">,</span><span> setLines</span><span class="token" style="color:#111b27">]</span><span> </span><span class="token" style="color:#a04900">=</span><span> </span><span class="token" style="color:#7c00aa">useState</span><span class="token" style="color:#111b27">(</span><span class="token" style="color:#111b27">[</span><span class="token" style="color:#111b27">]</span><span class="token" style="color:#111b27">)</span><span class="token" style="color:#111b27">;</span><span>
</span><span>  </span><span class="token" style="color:#a04900">const</span><span> </span><span class="token" style="color:#111b27">[</span><span>strokeWidth</span><span class="token" style="color:#111b27">,</span><span> setStrokeWidth</span><span class="token" style="color:#111b27">]</span><span> </span><span class="token" style="color:#a04900">=</span><span> </span><span class="token" style="color:#7c00aa">useState</span><span class="token" style="color:#111b27">(</span><span class="token" style="color:#755f00">15</span><span class="token" style="color:#111b27">)</span><span class="token" style="color:#111b27">;</span><span>
</span><span>  </span><span class="token" style="color:#a04900">const</span><span> </span><span class="token" style="color:#111b27">[</span><span>prediction</span><span class="token" style="color:#111b27">,</span><span> setPrediction</span><span class="token" style="color:#111b27">]</span><span> </span><span class="token" style="color:#a04900">=</span><span> </span><span class="token" style="color:#7c00aa">useState</span><span class="token" style="color:#111b27">(</span><span class="token null nil" style="color:#a04900">null</span><span class="token" style="color:#111b27">)</span><span class="token" style="color:#111b27">;</span><span>
</span>
<span>  </span><span class="token" style="color:#a04900">const</span><span> stageRef </span><span class="token" style="color:#a04900">=</span><span> </span><span class="token" style="color:#7c00aa">useRef</span><span class="token" style="color:#111b27">(</span><span class="token null nil" style="color:#a04900">null</span><span class="token" style="color:#111b27">)</span><span class="token" style="color:#111b27">;</span><span>
</span><span>  </span><span class="token" style="color:#a04900">const</span><span> isDrawing </span><span class="token" style="color:#a04900">=</span><span> </span><span class="token" style="color:#7c00aa">useRef</span><span class="token" style="color:#111b27">(</span><span class="token" style="color:#755f00">false</span><span class="token" style="color:#111b27">)</span><span class="token" style="color:#111b27">;</span><span>
</span>
<span>  </span><span class="token" style="color:#a04900">const</span><span> </span><span class="token function-variable" style="color:#7c00aa">handleMouseDown</span><span> </span><span class="token" style="color:#a04900">=</span><span> </span><span class="token" style="color:#111b27">(</span><span class="token" style="color:#005a8e">e</span><span class="token" style="color:#111b27">)</span><span> </span><span class="token arrow" style="color:#a04900">=&gt;</span><span> </span><span class="token" style="color:#111b27">{</span><span>
</span><span>    isDrawing</span><span class="token" style="color:#111b27">.</span><span class="token" style="color:#005a8e">current</span><span> </span><span class="token" style="color:#a04900">=</span><span> </span><span class="token" style="color:#755f00">true</span><span class="token" style="color:#111b27">;</span><span>
</span><span>    </span><span class="token" style="color:#a04900">const</span><span> pos </span><span class="token" style="color:#a04900">=</span><span> e</span><span class="token" style="color:#111b27">.</span><span class="token" style="color:#005a8e">target</span><span class="token" style="color:#111b27">.</span><span class="token method" style="color:#005a8e">getStage</span><span class="token" style="color:#111b27">(</span><span class="token" style="color:#111b27">)</span><span class="token" style="color:#111b27">.</span><span class="token method" style="color:#005a8e">getPointerPosition</span><span class="token" style="color:#111b27">(</span><span class="token" style="color:#111b27">)</span><span class="token" style="color:#111b27">;</span><span>
</span><span>    </span><span class="token" style="color:#7c00aa">setLines</span><span class="token" style="color:#111b27">(</span><span class="token" style="color:#111b27">[</span><span class="token spread" style="color:#a04900">...</span><span>lines</span><span class="token" style="color:#111b27">,</span><span> </span><span class="token" style="color:#111b27">{</span><span> tool</span><span class="token" style="color:#111b27">,</span><span> strokeWidth</span><span class="token" style="color:#111b27">,</span><span> </span><span class="token literal-property" style="color:#005a8e">points</span><span class="token" style="color:#a04900">:</span><span> </span><span class="token" style="color:#111b27">[</span><span>pos</span><span class="token" style="color:#111b27">.</span><span class="token" style="color:#005a8e">x</span><span class="token" style="color:#111b27">,</span><span> pos</span><span class="token" style="color:#111b27">.</span><span class="token" style="color:#005a8e">y</span><span class="token" style="color:#111b27">]</span><span> </span><span class="token" style="color:#111b27">}</span><span class="token" style="color:#111b27">]</span><span class="token" style="color:#111b27">)</span><span class="token" style="color:#111b27">;</span><span>
</span>
<span>    </span><span class="token" style="color:#7c00aa">setPrediction</span><span class="token" style="color:#111b27">(</span><span class="token null nil" style="color:#a04900">null</span><span class="token" style="color:#111b27">)</span><span class="token" style="color:#111b27">;</span><span>
</span><span>  </span><span class="token" style="color:#111b27">}</span><span class="token" style="color:#111b27">;</span><span>
</span>
<span>  </span><span class="token" style="color:#a04900">const</span><span> </span><span class="token function-variable" style="color:#7c00aa">handleMouseMove</span><span> </span><span class="token" style="color:#a04900">=</span><span> </span><span class="token" style="color:#111b27">(</span><span class="token" style="color:#005a8e">e</span><span class="token" style="color:#111b27">)</span><span> </span><span class="token arrow" style="color:#a04900">=&gt;</span><span> </span><span class="token" style="color:#111b27">{</span><span>
</span><span>    </span><span class="token control-flow" style="color:#a04900">if</span><span> </span><span class="token" style="color:#111b27">(</span><span class="token" style="color:#a04900">!</span><span>isDrawing</span><span class="token" style="color:#111b27">.</span><span class="token" style="color:#005a8e">current</span><span class="token" style="color:#111b27">)</span><span> </span><span class="token" style="color:#111b27">{</span><span>
</span><span>      </span><span class="token control-flow" style="color:#a04900">return</span><span class="token" style="color:#111b27">;</span><span>
</span><span>    </span><span class="token" style="color:#111b27">}</span><span>
</span>
<span>    </span><span class="token" style="color:#a04900">const</span><span> stage </span><span class="token" style="color:#a04900">=</span><span> e</span><span class="token" style="color:#111b27">.</span><span class="token" style="color:#005a8e">target</span><span class="token" style="color:#111b27">.</span><span class="token method" style="color:#005a8e">getStage</span><span class="token" style="color:#111b27">(</span><span class="token" style="color:#111b27">)</span><span class="token" style="color:#111b27">;</span><span>
</span><span>    </span><span class="token" style="color:#a04900">const</span><span> point </span><span class="token" style="color:#a04900">=</span><span> stage</span><span class="token" style="color:#111b27">.</span><span class="token method" style="color:#005a8e">getPointerPosition</span><span class="token" style="color:#111b27">(</span><span class="token" style="color:#111b27">)</span><span class="token" style="color:#111b27">;</span><span>
</span><span>    </span><span class="token" style="color:#a04900">let</span><span> lastLine </span><span class="token" style="color:#a04900">=</span><span> lines</span><span class="token" style="color:#111b27">[</span><span>lines</span><span class="token" style="color:#111b27">.</span><span class="token" style="color:#005a8e">length</span><span> </span><span class="token" style="color:#a04900">-</span><span> </span><span class="token" style="color:#755f00">1</span><span class="token" style="color:#111b27">]</span><span class="token" style="color:#111b27">;</span><span>
</span>
<span>    lastLine</span><span class="token" style="color:#111b27">.</span><span class="token" style="color:#005a8e">points</span><span> </span><span class="token" style="color:#a04900">=</span><span> lastLine</span><span class="token" style="color:#111b27">.</span><span class="token" style="color:#005a8e">points</span><span class="token" style="color:#111b27">.</span><span class="token method" style="color:#005a8e">concat</span><span class="token" style="color:#111b27">(</span><span class="token" style="color:#111b27">[</span><span>point</span><span class="token" style="color:#111b27">.</span><span class="token" style="color:#005a8e">x</span><span class="token" style="color:#111b27">,</span><span> point</span><span class="token" style="color:#111b27">.</span><span class="token" style="color:#005a8e">y</span><span class="token" style="color:#111b27">]</span><span class="token" style="color:#111b27">)</span><span class="token" style="color:#111b27">;</span><span>
</span>
<span>    lines</span><span class="token" style="color:#111b27">.</span><span class="token method" style="color:#005a8e">splice</span><span class="token" style="color:#111b27">(</span><span>lines</span><span class="token" style="color:#111b27">.</span><span class="token" style="color:#005a8e">length</span><span> </span><span class="token" style="color:#a04900">-</span><span> </span><span class="token" style="color:#755f00">1</span><span class="token" style="color:#111b27">,</span><span> </span><span class="token" style="color:#755f00">1</span><span class="token" style="color:#111b27">,</span><span> lastLine</span><span class="token" style="color:#111b27">)</span><span class="token" style="color:#111b27">;</span><span>
</span><span>    </span><span class="token" style="color:#7c00aa">setLines</span><span class="token" style="color:#111b27">(</span><span>lines</span><span class="token" style="color:#111b27">.</span><span class="token method" style="color:#005a8e">concat</span><span class="token" style="color:#111b27">(</span><span class="token" style="color:#111b27">)</span><span class="token" style="color:#111b27">)</span><span class="token" style="color:#111b27">;</span><span>
</span><span>  </span><span class="token" style="color:#111b27">}</span><span class="token" style="color:#111b27">;</span><span>
</span>
<span>  </span><span class="token" style="color:#a04900">const</span><span> </span><span class="token function-variable" style="color:#7c00aa">handleMouseUp</span><span> </span><span class="token" style="color:#a04900">=</span><span> </span><span class="token" style="color:#111b27">(</span><span class="token" style="color:#111b27">)</span><span> </span><span class="token arrow" style="color:#a04900">=&gt;</span><span> </span><span class="token" style="color:#111b27">{</span><span>
</span><span>    isDrawing</span><span class="token" style="color:#111b27">.</span><span class="token" style="color:#005a8e">current</span><span> </span><span class="token" style="color:#a04900">=</span><span> </span><span class="token" style="color:#755f00">false</span><span class="token" style="color:#111b27">;</span><span>
</span><span>  </span><span class="token" style="color:#111b27">}</span><span class="token" style="color:#111b27">;</span><span>
</span>
<span>  </span><span class="token" style="color:#a04900">const</span><span> </span><span class="token function-variable" style="color:#7c00aa">handlePredictButtonClick</span><span> </span><span class="token" style="color:#a04900">=</span><span> </span><span class="token" style="color:#a04900">async</span><span> </span><span class="token" style="color:#111b27">(</span><span class="token" style="color:#005a8e">e</span><span class="token" style="color:#111b27">)</span><span> </span><span class="token arrow" style="color:#a04900">=&gt;</span><span> </span><span class="token" style="color:#111b27">{</span><span>
</span><span>    </span><span class="token" style="color:#a04900">const</span><span> imageDataUri </span><span class="token" style="color:#a04900">=</span><span> stageRef</span><span class="token" style="color:#111b27">.</span><span class="token" style="color:#005a8e">current</span><span class="token" style="color:#111b27">.</span><span class="token method" style="color:#005a8e">toDataURL</span><span class="token" style="color:#111b27">(</span><span class="token" style="color:#111b27">)</span><span class="token" style="color:#111b27">;</span><span>
</span>
<span>    </span><span class="token" style="color:#a04900">const</span><span> prediction </span><span class="token" style="color:#a04900">=</span><span> </span><span class="token control-flow" style="color:#a04900">await</span><span> </span><span class="token" style="color:#7c00aa">runInference</span><span class="token" style="color:#111b27">(</span><span>imageDataUri</span><span class="token" style="color:#111b27">)</span><span class="token" style="color:#111b27">;</span><span>
</span><span>    </span><span class="token" style="color:#7c00aa">setPrediction</span><span class="token" style="color:#111b27">(</span><span>prediction</span><span class="token" style="color:#111b27">)</span><span class="token" style="color:#111b27">;</span><span>
</span><span>  </span><span class="token" style="color:#111b27">}</span><span class="token" style="color:#111b27">;</span><span>
</span>
<span>  </span><span class="token control-flow" style="color:#a04900">return</span><span> </span><span class="token" style="color:#111b27">(</span><span>
</span><span>    </span><span class="token" style="color:#a04900">&lt;</span><span>div
</span><span>      style</span><span class="token" style="color:#a04900">=</span><span class="token" style="color:#111b27">{</span><span class="token" style="color:#111b27">{</span><span>
</span><span>        </span><span class="token literal-property" style="color:#005a8e">width</span><span class="token" style="color:#a04900">:</span><span> </span><span class="token" style="color:#116b00">&quot;100%&quot;</span><span class="token" style="color:#111b27">,</span><span>
</span><span>        </span><span class="token literal-property" style="color:#005a8e">display</span><span class="token" style="color:#a04900">:</span><span> </span><span class="token" style="color:#116b00">&quot;flex&quot;</span><span class="token" style="color:#111b27">,</span><span>
</span><span>        </span><span class="token literal-property" style="color:#005a8e">flexDirection</span><span class="token" style="color:#a04900">:</span><span> </span><span class="token" style="color:#116b00">&quot;column&quot;</span><span class="token" style="color:#111b27">,</span><span>
</span><span>        </span><span class="token literal-property" style="color:#005a8e">justifyContent</span><span class="token" style="color:#a04900">:</span><span> </span><span class="token" style="color:#116b00">&quot;flex-start&quot;</span><span class="token" style="color:#111b27">,</span><span>
</span><span>        </span><span class="token literal-property" style="color:#005a8e">alignItems</span><span class="token" style="color:#a04900">:</span><span> </span><span class="token" style="color:#116b00">&quot;center&quot;</span><span class="token" style="color:#111b27">,</span><span>
</span><span>      </span><span class="token" style="color:#111b27">}</span><span class="token" style="color:#111b27">}</span><span>
</span><span>    </span><span class="token" style="color:#a04900">&gt;</span><span>
</span><span>      </span><span class="token" style="color:#a04900">&lt;</span><span>h1</span><span class="token" style="color:#a04900">&gt;</span><span class="token maybe-class-name">Drawn</span><span> </span><span class="token maybe-class-name">Digit</span><span> </span><span class="token maybe-class-name">Prediction</span><span class="token" style="color:#a04900">&lt;</span><span class="token" style="color:#a04900">/</span><span>h1</span><span class="token" style="color:#a04900">&gt;</span><span>
</span>
<span>      </span><span class="token" style="color:#a04900">&lt;</span><span class="token maybe-class-name">Stage</span><span>
</span><span>        ref</span><span class="token" style="color:#a04900">=</span><span class="token" style="color:#111b27">{</span><span>stageRef</span><span class="token" style="color:#111b27">}</span><span>
</span><span>        width</span><span class="token" style="color:#a04900">=</span><span class="token" style="color:#111b27">{</span><span>stageSize</span><span class="token" style="color:#111b27">}</span><span>
</span><span>        height</span><span class="token" style="color:#a04900">=</span><span class="token" style="color:#111b27">{</span><span>stageSize</span><span class="token" style="color:#111b27">}</span><span>
</span><span>        onMouseDown</span><span class="token" style="color:#a04900">=</span><span class="token" style="color:#111b27">{</span><span>handleMouseDown</span><span class="token" style="color:#111b27">}</span><span>
</span><span>        onMousemove</span><span class="token" style="color:#a04900">=</span><span class="token" style="color:#111b27">{</span><span>handleMouseMove</span><span class="token" style="color:#111b27">}</span><span>
</span><span>        onMouseup</span><span class="token" style="color:#a04900">=</span><span class="token" style="color:#111b27">{</span><span>handleMouseUp</span><span class="token" style="color:#111b27">}</span><span>
</span><span>        style</span><span class="token" style="color:#a04900">=</span><span class="token" style="color:#111b27">{</span><span class="token" style="color:#111b27">{</span><span>
</span><span>          </span><span class="token literal-property" style="color:#005a8e">border</span><span class="token" style="color:#a04900">:</span><span> </span><span class="token" style="color:#116b00">&quot;1px solid black&quot;</span><span class="token" style="color:#111b27">,</span><span>
</span><span>        </span><span class="token" style="color:#111b27">}</span><span class="token" style="color:#111b27">}</span><span>
</span><span>      </span><span class="token" style="color:#a04900">&gt;</span><span>
</span><span>        </span><span class="token" style="color:#a04900">&lt;</span><span class="token maybe-class-name">Layer</span><span class="token" style="color:#a04900">&gt;</span><span>
</span><span>          </span><span class="token" style="color:#111b27">{</span><span>lines</span><span class="token" style="color:#111b27">.</span><span class="token method" style="color:#005a8e">map</span><span class="token" style="color:#111b27">(</span><span class="token" style="color:#111b27">(</span><span class="token" style="color:#005a8e">line</span><span class="token" style="color:#111b27">,</span><span class="token" style="color:#005a8e"> i</span><span class="token" style="color:#111b27">)</span><span> </span><span class="token arrow" style="color:#a04900">=&gt;</span><span> </span><span class="token" style="color:#111b27">(</span><span>
</span><span>            </span><span class="token" style="color:#a04900">&lt;</span><span class="token maybe-class-name">Line</span><span>
</span><span>              key</span><span class="token" style="color:#a04900">=</span><span class="token" style="color:#111b27">{</span><span>i</span><span class="token" style="color:#111b27">}</span><span>
</span><span>              points</span><span class="token" style="color:#a04900">=</span><span class="token" style="color:#111b27">{</span><span>line</span><span class="token" style="color:#111b27">.</span><span class="token" style="color:#005a8e">points</span><span class="token" style="color:#111b27">}</span><span>
</span><span>              stroke</span><span class="token" style="color:#a04900">=</span><span class="token" style="color:#116b00">&quot;#000000&quot;</span><span>
</span><span>              strokeWidth</span><span class="token" style="color:#a04900">=</span><span class="token" style="color:#111b27">{</span><span>line</span><span class="token" style="color:#111b27">.</span><span class="token" style="color:#005a8e">strokeWidth</span><span class="token" style="color:#111b27">}</span><span>
</span><span>              tension</span><span class="token" style="color:#a04900">=</span><span class="token" style="color:#111b27">{</span><span class="token" style="color:#755f00">0.5</span><span class="token" style="color:#111b27">}</span><span>
</span><span>              lineCap</span><span class="token" style="color:#a04900">=</span><span class="token" style="color:#116b00">&quot;round&quot;</span><span>
</span><span>              lineJoin</span><span class="token" style="color:#a04900">=</span><span class="token" style="color:#116b00">&quot;round&quot;</span><span>
</span><span>              globalCompositeOperation</span><span class="token" style="color:#a04900">=</span><span class="token" style="color:#111b27">{</span><span>line</span><span class="token" style="color:#111b27">.</span><span class="token" style="color:#005a8e">tool</span><span> </span><span class="token" style="color:#a04900">===</span><span> </span><span class="token" style="color:#116b00">&quot;eraser&quot;</span><span> </span><span class="token" style="color:#a04900">?</span><span> </span><span class="token" style="color:#116b00">&quot;destination-out&quot;</span><span> </span><span class="token" style="color:#a04900">:</span><span> </span><span class="token" style="color:#116b00">&quot;source-over&quot;</span><span class="token" style="color:#111b27">}</span><span>
</span><span>            </span><span class="token" style="color:#a04900">/</span><span class="token" style="color:#a04900">&gt;</span><span>
</span><span>          </span><span class="token" style="color:#111b27">)</span><span class="token" style="color:#111b27">)</span><span class="token" style="color:#111b27">}</span><span>
</span><span>        </span><span class="token" style="color:#a04900">&lt;</span><span class="token" style="color:#a04900">/</span><span class="token maybe-class-name">Layer</span><span class="token" style="color:#a04900">&gt;</span><span>
</span><span>      </span><span class="token" style="color:#a04900">&lt;</span><span class="token" style="color:#a04900">/</span><span class="token maybe-class-name">Stage</span><span class="token" style="color:#a04900">&gt;</span><span>
</span>
<span>      </span><span class="token" style="color:#a04900">&lt;</span><span>div
</span><span>        style</span><span class="token" style="color:#a04900">=</span><span class="token" style="color:#111b27">{</span><span class="token" style="color:#111b27">{</span><span>
</span><span>          </span><span class="token literal-property" style="color:#005a8e">width</span><span class="token" style="color:#a04900">:</span><span> stageSize</span><span class="token" style="color:#111b27">,</span><span>
</span><span>          </span><span class="token literal-property" style="color:#005a8e">marginTop</span><span class="token" style="color:#a04900">:</span><span> </span><span class="token" style="color:#755f00">10</span><span class="token" style="color:#111b27">,</span><span>
</span><span>          </span><span class="token literal-property" style="color:#005a8e">display</span><span class="token" style="color:#a04900">:</span><span> </span><span class="token" style="color:#116b00">&quot;flex&quot;</span><span class="token" style="color:#111b27">,</span><span>
</span><span>          </span><span class="token literal-property" style="color:#005a8e">flexDirection</span><span class="token" style="color:#a04900">:</span><span> </span><span class="token" style="color:#116b00">&quot;row&quot;</span><span class="token" style="color:#111b27">,</span><span>
</span><span>          </span><span class="token literal-property" style="color:#005a8e">justifyContent</span><span class="token" style="color:#a04900">:</span><span> </span><span class="token" style="color:#116b00">&quot;space-evenly&quot;</span><span class="token" style="color:#111b27">,</span><span>
</span><span>          </span><span class="token literal-property" style="color:#005a8e">alignItems</span><span class="token" style="color:#a04900">:</span><span> </span><span class="token" style="color:#116b00">&quot;center&quot;</span><span class="token" style="color:#111b27">,</span><span>
</span><span>        </span><span class="token" style="color:#111b27">}</span><span class="token" style="color:#111b27">}</span><span>
</span><span>      </span><span class="token" style="color:#a04900">&gt;</span><span>
</span><span>        </span><span class="token" style="color:#a04900">&lt;</span><span>select
</span><span>          value</span><span class="token" style="color:#a04900">=</span><span class="token" style="color:#111b27">{</span><span>tool</span><span class="token" style="color:#111b27">}</span><span>
</span><span>          onChange</span><span class="token" style="color:#a04900">=</span><span class="token" style="color:#111b27">{</span><span class="token" style="color:#111b27">(</span><span class="token" style="color:#005a8e">e</span><span class="token" style="color:#111b27">)</span><span> </span><span class="token arrow" style="color:#a04900">=&gt;</span><span> </span><span class="token" style="color:#111b27">{</span><span>
</span><span>            </span><span class="token" style="color:#7c00aa">setTool</span><span class="token" style="color:#111b27">(</span><span>e</span><span class="token" style="color:#111b27">.</span><span class="token" style="color:#005a8e">target</span><span class="token" style="color:#111b27">.</span><span class="token" style="color:#005a8e">value</span><span class="token" style="color:#111b27">)</span><span class="token" style="color:#111b27">;</span><span>
</span><span>          </span><span class="token" style="color:#111b27">}</span><span class="token" style="color:#111b27">}</span><span>
</span><span>          style</span><span class="token" style="color:#a04900">=</span><span class="token" style="color:#111b27">{</span><span class="token" style="color:#111b27">{</span><span>
</span><span>            </span><span class="token literal-property" style="color:#005a8e">padding</span><span class="token" style="color:#a04900">:</span><span> </span><span class="token" style="color:#116b00">&quot;8px&quot;</span><span class="token" style="color:#111b27">,</span><span>
</span><span>            </span><span class="token literal-property" style="color:#005a8e">borderRadius</span><span class="token" style="color:#a04900">:</span><span> </span><span class="token" style="color:#116b00">&quot;4px&quot;</span><span class="token" style="color:#111b27">,</span><span>
</span><span>            </span><span class="token literal-property" style="color:#005a8e">border</span><span class="token" style="color:#a04900">:</span><span> </span><span class="token" style="color:#116b00">&quot;1px solid #ccc&quot;</span><span class="token" style="color:#111b27">,</span><span>
</span><span>            </span><span class="token literal-property" style="color:#005a8e">fontSize</span><span class="token" style="color:#a04900">:</span><span> </span><span class="token" style="color:#116b00">&quot;16px&quot;</span><span class="token" style="color:#111b27">,</span><span>
</span><span>          </span><span class="token" style="color:#111b27">}</span><span class="token" style="color:#111b27">}</span><span>
</span><span>        </span><span class="token" style="color:#a04900">&gt;</span><span>
</span><span>          </span><span class="token" style="color:#a04900">&lt;</span><span>option value</span><span class="token" style="color:#a04900">=</span><span class="token" style="color:#116b00">&quot;pen&quot;</span><span class="token" style="color:#a04900">&gt;</span><span class="token maybe-class-name">Pen</span><span class="token" style="color:#a04900">&lt;</span><span class="token" style="color:#a04900">/</span><span>option</span><span class="token" style="color:#a04900">&gt;</span><span>
</span><span>          </span><span class="token" style="color:#a04900">&lt;</span><span>option value</span><span class="token" style="color:#a04900">=</span><span class="token" style="color:#116b00">&quot;eraser&quot;</span><span class="token" style="color:#a04900">&gt;</span><span class="token maybe-class-name">Eraser</span><span class="token" style="color:#a04900">&lt;</span><span class="token" style="color:#a04900">/</span><span>option</span><span class="token" style="color:#a04900">&gt;</span><span>
</span><span>        </span><span class="token" style="color:#a04900">&lt;</span><span class="token" style="color:#a04900">/</span><span>select</span><span class="token" style="color:#a04900">&gt;</span><span>
</span>
<span>        </span><span class="token" style="color:#a04900">&lt;</span><span>select
</span><span>          value</span><span class="token" style="color:#a04900">=</span><span class="token" style="color:#111b27">{</span><span>strokeWidth</span><span class="token" style="color:#111b27">}</span><span>
</span><span>          onChange</span><span class="token" style="color:#a04900">=</span><span class="token" style="color:#111b27">{</span><span class="token" style="color:#111b27">(</span><span class="token" style="color:#005a8e">e</span><span class="token" style="color:#111b27">)</span><span> </span><span class="token arrow" style="color:#a04900">=&gt;</span><span> </span><span class="token" style="color:#111b27">{</span><span>
</span><span>            </span><span class="token" style="color:#7c00aa">setStrokeWidth</span><span class="token" style="color:#111b27">(</span><span class="token" style="color:#7c00aa">parseInt</span><span class="token" style="color:#111b27">(</span><span>e</span><span class="token" style="color:#111b27">.</span><span class="token" style="color:#005a8e">target</span><span class="token" style="color:#111b27">.</span><span class="token" style="color:#005a8e">value</span><span class="token" style="color:#111b27">)</span><span class="token" style="color:#111b27">)</span><span class="token" style="color:#111b27">;</span><span>
</span><span>          </span><span class="token" style="color:#111b27">}</span><span class="token" style="color:#111b27">}</span><span>
</span><span>          style</span><span class="token" style="color:#a04900">=</span><span class="token" style="color:#111b27">{</span><span class="token" style="color:#111b27">{</span><span>
</span><span>            </span><span class="token literal-property" style="color:#005a8e">padding</span><span class="token" style="color:#a04900">:</span><span> </span><span class="token" style="color:#116b00">&quot;8px&quot;</span><span class="token" style="color:#111b27">,</span><span>
</span><span>            </span><span class="token literal-property" style="color:#005a8e">borderRadius</span><span class="token" style="color:#a04900">:</span><span> </span><span class="token" style="color:#116b00">&quot;4px&quot;</span><span class="token" style="color:#111b27">,</span><span>
</span><span>            </span><span class="token literal-property" style="color:#005a8e">border</span><span class="token" style="color:#a04900">:</span><span> </span><span class="token" style="color:#116b00">&quot;1px solid #ccc&quot;</span><span class="token" style="color:#111b27">,</span><span>
</span><span>            </span><span class="token literal-property" style="color:#005a8e">fontSize</span><span class="token" style="color:#a04900">:</span><span> </span><span class="token" style="color:#116b00">&quot;16px&quot;</span><span class="token" style="color:#111b27">,</span><span>
</span><span>          </span><span class="token" style="color:#111b27">}</span><span class="token" style="color:#111b27">}</span><span>
</span><span>        </span><span class="token" style="color:#a04900">&gt;</span><span>
</span><span>          </span><span class="token" style="color:#a04900">&lt;</span><span>option value</span><span class="token" style="color:#a04900">=</span><span class="token" style="color:#116b00">&quot;1&quot;</span><span class="token" style="color:#a04900">&gt;</span><span class="token" style="color:#755f00">1</span><span class="token" style="color:#a04900">&lt;</span><span class="token" style="color:#a04900">/</span><span>option</span><span class="token" style="color:#a04900">&gt;</span><span>
</span><span>          </span><span class="token" style="color:#a04900">&lt;</span><span>option value</span><span class="token" style="color:#a04900">=</span><span class="token" style="color:#116b00">&quot;3&quot;</span><span class="token" style="color:#a04900">&gt;</span><span class="token" style="color:#755f00">3</span><span class="token" style="color:#a04900">&lt;</span><span class="token" style="color:#a04900">/</span><span>option</span><span class="token" style="color:#a04900">&gt;</span><span>
</span><span>          </span><span class="token" style="color:#a04900">&lt;</span><span>option value</span><span class="token" style="color:#a04900">=</span><span class="token" style="color:#116b00">&quot;5&quot;</span><span class="token" style="color:#a04900">&gt;</span><span class="token" style="color:#755f00">5</span><span class="token" style="color:#a04900">&lt;</span><span class="token" style="color:#a04900">/</span><span>option</span><span class="token" style="color:#a04900">&gt;</span><span>
</span><span>          </span><span class="token" style="color:#a04900">&lt;</span><span>option value</span><span class="token" style="color:#a04900">=</span><span class="token" style="color:#116b00">&quot;10&quot;</span><span class="token" style="color:#a04900">&gt;</span><span class="token" style="color:#755f00">10</span><span class="token" style="color:#a04900">&lt;</span><span class="token" style="color:#a04900">/</span><span>option</span><span class="token" style="color:#a04900">&gt;</span><span>
</span><span>          </span><span class="token" style="color:#a04900">&lt;</span><span>option value</span><span class="token" style="color:#a04900">=</span><span class="token" style="color:#116b00">&quot;15&quot;</span><span class="token" style="color:#a04900">&gt;</span><span class="token" style="color:#755f00">15</span><span class="token" style="color:#a04900">&lt;</span><span class="token" style="color:#a04900">/</span><span>option</span><span class="token" style="color:#a04900">&gt;</span><span>
</span><span>          </span><span class="token" style="color:#a04900">&lt;</span><span>option value</span><span class="token" style="color:#a04900">=</span><span class="token" style="color:#116b00">&quot;20&quot;</span><span class="token" style="color:#a04900">&gt;</span><span class="token" style="color:#755f00">20</span><span class="token" style="color:#a04900">&lt;</span><span class="token" style="color:#a04900">/</span><span>option</span><span class="token" style="color:#a04900">&gt;</span><span>
</span><span>          </span><span class="token" style="color:#a04900">&lt;</span><span>option value</span><span class="token" style="color:#a04900">=</span><span class="token" style="color:#116b00">&quot;30&quot;</span><span class="token" style="color:#a04900">&gt;</span><span class="token" style="color:#755f00">30</span><span class="token" style="color:#a04900">&lt;</span><span class="token" style="color:#a04900">/</span><span>option</span><span class="token" style="color:#a04900">&gt;</span><span>
</span><span>          </span><span class="token" style="color:#a04900">&lt;</span><span>option value</span><span class="token" style="color:#a04900">=</span><span class="token" style="color:#116b00">&quot;40&quot;</span><span class="token" style="color:#a04900">&gt;</span><span class="token" style="color:#755f00">40</span><span class="token" style="color:#a04900">&lt;</span><span class="token" style="color:#a04900">/</span><span>option</span><span class="token" style="color:#a04900">&gt;</span><span>
</span><span>          </span><span class="token" style="color:#a04900">&lt;</span><span>option value</span><span class="token" style="color:#a04900">=</span><span class="token" style="color:#116b00">&quot;50&quot;</span><span class="token" style="color:#a04900">&gt;</span><span class="token" style="color:#755f00">50</span><span class="token" style="color:#a04900">&lt;</span><span class="token" style="color:#a04900">/</span><span>option</span><span class="token" style="color:#a04900">&gt;</span><span>
</span><span>        </span><span class="token" style="color:#a04900">&lt;</span><span class="token" style="color:#a04900">/</span><span>select</span><span class="token" style="color:#a04900">&gt;</span><span>
</span>
<span>        </span><span class="token" style="color:#a04900">&lt;</span><span>button
</span><span>          onClick</span><span class="token" style="color:#a04900">=</span><span class="token" style="color:#111b27">{</span><span class="token" style="color:#111b27">(</span><span class="token" style="color:#111b27">)</span><span> </span><span class="token arrow" style="color:#a04900">=&gt;</span><span> </span><span class="token" style="color:#7c00aa">setLines</span><span class="token" style="color:#111b27">(</span><span class="token" style="color:#111b27">[</span><span class="token" style="color:#111b27">]</span><span class="token" style="color:#111b27">)</span><span class="token" style="color:#111b27">}</span><span>
</span><span>          style</span><span class="token" style="color:#a04900">=</span><span class="token" style="color:#111b27">{</span><span class="token" style="color:#111b27">{</span><span>
</span><span>            </span><span class="token literal-property" style="color:#005a8e">padding</span><span class="token" style="color:#a04900">:</span><span> </span><span class="token" style="color:#116b00">&quot;8px 12px&quot;</span><span class="token" style="color:#111b27">,</span><span>
</span><span>            </span><span class="token literal-property" style="color:#005a8e">borderRadius</span><span class="token" style="color:#a04900">:</span><span> </span><span class="token" style="color:#116b00">&quot;4px&quot;</span><span class="token" style="color:#111b27">,</span><span>
</span><span>            </span><span class="token literal-property" style="color:#005a8e">border</span><span class="token" style="color:#a04900">:</span><span> </span><span class="token" style="color:#116b00">&quot;1px solid #ccc&quot;</span><span class="token" style="color:#111b27">,</span><span>
</span><span>            </span><span class="token literal-property" style="color:#005a8e">background</span><span class="token" style="color:#a04900">:</span><span> </span><span class="token" style="color:#116b00">&quot;#ffffff&quot;</span><span class="token" style="color:#111b27">,</span><span>
</span><span>            </span><span class="token literal-property" style="color:#005a8e">color</span><span class="token" style="color:#a04900">:</span><span> </span><span class="token" style="color:#116b00">&quot;#333&quot;</span><span class="token" style="color:#111b27">,</span><span>
</span><span>            </span><span class="token literal-property" style="color:#005a8e">fontSize</span><span class="token" style="color:#a04900">:</span><span> </span><span class="token" style="color:#116b00">&quot;16px&quot;</span><span class="token" style="color:#111b27">,</span><span>
</span><span>            </span><span class="token literal-property" style="color:#005a8e">cursor</span><span class="token" style="color:#a04900">:</span><span> </span><span class="token" style="color:#116b00">&quot;pointer&quot;</span><span class="token" style="color:#111b27">,</span><span>
</span><span>          </span><span class="token" style="color:#111b27">}</span><span class="token" style="color:#111b27">}</span><span>
</span><span>        </span><span class="token" style="color:#a04900">&gt;</span><span>
</span><span>          </span><span class="token maybe-class-name">Clear</span><span>
</span><span>        </span><span class="token" style="color:#a04900">&lt;</span><span class="token" style="color:#a04900">/</span><span>button</span><span class="token" style="color:#a04900">&gt;</span><span>
</span><span>      </span><span class="token" style="color:#a04900">&lt;</span><span class="token" style="color:#a04900">/</span><span>div</span><span class="token" style="color:#a04900">&gt;</span><span>
</span>
<span>      </span><span class="token" style="color:#a04900">&lt;</span><span>button
</span><span>        onClick</span><span class="token" style="color:#a04900">=</span><span class="token" style="color:#111b27">{</span><span>handlePredictButtonClick</span><span class="token" style="color:#111b27">}</span><span>
</span><span>        style</span><span class="token" style="color:#a04900">=</span><span class="token" style="color:#111b27">{</span><span class="token" style="color:#111b27">{</span><span>
</span><span>          </span><span class="token literal-property" style="color:#005a8e">padding</span><span class="token" style="color:#a04900">:</span><span> </span><span class="token" style="color:#116b00">&quot;8px 12px&quot;</span><span class="token" style="color:#111b27">,</span><span>
</span><span>          </span><span class="token literal-property" style="color:#005a8e">borderRadius</span><span class="token" style="color:#a04900">:</span><span> </span><span class="token" style="color:#116b00">&quot;4px&quot;</span><span class="token" style="color:#111b27">,</span><span>
</span><span>          </span><span class="token literal-property" style="color:#005a8e">border</span><span class="token" style="color:#a04900">:</span><span> </span><span class="token" style="color:#116b00">&quot;1px solid #444444&quot;</span><span class="token" style="color:#111b27">,</span><span>
</span><span>          </span><span class="token literal-property" style="color:#005a8e">background</span><span class="token" style="color:#a04900">:</span><span> </span><span class="token" style="color:#116b00">&quot;#eeeeee&quot;</span><span class="token" style="color:#111b27">,</span><span>
</span><span>          </span><span class="token literal-property" style="color:#005a8e">color</span><span class="token" style="color:#a04900">:</span><span> </span><span class="token" style="color:#116b00">&quot;#333&quot;</span><span class="token" style="color:#111b27">,</span><span>
</span><span>          </span><span class="token literal-property" style="color:#005a8e">fontSize</span><span class="token" style="color:#a04900">:</span><span> </span><span class="token" style="color:#116b00">&quot;16px&quot;</span><span class="token" style="color:#111b27">,</span><span>
</span><span>          </span><span class="token literal-property" style="color:#005a8e">cursor</span><span class="token" style="color:#a04900">:</span><span> </span><span class="token" style="color:#116b00">&quot;pointer&quot;</span><span class="token" style="color:#111b27">,</span><span>
</span><span>          </span><span class="token literal-property" style="color:#005a8e">marginTop</span><span class="token" style="color:#a04900">:</span><span> </span><span class="token" style="color:#755f00">10</span><span class="token" style="color:#111b27">,</span><span>
</span><span>          </span><span class="token literal-property" style="color:#005a8e">marginBottom</span><span class="token" style="color:#a04900">:</span><span> </span><span class="token" style="color:#755f00">5</span><span class="token" style="color:#111b27">,</span><span>
</span><span>        </span><span class="token" style="color:#111b27">}</span><span class="token" style="color:#111b27">}</span><span>
</span><span>      </span><span class="token" style="color:#a04900">&gt;</span><span>
</span><span>        </span><span class="token maybe-class-name">Predict</span><span>
</span><span>      </span><span class="token" style="color:#a04900">&lt;</span><span class="token" style="color:#a04900">/</span><span>button</span><span class="token" style="color:#a04900">&gt;</span><span>
</span>
<span>      </span><span class="token" style="color:#111b27">{</span><span>prediction </span><span class="token" style="color:#a04900">!==</span><span> </span><span class="token null nil" style="color:#a04900">null</span><span> </span><span class="token" style="color:#a04900">&amp;&amp;</span><span> </span><span class="token" style="color:#111b27">(</span><span>
</span><span>        </span><span class="token" style="color:#a04900">&lt;</span><span>h4
</span><span>          style</span><span class="token" style="color:#a04900">=</span><span class="token" style="color:#111b27">{</span><span class="token" style="color:#111b27">{</span><span>
</span><span>            </span><span class="token literal-property" style="color:#005a8e">margin</span><span class="token" style="color:#a04900">:</span><span> </span><span class="token" style="color:#755f00">0</span><span class="token" style="color:#111b27">,</span><span>
</span><span>          </span><span class="token" style="color:#111b27">}</span><span class="token" style="color:#111b27">}</span><span>
</span><span>        </span><span class="token" style="color:#a04900">&gt;</span><span>
</span><span>          </span><span class="token maybe-class-name">Probably</span><span> a </span><span class="token" style="color:#111b27">{</span><span>prediction</span><span class="token" style="color:#111b27">}</span><span>
</span><span>        </span><span class="token" style="color:#a04900">&lt;</span><span class="token" style="color:#a04900">/</span><span>h4</span><span class="token" style="color:#a04900">&gt;</span><span>
</span><span>      </span><span class="token" style="color:#111b27">)</span><span class="token" style="color:#111b27">}</span><span>
</span>
<span>      </span><span class="token" style="color:#a04900">&lt;</span><span>canvas id</span><span class="token" style="color:#a04900">=</span><span class="token" style="color:#116b00">&quot;tempCanvas&quot;</span><span> width</span><span class="token" style="color:#a04900">=</span><span class="token" style="color:#111b27">{</span><span class="token" style="color:#755f00">28</span><span class="token" style="color:#111b27">}</span><span> height</span><span class="token" style="color:#a04900">=</span><span class="token" style="color:#111b27">{</span><span class="token" style="color:#755f00">28</span><span class="token" style="color:#111b27">}</span><span class="token" style="color:#a04900">&gt;</span><span class="token" style="color:#a04900">&lt;</span><span class="token" style="color:#a04900">/</span><span>canvas</span><span class="token" style="color:#a04900">&gt;</span><span>
</span><span>    </span><span class="token" style="color:#a04900">&lt;</span><span class="token" style="color:#a04900">/</span><span>div</span><span class="token" style="color:#a04900">&gt;</span><span>
</span><span>  </span><span class="token" style="color:#111b27">)</span><span class="token" style="color:#111b27">;</span><span>
</span><span></span><span class="token" style="color:#111b27">}</span></code></pre>
                </div>
                <p class="MuiTypography-root MuiTypography-p css-vsuld9">
                  We have a <span class="MuiBox-root css-87x4qo">Konva</span>
                  <span class="MuiBox-root css-87x4qo">Stage</span> that serves
                  as our drawing area. When the user clicks down their mouse on
                  this area, we set
                  <span class="MuiBox-root css-87x4qo">isDrawing</span> to true
                  and add a new line to the
                  <span class="MuiBox-root css-87x4qo">lines</span> array with
                  the current point, selected
                  <span class="MuiBox-root css-87x4qo">tool</span>, and
                  <span class="MuiBox-root css-87x4qo">strokeWidth</span>. In
                  the
                  <span class="MuiBox-root css-87x4qo">Mousemove</span>
                  listener, we check if we are currently drawing and if so, we
                  add the point to the last line. Finally, when the mouse is
                  released, we set
                  <span class="MuiBox-root css-87x4qo">isDrawing</span> to
                  false.
                </p>
                <p class="MuiTypography-root MuiTypography-p css-vsuld9">
                  We also have two dropdowns to select our drawing configuration
                  and a <span class="MuiBox-root css-87x4qo">Clear</span> button
                  to delete all the lines. Below this, we have a
                  <span class="MuiBox-root css-87x4qo">Predict</span> button, on
                  clicking this we extract the image from the stage in the form
                  of a data URI, get the prediction using the
                  <span class="MuiBox-root css-87x4qo">runInference</span>
                  function (discussed in the next section), and set its value in
                  the state.
                </p>
                <p class="MuiTypography-root MuiTypography-p css-vsuld9">
                  Below the
                  <span class="MuiBox-root css-87x4qo">Predict</span> button, we
                  have a temporary canvas which we use to draw our image before
                  passing it to the model. This is for debugging purposes only.
                </p>
                <h1
                  class="MuiTypography-root MuiTypography-h4 css-rg843f"
                  id="running-inference"
                >
                  <strong>Running Inference</strong>
                </h1>
                <p class="MuiTypography-root MuiTypography-p css-vsuld9">
                  For loading the model in our app, it has to be served
                  somewhere. Luckily, React can serve static files, we just need
                  to put them into the
                  <span class="MuiBox-root css-87x4qo">public</span> folder. So,
                  take your
                  <span class="MuiBox-root css-87x4qo">model.onnx</span> and
                  place it in the
                  <span class="MuiBox-root css-87x4qo">public</span> folder.
                </p>
                <style data-emotion="css 1oj41as">
                  .css-1oj41as {
                    margin: 0;
                    font-family: "Roboto", "Helvetica", "Arial", sans-serif;
                    font-weight: 400;
                    font-size: 1.5rem;
                    line-height: 1.334;
                    letter-spacing: 0em;
                    margin-bottom: 16px;
                  }
                </style>
                <h2
                  class="MuiTypography-root MuiTypography-h5 css-1oj41as"
                  id="knowing-our-model"
                >
                  <strong>Knowing our Model</strong>
                </h2>
                <p class="MuiTypography-root MuiTypography-p css-vsuld9">
                  In order to run inference, we need to have some idea about the
                  inputs our model is expecting and the outputs it returns to
                  us. For this, we can use a tool like
                  <a
                    class="MuiTypography-root MuiTypography-inherit MuiLink-root MuiLink-underlineHover css-1vxruma"
                    href="https://netron.app/"
                    rel="noopener noreferrer"
                    target="_blank"
                    >Netron</a
                  >
                  which helps us visualize deep neural networks. Head to
                  <a
                    class="MuiTypography-root MuiTypography-inherit MuiLink-root MuiLink-underlineHover css-1vxruma"
                    href="https://netron.app/"
                    rel="noopener noreferrer"
                    target="_blank"
                    >Netron</a
                  >
                </p>
                <style data-emotion="css 16am2bb">
                  .css-16am2bb {
                    width: 100%;
                    display: -webkit-box;
                    display: -webkit-flex;
                    display: -ms-flexbox;
                    display: flex;
                    -webkit-flex-direction: column;
                    -ms-flex-direction: column;
                    flex-direction: column;
                    -webkit-box-pack: center;
                    -ms-flex-pack: center;
                    -webkit-justify-content: center;
                    justify-content: center;
                    -webkit-align-items: center;
                    -webkit-box-align: center;
                    -ms-flex-align: center;
                    align-items: center;
                    margin-bottom: 16px;
                  }
                </style>
                <div class="MuiBox-root css-16am2bb">
                  <img
                    src="/media/images/torch-mnist-onnx-model-in-netron-start.jpg"
                    style="
                      width: 100%;
                      max-width: 75vw;
                      height: auto;
                      max-height: 35vh;
                      object-fit: cover;
                    "
                  />
                </div>
                <p class="MuiTypography-root MuiTypography-p css-vsuld9">
                  We see that the model expects an input of the shape [1, 1, 28,
                  28] (batch size, channels, width, height) and outputs us a
                  softmax. Great, now we know what to give to and what to expect
                  from our model.
                </p>
                <h2
                  class="MuiTypography-root MuiTypography-h5 css-1oj41as"
                  id="math-utils"
                >
                  <strong>Math Utils</strong>
                </h2>
                <p class="MuiTypography-root MuiTypography-p css-vsuld9">
                  Before we can run inference with our model, we&#x27;ll need to
                  create a couple of utility functions. In the
                  <span class="MuiBox-root css-87x4qo">src</span> directory,
                  create a new folder called
                  <span class="MuiBox-root css-87x4qo">utils</span> and inside
                  it create a file called
                  <span class="MuiBox-root css-87x4qo">mathUtils.js</span>.
                </p>
                <div class="MuiBox-root css-dzaqf9">
                  <div class="MuiBox-root css-125pbeb">
                    <button
                      class="MuiButtonBase-root MuiIconButton-root MuiIconButton-colorPrimary MuiIconButton-sizeLarge css-h1oho"
                      tabindex="0"
                      type="button"
                    >
                      <svg
                        class="MuiSvgIcon-root MuiSvgIcon-fontSizeMedium css-vubbuv"
                        focusable="false"
                        aria-hidden="true"
                        viewBox="0 0 24 24"
                        data-testid="ContentCopyIcon"
                      >
                        <path
                          d="M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12zm3 4H8c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h11c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2m0 16H8V7h11z"
                        ></path>
                      </svg>
                    </button>
                  </div>
                  <pre
                    style="
                      color: #111b27;
                      background: #e3eaf2;
                      font-family: Consolas, Monaco, &quot;Andale Mono&quot;,
                        &quot;Ubuntu Mono&quot;, monospace;
                      text-align: left;
                      white-space: pre;
                      word-spacing: normal;
                      word-break: normal;
                      word-wrap: normal;
                      line-height: 1.5;
                      -moz-tab-size: 4;
                      -o-tab-size: 4;
                      tab-size: 4;
                      -webkit-hyphens: none;
                      -moz-hyphens: none;
                      -ms-hyphens: none;
                      hyphens: none;
                      padding: 1em;
                      margin: 0;
                      overflow: auto;
                    "
                  ><code class="language-javascript" style="color:#111b27;background:none;font-family:Consolas, Monaco, &quot;Andale Mono&quot;, &quot;Ubuntu Mono&quot;, monospace;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none"><span class="token" style="color:#a04900">function</span><span> </span><span class="token" style="color:#7c00aa">softmax</span><span class="token" style="color:#111b27">(</span><span class="token" style="color:#005a8e">resultArray</span><span class="token" style="color:#111b27">)</span><span> </span><span class="token" style="color:#111b27">{</span><span>
</span><span>  </span><span class="token" style="color:#a04900">const</span><span> largestNumber </span><span class="token" style="color:#a04900">=</span><span> </span><span class="token known-class-name" style="color:#005a8e">Math</span><span class="token" style="color:#111b27">.</span><span class="token method" style="color:#005a8e">max</span><span class="token" style="color:#111b27">(</span><span class="token spread" style="color:#a04900">...</span><span>resultArray</span><span class="token" style="color:#111b27">)</span><span class="token" style="color:#111b27">;</span><span>
</span>
<span>  </span><span class="token" style="color:#a04900">const</span><span> sumOfExp </span><span class="token" style="color:#a04900">=</span><span> resultArray
</span><span>    </span><span class="token" style="color:#111b27">.</span><span class="token method" style="color:#005a8e">map</span><span class="token" style="color:#111b27">(</span><span class="token" style="color:#111b27">(</span><span class="token" style="color:#005a8e">resultItem</span><span class="token" style="color:#111b27">)</span><span> </span><span class="token arrow" style="color:#a04900">=&gt;</span><span> </span><span class="token known-class-name" style="color:#005a8e">Math</span><span class="token" style="color:#111b27">.</span><span class="token method" style="color:#005a8e">exp</span><span class="token" style="color:#111b27">(</span><span>resultItem </span><span class="token" style="color:#a04900">-</span><span> largestNumber</span><span class="token" style="color:#111b27">)</span><span class="token" style="color:#111b27">)</span><span>
</span><span>    </span><span class="token" style="color:#111b27">.</span><span class="token method" style="color:#005a8e">reduce</span><span class="token" style="color:#111b27">(</span><span class="token" style="color:#111b27">(</span><span class="token" style="color:#005a8e">prevNumber</span><span class="token" style="color:#111b27">,</span><span class="token" style="color:#005a8e"> currentNumber</span><span class="token" style="color:#111b27">)</span><span> </span><span class="token arrow" style="color:#a04900">=&gt;</span><span> prevNumber </span><span class="token" style="color:#a04900">+</span><span> currentNumber</span><span class="token" style="color:#111b27">)</span><span class="token" style="color:#111b27">;</span><span>
</span>
<span>  </span><span class="token control-flow" style="color:#a04900">return</span><span> resultArray</span><span class="token" style="color:#111b27">.</span><span class="token method" style="color:#005a8e">map</span><span class="token" style="color:#111b27">(</span><span class="token" style="color:#111b27">(</span><span class="token" style="color:#005a8e">resultValue</span><span class="token" style="color:#111b27">,</span><span class="token" style="color:#005a8e"> index</span><span class="token" style="color:#111b27">)</span><span> </span><span class="token arrow" style="color:#a04900">=&gt;</span><span> </span><span class="token" style="color:#111b27">{</span><span>
</span><span>    </span><span class="token control-flow" style="color:#a04900">return</span><span> </span><span class="token known-class-name" style="color:#005a8e">Math</span><span class="token" style="color:#111b27">.</span><span class="token method" style="color:#005a8e">exp</span><span class="token" style="color:#111b27">(</span><span>resultValue </span><span class="token" style="color:#a04900">-</span><span> largestNumber</span><span class="token" style="color:#111b27">)</span><span> </span><span class="token" style="color:#a04900">/</span><span> sumOfExp</span><span class="token" style="color:#111b27">;</span><span>
</span><span>  </span><span class="token" style="color:#111b27">}</span><span class="token" style="color:#111b27">)</span><span class="token" style="color:#111b27">;</span><span>
</span><span></span><span class="token" style="color:#111b27">}</span><span>
</span>
<span></span><span class="token" style="color:#a04900">function</span><span> </span><span class="token" style="color:#7c00aa">indexMax</span><span class="token" style="color:#111b27">(</span><span class="token" style="color:#005a8e">arr</span><span class="token" style="color:#111b27">)</span><span> </span><span class="token" style="color:#111b27">{</span><span>
</span><span>  </span><span class="token control-flow" style="color:#a04900">if</span><span> </span><span class="token" style="color:#111b27">(</span><span>arr</span><span class="token" style="color:#111b27">.</span><span class="token" style="color:#005a8e">length</span><span> </span><span class="token" style="color:#a04900">===</span><span> </span><span class="token" style="color:#755f00">0</span><span class="token" style="color:#111b27">)</span><span> </span><span class="token" style="color:#111b27">{</span><span>
</span><span>    </span><span class="token control-flow" style="color:#a04900">return</span><span> </span><span class="token" style="color:#a04900">-</span><span class="token" style="color:#755f00">1</span><span class="token" style="color:#111b27">;</span><span>
</span><span>  </span><span class="token" style="color:#111b27">}</span><span>
</span>
<span>  </span><span class="token" style="color:#a04900">let</span><span> max </span><span class="token" style="color:#a04900">=</span><span> arr</span><span class="token" style="color:#111b27">[</span><span class="token" style="color:#755f00">0</span><span class="token" style="color:#111b27">]</span><span class="token" style="color:#111b27">;</span><span>
</span><span>  </span><span class="token" style="color:#a04900">let</span><span> maxIndex </span><span class="token" style="color:#a04900">=</span><span> </span><span class="token" style="color:#755f00">0</span><span class="token" style="color:#111b27">;</span><span>
</span>
<span>  </span><span class="token control-flow" style="color:#a04900">for</span><span> </span><span class="token" style="color:#111b27">(</span><span class="token" style="color:#a04900">let</span><span> i </span><span class="token" style="color:#a04900">=</span><span> </span><span class="token" style="color:#755f00">1</span><span class="token" style="color:#111b27">;</span><span> i </span><span class="token" style="color:#a04900">&lt;</span><span> arr</span><span class="token" style="color:#111b27">.</span><span class="token" style="color:#005a8e">length</span><span class="token" style="color:#111b27">;</span><span> i</span><span class="token" style="color:#a04900">++</span><span class="token" style="color:#111b27">)</span><span> </span><span class="token" style="color:#111b27">{</span><span>
</span><span>    </span><span class="token control-flow" style="color:#a04900">if</span><span> </span><span class="token" style="color:#111b27">(</span><span>arr</span><span class="token" style="color:#111b27">[</span><span>i</span><span class="token" style="color:#111b27">]</span><span> </span><span class="token" style="color:#a04900">&gt;</span><span> max</span><span class="token" style="color:#111b27">)</span><span> </span><span class="token" style="color:#111b27">{</span><span>
</span><span>      maxIndex </span><span class="token" style="color:#a04900">=</span><span> i</span><span class="token" style="color:#111b27">;</span><span>
</span><span>      max </span><span class="token" style="color:#a04900">=</span><span> arr</span><span class="token" style="color:#111b27">[</span><span>i</span><span class="token" style="color:#111b27">]</span><span class="token" style="color:#111b27">;</span><span>
</span><span>    </span><span class="token" style="color:#111b27">}</span><span>
</span><span>  </span><span class="token" style="color:#111b27">}</span><span>
</span>
<span>  </span><span class="token control-flow" style="color:#a04900">return</span><span> maxIndex</span><span class="token" style="color:#111b27">;</span><span>
</span><span></span><span class="token" style="color:#111b27">}</span><span>
</span>
<span></span><span class="token module" style="color:#a04900">export</span><span> </span><span class="token exports" style="color:#111b27">{</span><span class="token exports"> softmax</span><span class="token exports" style="color:#111b27">,</span><span class="token exports"> indexMax </span><span class="token exports" style="color:#111b27">}</span><span class="token" style="color:#111b27">;</span></code></pre>
                </div>
                <p class="MuiTypography-root MuiTypography-p css-vsuld9">
                  We have defined our DIY
                  <span class="MuiBox-root css-87x4qo">softmax</span> and
                  <span class="MuiBox-root css-87x4qo">indexMax</span>
                  functions. Softmax is an activation function that we call on
                  our model&#x27;s output to get the probabilities of various
                  classes.
                  <span class="MuiBox-root css-87x4qo">indexMax</span> (similar
                  to numpy.argmax) simply gets us the index of the maximum value
                  in an array.
                </p>
                <h2
                  class="MuiTypography-root MuiTypography-h5 css-1oj41as"
                  id="image-processing"
                >
                  <strong>Image Processing</strong>
                </h2>
                <p class="MuiTypography-root MuiTypography-p css-vsuld9">
                  We have to do a couple of more things before we can pass our
                  images to our model:
                </p>
                <p class="MuiTypography-root MuiTypography-p css-vsuld9">
                  1) We have to extract the greyscale image (28x28, 1 channel)
                  from the data URI.
                </p>
                <p class="MuiTypography-root MuiTypography-p css-vsuld9">
                  1) We have to convert it into a tensor
                </p>
                <p class="MuiTypography-root MuiTypography-p css-vsuld9">
                  So, in the
                  <span class="MuiBox-root css-87x4qo">src</span> folder, create
                  a folder called
                  <span class="MuiBox-root css-87x4qo">inferencing</span> and in
                  it create a file called
                  <span class="MuiBox-root css-87x4qo">imageProcessing.js</span
                  >. Let&#x27;s work on extracting the greyscale image first.
                </p>
                <div class="MuiBox-root css-dzaqf9">
                  <div class="MuiBox-root css-125pbeb">
                    <button
                      class="MuiButtonBase-root MuiIconButton-root MuiIconButton-colorPrimary MuiIconButton-sizeLarge css-h1oho"
                      tabindex="0"
                      type="button"
                    >
                      <svg
                        class="MuiSvgIcon-root MuiSvgIcon-fontSizeMedium css-vubbuv"
                        focusable="false"
                        aria-hidden="true"
                        viewBox="0 0 24 24"
                        data-testid="ContentCopyIcon"
                      >
                        <path
                          d="M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12zm3 4H8c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h11c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2m0 16H8V7h11z"
                        ></path>
                      </svg>
                    </button>
                  </div>
                  <pre
                    style="
                      color: #111b27;
                      background: #e3eaf2;
                      font-family: Consolas, Monaco, &quot;Andale Mono&quot;,
                        &quot;Ubuntu Mono&quot;, monospace;
                      text-align: left;
                      white-space: pre;
                      word-spacing: normal;
                      word-break: normal;
                      word-wrap: normal;
                      line-height: 1.5;
                      -moz-tab-size: 4;
                      -o-tab-size: 4;
                      tab-size: 4;
                      -webkit-hyphens: none;
                      -moz-hyphens: none;
                      -ms-hyphens: none;
                      hyphens: none;
                      padding: 1em;
                      margin: 0;
                      overflow: auto;
                    "
                  ><code class="language-javascript" style="color:#111b27;background:none;font-family:Consolas, Monaco, &quot;Andale Mono&quot;, &quot;Ubuntu Mono&quot;, monospace;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none"><span class="token module" style="color:#a04900">import</span><span> </span><span class="token imports">ort</span><span> </span><span class="token module" style="color:#a04900">from</span><span> </span><span class="token" style="color:#116b00">&quot;onnxruntime-web&quot;</span><span class="token" style="color:#111b27">;</span><span>
</span>
<span></span><span class="token" style="color:#a04900">const</span><span> inputImageShape </span><span class="token" style="color:#a04900">=</span><span> </span><span class="token" style="color:#111b27">[</span><span class="token" style="color:#755f00">28</span><span class="token" style="color:#111b27">,</span><span> </span><span class="token" style="color:#755f00">28</span><span class="token" style="color:#111b27">]</span><span class="token" style="color:#111b27">;</span><span>
</span><span></span><span class="token" style="color:#a04900">const</span><span> inputShape </span><span class="token" style="color:#a04900">=</span><span> </span><span class="token" style="color:#111b27">[</span><span class="token" style="color:#755f00">1</span><span class="token" style="color:#111b27">,</span><span> </span><span class="token" style="color:#755f00">1</span><span class="token" style="color:#111b27">,</span><span> </span><span class="token" style="color:#755f00">28</span><span class="token" style="color:#111b27">,</span><span> </span><span class="token" style="color:#755f00">28</span><span class="token" style="color:#111b27">]</span><span class="token" style="color:#111b27">;</span><span>
</span>
<span></span><span class="token" style="color:#a04900">function</span><span> </span><span class="token" style="color:#7c00aa">extractGreyscaleImageFromKonvaStage</span><span class="token" style="color:#111b27">(</span><span class="token" style="color:#005a8e">imageDataUri</span><span class="token" style="color:#111b27">,</span><span class="token" style="color:#005a8e"> imageProcessingCanvasId</span><span class="token" style="color:#111b27">)</span><span> </span><span class="token" style="color:#111b27">{</span><span>
</span><span>  </span><span class="token" style="color:#a04900">const</span><span> canvas </span><span class="token" style="color:#a04900">=</span><span> </span><span class="token dom" style="color:#005a8e">document</span><span class="token" style="color:#111b27">.</span><span class="token method" style="color:#005a8e">getElementById</span><span class="token" style="color:#111b27">(</span><span>imageProcessingCanvasId</span><span class="token" style="color:#111b27">)</span><span class="token" style="color:#111b27">;</span><span>
</span><span>  </span><span class="token" style="color:#a04900">const</span><span> ctx </span><span class="token" style="color:#a04900">=</span><span> canvas</span><span class="token" style="color:#111b27">.</span><span class="token method" style="color:#005a8e">getContext</span><span class="token" style="color:#111b27">(</span><span class="token" style="color:#116b00">&quot;2d&quot;</span><span class="token" style="color:#111b27">)</span><span class="token" style="color:#111b27">;</span><span>
</span>
<span>  </span><span class="token" style="color:#a04900">const</span><span> img </span><span class="token" style="color:#a04900">=</span><span> </span><span class="token" style="color:#a04900">new</span><span> </span><span class="token" style="color:#005a8e">Image</span><span class="token" style="color:#111b27">(</span><span class="token" style="color:#111b27">)</span><span class="token" style="color:#111b27">;</span><span>
</span><span>  img</span><span class="token" style="color:#111b27">.</span><span class="token" style="color:#005a8e">src</span><span> </span><span class="token" style="color:#a04900">=</span><span> imageDataUri</span><span class="token" style="color:#111b27">;</span><span>
</span>
<span>  </span><span class="token control-flow" style="color:#a04900">return</span><span> </span><span class="token" style="color:#a04900">new</span><span> </span><span class="token" style="color:#005a8e">Promise</span><span class="token" style="color:#111b27">(</span><span class="token" style="color:#111b27">(</span><span class="token" style="color:#005a8e">resolve</span><span class="token" style="color:#111b27">,</span><span class="token" style="color:#005a8e"> reject</span><span class="token" style="color:#111b27">)</span><span> </span><span class="token arrow" style="color:#a04900">=&gt;</span><span> </span><span class="token" style="color:#111b27">{</span><span>
</span><span>    img</span><span class="token" style="color:#111b27">.</span><span class="token method-variable function-variable method" style="color:#7c00aa">onload</span><span> </span><span class="token" style="color:#a04900">=</span><span> </span><span class="token" style="color:#111b27">(</span><span class="token" style="color:#111b27">)</span><span> </span><span class="token arrow" style="color:#a04900">=&gt;</span><span> </span><span class="token" style="color:#111b27">{</span><span>
</span><span>      canvas</span><span class="token" style="color:#111b27">.</span><span class="token" style="color:#005a8e">width</span><span> </span><span class="token" style="color:#a04900">=</span><span> inputImageShape</span><span class="token" style="color:#111b27">[</span><span class="token" style="color:#755f00">0</span><span class="token" style="color:#111b27">]</span><span class="token" style="color:#111b27">;</span><span>
</span><span>      canvas</span><span class="token" style="color:#111b27">.</span><span class="token" style="color:#005a8e">height</span><span> </span><span class="token" style="color:#a04900">=</span><span> inputImageShape</span><span class="token" style="color:#111b27">[</span><span class="token" style="color:#755f00">1</span><span class="token" style="color:#111b27">]</span><span class="token" style="color:#111b27">;</span><span>
</span>
<span>      ctx</span><span class="token" style="color:#111b27">.</span><span class="token method" style="color:#005a8e">drawImage</span><span class="token" style="color:#111b27">(</span><span>img</span><span class="token" style="color:#111b27">,</span><span> </span><span class="token" style="color:#755f00">0</span><span class="token" style="color:#111b27">,</span><span> </span><span class="token" style="color:#755f00">0</span><span class="token" style="color:#111b27">,</span><span> inputImageShape</span><span class="token" style="color:#111b27">[</span><span class="token" style="color:#755f00">0</span><span class="token" style="color:#111b27">]</span><span class="token" style="color:#111b27">,</span><span> inputImageShape</span><span class="token" style="color:#111b27">[</span><span class="token" style="color:#755f00">1</span><span class="token" style="color:#111b27">]</span><span class="token" style="color:#111b27">)</span><span class="token" style="color:#111b27">;</span><span>
</span>
<span>      </span><span class="token" style="color:#a04900">const</span><span> imageData </span><span class="token" style="color:#a04900">=</span><span> ctx</span><span class="token" style="color:#111b27">.</span><span class="token method" style="color:#005a8e">getImageData</span><span class="token" style="color:#111b27">(</span><span class="token" style="color:#755f00">0</span><span class="token" style="color:#111b27">,</span><span> </span><span class="token" style="color:#755f00">0</span><span class="token" style="color:#111b27">,</span><span> inputImageShape</span><span class="token" style="color:#111b27">[</span><span class="token" style="color:#755f00">0</span><span class="token" style="color:#111b27">]</span><span class="token" style="color:#111b27">,</span><span> inputImageShape</span><span class="token" style="color:#111b27">[</span><span class="token" style="color:#755f00">1</span><span class="token" style="color:#111b27">]</span><span class="token" style="color:#111b27">)</span><span class="token" style="color:#111b27">;</span><span>
</span><span>      </span><span class="token" style="color:#a04900">const</span><span> imageArray </span><span class="token" style="color:#a04900">=</span><span> imageData</span><span class="token" style="color:#111b27">.</span><span class="token" style="color:#005a8e">data</span><span class="token" style="color:#111b27">;</span><span>
</span><span>      </span><span class="token" style="color:#3c526d">// r(1, 1), g(1, 1), b(1, 1), a(1, 1), r(2, 1), g(2, 1), b(2, 1), a(2, 1), ...</span><span>
</span>
<span>      </span><span class="token" style="color:#a04900">const</span><span> alphaChannelOnlyImageData </span><span class="token" style="color:#a04900">=</span><span> </span><span class="token" style="color:#a04900">new</span><span> </span><span class="token" style="color:#005a8e">ImageData</span><span class="token" style="color:#111b27">(</span><span>
</span><span>        </span><span class="token" style="color:#a04900">new</span><span> </span><span class="token" style="color:#005a8e">Uint8ClampedArray</span><span class="token" style="color:#111b27">(</span><span>imageArray</span><span class="token" style="color:#111b27">.</span><span class="token" style="color:#005a8e">length</span><span class="token" style="color:#111b27">)</span><span class="token" style="color:#111b27">,</span><span>
</span><span>        inputImageShape</span><span class="token" style="color:#111b27">[</span><span class="token" style="color:#755f00">0</span><span class="token" style="color:#111b27">]</span><span class="token" style="color:#111b27">,</span><span>
</span><span>        inputImageShape</span><span class="token" style="color:#111b27">[</span><span class="token" style="color:#755f00">1</span><span class="token" style="color:#111b27">]</span><span>
</span><span>      </span><span class="token" style="color:#111b27">)</span><span class="token" style="color:#111b27">;</span><span>
</span>
<span>      </span><span class="token control-flow" style="color:#a04900">for</span><span> </span><span class="token" style="color:#111b27">(</span><span class="token" style="color:#a04900">let</span><span> i </span><span class="token" style="color:#a04900">=</span><span> </span><span class="token" style="color:#755f00">3</span><span class="token" style="color:#111b27">;</span><span> i </span><span class="token" style="color:#a04900">&lt;</span><span> imageArray</span><span class="token" style="color:#111b27">.</span><span class="token" style="color:#005a8e">length</span><span class="token" style="color:#111b27">;</span><span> i </span><span class="token" style="color:#a04900">+=</span><span> </span><span class="token" style="color:#755f00">4</span><span class="token" style="color:#111b27">)</span><span> </span><span class="token" style="color:#111b27">{</span><span>
</span><span>        alphaChannelOnlyImageData</span><span class="token" style="color:#111b27">.</span><span class="token" style="color:#005a8e">data</span><span class="token" style="color:#111b27">[</span><span>i</span><span class="token" style="color:#111b27">]</span><span> </span><span class="token" style="color:#a04900">=</span><span> </span><span class="token" style="color:#755f00">255</span><span class="token" style="color:#111b27">;</span><span>
</span><span>        alphaChannelOnlyImageData</span><span class="token" style="color:#111b27">.</span><span class="token" style="color:#005a8e">data</span><span class="token" style="color:#111b27">[</span><span>i </span><span class="token" style="color:#a04900">-</span><span> </span><span class="token" style="color:#755f00">1</span><span class="token" style="color:#111b27">]</span><span> </span><span class="token" style="color:#a04900">=</span><span> imageArray</span><span class="token" style="color:#111b27">[</span><span>i</span><span class="token" style="color:#111b27">]</span><span class="token" style="color:#111b27">;</span><span>
</span><span>        alphaChannelOnlyImageData</span><span class="token" style="color:#111b27">.</span><span class="token" style="color:#005a8e">data</span><span class="token" style="color:#111b27">[</span><span>i </span><span class="token" style="color:#a04900">-</span><span> </span><span class="token" style="color:#755f00">2</span><span class="token" style="color:#111b27">]</span><span> </span><span class="token" style="color:#a04900">=</span><span> imageArray</span><span class="token" style="color:#111b27">[</span><span>i</span><span class="token" style="color:#111b27">]</span><span class="token" style="color:#111b27">;</span><span>
</span><span>        alphaChannelOnlyImageData</span><span class="token" style="color:#111b27">.</span><span class="token" style="color:#005a8e">data</span><span class="token" style="color:#111b27">[</span><span>i </span><span class="token" style="color:#a04900">-</span><span> </span><span class="token" style="color:#755f00">3</span><span class="token" style="color:#111b27">]</span><span> </span><span class="token" style="color:#a04900">=</span><span> imageArray</span><span class="token" style="color:#111b27">[</span><span>i</span><span class="token" style="color:#111b27">]</span><span class="token" style="color:#111b27">;</span><span>
</span><span>      </span><span class="token" style="color:#111b27">}</span><span>
</span>
<span>      ctx</span><span class="token" style="color:#111b27">.</span><span class="token method" style="color:#005a8e">putImageData</span><span class="token" style="color:#111b27">(</span><span>alphaChannelOnlyImageData</span><span class="token" style="color:#111b27">,</span><span> </span><span class="token" style="color:#755f00">0</span><span class="token" style="color:#111b27">,</span><span> </span><span class="token" style="color:#755f00">0</span><span class="token" style="color:#111b27">)</span><span class="token" style="color:#111b27">;</span><span> </span><span class="token" style="color:#3c526d">// Debug only</span><span>
</span>
<span>      </span><span class="token" style="color:#a04900">const</span><span> imageUint8Array </span><span class="token" style="color:#a04900">=</span><span> </span><span class="token" style="color:#a04900">new</span><span> </span><span class="token" style="color:#005a8e">Uint8Array</span><span class="token" style="color:#111b27">(</span><span>alphaChannelOnlyImageData</span><span class="token" style="color:#111b27">.</span><span class="token" style="color:#005a8e">data</span><span class="token" style="color:#111b27">.</span><span class="token" style="color:#005a8e">length</span><span> </span><span class="token" style="color:#a04900">/</span><span> </span><span class="token" style="color:#755f00">4</span><span class="token" style="color:#111b27">)</span><span class="token" style="color:#111b27">;</span><span>
</span>
<span>      </span><span class="token" style="color:#3c526d">// Take any one channel R, G, or B</span><span>
</span><span>      </span><span class="token control-flow" style="color:#a04900">for</span><span> </span><span class="token" style="color:#111b27">(</span><span class="token" style="color:#a04900">let</span><span> i </span><span class="token" style="color:#a04900">=</span><span> </span><span class="token" style="color:#755f00">0</span><span class="token" style="color:#111b27">;</span><span> i </span><span class="token" style="color:#a04900">&lt;</span><span> alphaChannelOnlyImageData</span><span class="token" style="color:#111b27">.</span><span class="token" style="color:#005a8e">data</span><span class="token" style="color:#111b27">.</span><span class="token" style="color:#005a8e">length</span><span class="token" style="color:#111b27">;</span><span> i </span><span class="token" style="color:#a04900">+=</span><span> </span><span class="token" style="color:#755f00">4</span><span class="token" style="color:#111b27">)</span><span> </span><span class="token" style="color:#111b27">{</span><span>
</span><span>        imageUint8Array</span><span class="token" style="color:#111b27">[</span><span>i </span><span class="token" style="color:#a04900">/</span><span> </span><span class="token" style="color:#755f00">4</span><span class="token" style="color:#111b27">]</span><span> </span><span class="token" style="color:#a04900">=</span><span> alphaChannelOnlyImageData</span><span class="token" style="color:#111b27">.</span><span class="token" style="color:#005a8e">data</span><span class="token" style="color:#111b27">[</span><span>i</span><span class="token" style="color:#111b27">]</span><span class="token" style="color:#111b27">;</span><span>
</span><span>      </span><span class="token" style="color:#111b27">}</span><span>
</span>
<span>      </span><span class="token" style="color:#7c00aa">resolve</span><span class="token" style="color:#111b27">(</span><span>imageUint8Array</span><span class="token" style="color:#111b27">)</span><span class="token" style="color:#111b27">;</span><span>
</span><span>    </span><span class="token" style="color:#111b27">}</span><span class="token" style="color:#111b27">;</span><span>
</span>
<span>    img</span><span class="token" style="color:#111b27">.</span><span class="token method-variable function-variable method" style="color:#7c00aa">onerror</span><span> </span><span class="token" style="color:#a04900">=</span><span> </span><span class="token" style="color:#111b27">(</span><span class="token" style="color:#005a8e">error</span><span class="token" style="color:#111b27">)</span><span> </span><span class="token arrow" style="color:#a04900">=&gt;</span><span> </span><span class="token" style="color:#111b27">{</span><span>
</span><span>      </span><span class="token" style="color:#7c00aa">reject</span><span class="token" style="color:#111b27">(</span><span>error</span><span class="token" style="color:#111b27">)</span><span class="token" style="color:#111b27">;</span><span>
</span><span>    </span><span class="token" style="color:#111b27">}</span><span class="token" style="color:#111b27">;</span><span>
</span><span>  </span><span class="token" style="color:#111b27">}</span><span class="token" style="color:#111b27">)</span><span class="token" style="color:#111b27">;</span><span>
</span><span></span><span class="token" style="color:#111b27">}</span></code></pre>
                </div>
                <p class="MuiTypography-root MuiTypography-p css-vsuld9">
                  Okay, so we create a canvas in the Home component called
                  <span class="MuiBox-root css-87x4qo">tempCanvas</span>,
                  let&#x27;s put it to some use. In our function, we get this
                  canvas and its context. We then create a new image with the
                  given data URI. When this image loads, we resize it to 28x28
                  and extract the alpha channel. But why the alpha channel? The
                  image that we draw in the browser is black on white. But, for
                  Konva, the image is a black stroke on a transparent background
                  i.e. all R, G, and B channels are 0 everywhere and the alpha
                  channel is 255 wherever there is a stroke. So, after we draw
                  the image on
                  <span class="MuiBox-root css-87x4qo">tempCanvas</span> to
                  resize it, we extract the alpha channel from the image data
                  and draw it on the same canvas again for debugging. For
                  creating the tensor that would be passed to the model, we take
                  any one channel (R, G, or B) from the image and construct a
                  28x28 matrix of Uint8.
                </p>
                <p class="MuiTypography-root MuiTypography-p css-vsuld9">
                  Right. But this 28x28 matrix is Uint 8, the values aren&#x27;t
                  normalized and they are not floats. That brings us to our
                  second function:
                </p>
                <div class="MuiBox-root css-dzaqf9">
                  <div class="MuiBox-root css-125pbeb">
                    <button
                      class="MuiButtonBase-root MuiIconButton-root MuiIconButton-colorPrimary MuiIconButton-sizeLarge css-h1oho"
                      tabindex="0"
                      type="button"
                    >
                      <svg
                        class="MuiSvgIcon-root MuiSvgIcon-fontSizeMedium css-vubbuv"
                        focusable="false"
                        aria-hidden="true"
                        viewBox="0 0 24 24"
                        data-testid="ContentCopyIcon"
                      >
                        <path
                          d="M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12zm3 4H8c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h11c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2m0 16H8V7h11z"
                        ></path>
                      </svg>
                    </button>
                  </div>
                  <pre
                    style="
                      color: #111b27;
                      background: #e3eaf2;
                      font-family: Consolas, Monaco, &quot;Andale Mono&quot;,
                        &quot;Ubuntu Mono&quot;, monospace;
                      text-align: left;
                      white-space: pre;
                      word-spacing: normal;
                      word-break: normal;
                      word-wrap: normal;
                      line-height: 1.5;
                      -moz-tab-size: 4;
                      -o-tab-size: 4;
                      tab-size: 4;
                      -webkit-hyphens: none;
                      -moz-hyphens: none;
                      -ms-hyphens: none;
                      hyphens: none;
                      padding: 1em;
                      margin: 0;
                      overflow: auto;
                    "
                  ><code class="language-javascript" style="color:#111b27;background:none;font-family:Consolas, Monaco, &quot;Andale Mono&quot;, &quot;Ubuntu Mono&quot;, monospace;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none"><span class="token" style="color:#a04900">function</span><span> </span><span class="token" style="color:#7c00aa">imageArrayToTensor</span><span class="token" style="color:#111b27">(</span><span class="token" style="color:#005a8e">imageUint8Array</span><span class="token" style="color:#111b27">)</span><span> </span><span class="token" style="color:#111b27">{</span><span>
</span><span>  </span><span class="token" style="color:#a04900">let</span><span> tensorValues </span><span class="token" style="color:#a04900">=</span><span> </span><span class="token" style="color:#a04900">new</span><span> </span><span class="token" style="color:#005a8e">Float32Array</span><span class="token" style="color:#111b27">(</span><span>imageUint8Array</span><span class="token" style="color:#111b27">.</span><span class="token" style="color:#005a8e">length</span><span class="token" style="color:#111b27">)</span><span class="token" style="color:#111b27">;</span><span>
</span>
<span>  </span><span class="token control-flow" style="color:#a04900">for</span><span> </span><span class="token" style="color:#111b27">(</span><span class="token" style="color:#a04900">let</span><span> i </span><span class="token" style="color:#a04900">=</span><span> </span><span class="token" style="color:#755f00">0</span><span class="token" style="color:#111b27">;</span><span> i </span><span class="token" style="color:#a04900">&lt;</span><span> imageUint8Array</span><span class="token" style="color:#111b27">.</span><span class="token" style="color:#005a8e">length</span><span class="token" style="color:#111b27">;</span><span> i</span><span class="token" style="color:#a04900">++</span><span class="token" style="color:#111b27">)</span><span> </span><span class="token" style="color:#111b27">{</span><span>
</span><span>    tensorValues</span><span class="token" style="color:#111b27">[</span><span>i</span><span class="token" style="color:#111b27">]</span><span> </span><span class="token" style="color:#a04900">=</span><span> imageUint8Array</span><span class="token" style="color:#111b27">[</span><span>i</span><span class="token" style="color:#111b27">]</span><span> </span><span class="token" style="color:#a04900">/</span><span> </span><span class="token" style="color:#755f00">255</span><span class="token" style="color:#111b27">;</span><span>
</span><span>  </span><span class="token" style="color:#111b27">}</span><span>
</span>
<span>  </span><span class="token" style="color:#a04900">const</span><span> imageTensor </span><span class="token" style="color:#a04900">=</span><span> </span><span class="token" style="color:#a04900">new</span><span> </span><span class="token" style="color:#005a8e">ort</span><span class="token" style="color:#111b27">.</span><span class="token" style="color:#005a8e">Tensor</span><span class="token" style="color:#111b27">(</span><span class="token" style="color:#116b00">&quot;float32&quot;</span><span class="token" style="color:#111b27">,</span><span> tensorValues</span><span class="token" style="color:#111b27">,</span><span> inputShape</span><span class="token" style="color:#111b27">)</span><span class="token" style="color:#111b27">;</span><span>
</span><span>  </span><span class="token control-flow" style="color:#a04900">return</span><span> imageTensor</span><span class="token" style="color:#111b27">;</span><span>
</span><span></span><span class="token" style="color:#111b27">}</span></code></pre>
                </div>
                <p class="MuiTypography-root MuiTypography-p css-vsuld9">
                  We create a
                  <span class="MuiBox-root css-87x4qo">Float32Array</span> of
                  the same size as the input Uint8 array and set its values to
                  that of the input array divided by 255 i.e. bringing the input
                  values to the 0 to 1 range. Finally, we create an
                  <span class="MuiBox-root css-87x4qo">ort.Tensor</span> using
                  these values of the required input shape (as we saw in the
                  visualization) and return it.
                </p>
                <p class="MuiTypography-root MuiTypography-p css-vsuld9">
                  Here is the entire
                  <span class="MuiBox-root css-87x4qo"
                    >src/inferencing/imageProcessing.js</span
                  >
                  file
                </p>
                <div class="MuiBox-root css-dzaqf9">
                  <div class="MuiBox-root css-125pbeb">
                    <button
                      class="MuiButtonBase-root MuiIconButton-root MuiIconButton-colorPrimary MuiIconButton-sizeLarge css-h1oho"
                      tabindex="0"
                      type="button"
                    >
                      <svg
                        class="MuiSvgIcon-root MuiSvgIcon-fontSizeMedium css-vubbuv"
                        focusable="false"
                        aria-hidden="true"
                        viewBox="0 0 24 24"
                        data-testid="ContentCopyIcon"
                      >
                        <path
                          d="M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12zm3 4H8c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h11c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2m0 16H8V7h11z"
                        ></path>
                      </svg>
                    </button>
                  </div>
                  <pre
                    style="
                      color: #111b27;
                      background: #e3eaf2;
                      font-family: Consolas, Monaco, &quot;Andale Mono&quot;,
                        &quot;Ubuntu Mono&quot;, monospace;
                      text-align: left;
                      white-space: pre;
                      word-spacing: normal;
                      word-break: normal;
                      word-wrap: normal;
                      line-height: 1.5;
                      -moz-tab-size: 4;
                      -o-tab-size: 4;
                      tab-size: 4;
                      -webkit-hyphens: none;
                      -moz-hyphens: none;
                      -ms-hyphens: none;
                      hyphens: none;
                      padding: 1em;
                      margin: 0;
                      overflow: auto;
                    "
                  ><code class="language-javascript" style="color:#111b27;background:none;font-family:Consolas, Monaco, &quot;Andale Mono&quot;, &quot;Ubuntu Mono&quot;, monospace;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none"><span class="token module" style="color:#a04900">import</span><span> </span><span class="token imports">ort</span><span> </span><span class="token module" style="color:#a04900">from</span><span> </span><span class="token" style="color:#116b00">&quot;onnxruntime-web&quot;</span><span class="token" style="color:#111b27">;</span><span>
</span>
<span></span><span class="token" style="color:#a04900">const</span><span> inputImageShape </span><span class="token" style="color:#a04900">=</span><span> </span><span class="token" style="color:#111b27">[</span><span class="token" style="color:#755f00">28</span><span class="token" style="color:#111b27">,</span><span> </span><span class="token" style="color:#755f00">28</span><span class="token" style="color:#111b27">]</span><span class="token" style="color:#111b27">;</span><span>
</span><span></span><span class="token" style="color:#a04900">const</span><span> inputShape </span><span class="token" style="color:#a04900">=</span><span> </span><span class="token" style="color:#111b27">[</span><span class="token" style="color:#755f00">1</span><span class="token" style="color:#111b27">,</span><span> </span><span class="token" style="color:#755f00">1</span><span class="token" style="color:#111b27">,</span><span> </span><span class="token" style="color:#755f00">28</span><span class="token" style="color:#111b27">,</span><span> </span><span class="token" style="color:#755f00">28</span><span class="token" style="color:#111b27">]</span><span class="token" style="color:#111b27">;</span><span>
</span>
<span></span><span class="token" style="color:#a04900">function</span><span> </span><span class="token" style="color:#7c00aa">extractGreyscaleImageFromKonvaStage</span><span class="token" style="color:#111b27">(</span><span class="token" style="color:#005a8e">imageDataUri</span><span class="token" style="color:#111b27">,</span><span class="token" style="color:#005a8e"> imageProcessingCanvasId</span><span class="token" style="color:#111b27">)</span><span> </span><span class="token" style="color:#111b27">{</span><span>
</span><span>  </span><span class="token" style="color:#a04900">const</span><span> canvas </span><span class="token" style="color:#a04900">=</span><span> </span><span class="token dom" style="color:#005a8e">document</span><span class="token" style="color:#111b27">.</span><span class="token method" style="color:#005a8e">getElementById</span><span class="token" style="color:#111b27">(</span><span>imageProcessingCanvasId</span><span class="token" style="color:#111b27">)</span><span class="token" style="color:#111b27">;</span><span>
</span><span>  </span><span class="token" style="color:#a04900">const</span><span> ctx </span><span class="token" style="color:#a04900">=</span><span> canvas</span><span class="token" style="color:#111b27">.</span><span class="token method" style="color:#005a8e">getContext</span><span class="token" style="color:#111b27">(</span><span class="token" style="color:#116b00">&quot;2d&quot;</span><span class="token" style="color:#111b27">)</span><span class="token" style="color:#111b27">;</span><span>
</span>
<span>  </span><span class="token" style="color:#a04900">const</span><span> img </span><span class="token" style="color:#a04900">=</span><span> </span><span class="token" style="color:#a04900">new</span><span> </span><span class="token" style="color:#005a8e">Image</span><span class="token" style="color:#111b27">(</span><span class="token" style="color:#111b27">)</span><span class="token" style="color:#111b27">;</span><span>
</span><span>  img</span><span class="token" style="color:#111b27">.</span><span class="token" style="color:#005a8e">src</span><span> </span><span class="token" style="color:#a04900">=</span><span> imageDataUri</span><span class="token" style="color:#111b27">;</span><span>
</span>
<span>  </span><span class="token control-flow" style="color:#a04900">return</span><span> </span><span class="token" style="color:#a04900">new</span><span> </span><span class="token" style="color:#005a8e">Promise</span><span class="token" style="color:#111b27">(</span><span class="token" style="color:#111b27">(</span><span class="token" style="color:#005a8e">resolve</span><span class="token" style="color:#111b27">,</span><span class="token" style="color:#005a8e"> reject</span><span class="token" style="color:#111b27">)</span><span> </span><span class="token arrow" style="color:#a04900">=&gt;</span><span> </span><span class="token" style="color:#111b27">{</span><span>
</span><span>    img</span><span class="token" style="color:#111b27">.</span><span class="token method-variable function-variable method" style="color:#7c00aa">onload</span><span> </span><span class="token" style="color:#a04900">=</span><span> </span><span class="token" style="color:#111b27">(</span><span class="token" style="color:#111b27">)</span><span> </span><span class="token arrow" style="color:#a04900">=&gt;</span><span> </span><span class="token" style="color:#111b27">{</span><span>
</span><span>      canvas</span><span class="token" style="color:#111b27">.</span><span class="token" style="color:#005a8e">width</span><span> </span><span class="token" style="color:#a04900">=</span><span> inputImageShape</span><span class="token" style="color:#111b27">[</span><span class="token" style="color:#755f00">0</span><span class="token" style="color:#111b27">]</span><span class="token" style="color:#111b27">;</span><span>
</span><span>      canvas</span><span class="token" style="color:#111b27">.</span><span class="token" style="color:#005a8e">height</span><span> </span><span class="token" style="color:#a04900">=</span><span> inputImageShape</span><span class="token" style="color:#111b27">[</span><span class="token" style="color:#755f00">1</span><span class="token" style="color:#111b27">]</span><span class="token" style="color:#111b27">;</span><span>
</span>
<span>      ctx</span><span class="token" style="color:#111b27">.</span><span class="token method" style="color:#005a8e">drawImage</span><span class="token" style="color:#111b27">(</span><span>img</span><span class="token" style="color:#111b27">,</span><span> </span><span class="token" style="color:#755f00">0</span><span class="token" style="color:#111b27">,</span><span> </span><span class="token" style="color:#755f00">0</span><span class="token" style="color:#111b27">,</span><span> inputImageShape</span><span class="token" style="color:#111b27">[</span><span class="token" style="color:#755f00">0</span><span class="token" style="color:#111b27">]</span><span class="token" style="color:#111b27">,</span><span> inputImageShape</span><span class="token" style="color:#111b27">[</span><span class="token" style="color:#755f00">1</span><span class="token" style="color:#111b27">]</span><span class="token" style="color:#111b27">)</span><span class="token" style="color:#111b27">;</span><span>
</span>
<span>      </span><span class="token" style="color:#a04900">const</span><span> imageData </span><span class="token" style="color:#a04900">=</span><span> ctx</span><span class="token" style="color:#111b27">.</span><span class="token method" style="color:#005a8e">getImageData</span><span class="token" style="color:#111b27">(</span><span class="token" style="color:#755f00">0</span><span class="token" style="color:#111b27">,</span><span> </span><span class="token" style="color:#755f00">0</span><span class="token" style="color:#111b27">,</span><span> inputImageShape</span><span class="token" style="color:#111b27">[</span><span class="token" style="color:#755f00">0</span><span class="token" style="color:#111b27">]</span><span class="token" style="color:#111b27">,</span><span> inputImageShape</span><span class="token" style="color:#111b27">[</span><span class="token" style="color:#755f00">1</span><span class="token" style="color:#111b27">]</span><span class="token" style="color:#111b27">)</span><span class="token" style="color:#111b27">;</span><span>
</span><span>      </span><span class="token" style="color:#a04900">const</span><span> imageArray </span><span class="token" style="color:#a04900">=</span><span> imageData</span><span class="token" style="color:#111b27">.</span><span class="token" style="color:#005a8e">data</span><span class="token" style="color:#111b27">;</span><span>
</span><span>      </span><span class="token" style="color:#3c526d">// r(1, 1), g(1, 1), b(1, 1), a(1, 1), r(2, 1), g(2, 1), b(2, 1), a(2, 1), ...</span><span>
</span>
<span>      </span><span class="token" style="color:#3c526d">// Constructing the alphaChannelOnlyImageData only for drawing the image for debugging.</span><span>
</span><span>      </span><span class="token" style="color:#a04900">const</span><span> alphaChannelOnlyImageData </span><span class="token" style="color:#a04900">=</span><span> </span><span class="token" style="color:#a04900">new</span><span> </span><span class="token" style="color:#005a8e">ImageData</span><span class="token" style="color:#111b27">(</span><span>
</span><span>        </span><span class="token" style="color:#a04900">new</span><span> </span><span class="token" style="color:#005a8e">Uint8ClampedArray</span><span class="token" style="color:#111b27">(</span><span>imageArray</span><span class="token" style="color:#111b27">.</span><span class="token" style="color:#005a8e">length</span><span class="token" style="color:#111b27">)</span><span class="token" style="color:#111b27">,</span><span>
</span><span>        inputImageShape</span><span class="token" style="color:#111b27">[</span><span class="token" style="color:#755f00">0</span><span class="token" style="color:#111b27">]</span><span class="token" style="color:#111b27">,</span><span>
</span><span>        inputImageShape</span><span class="token" style="color:#111b27">[</span><span class="token" style="color:#755f00">1</span><span class="token" style="color:#111b27">]</span><span>
</span><span>      </span><span class="token" style="color:#111b27">)</span><span class="token" style="color:#111b27">;</span><span>
</span>
<span>      </span><span class="token control-flow" style="color:#a04900">for</span><span> </span><span class="token" style="color:#111b27">(</span><span class="token" style="color:#a04900">let</span><span> i </span><span class="token" style="color:#a04900">=</span><span> </span><span class="token" style="color:#755f00">3</span><span class="token" style="color:#111b27">;</span><span> i </span><span class="token" style="color:#a04900">&lt;</span><span> imageArray</span><span class="token" style="color:#111b27">.</span><span class="token" style="color:#005a8e">length</span><span class="token" style="color:#111b27">;</span><span> i </span><span class="token" style="color:#a04900">+=</span><span> </span><span class="token" style="color:#755f00">4</span><span class="token" style="color:#111b27">)</span><span> </span><span class="token" style="color:#111b27">{</span><span>
</span><span>        alphaChannelOnlyImageData</span><span class="token" style="color:#111b27">.</span><span class="token" style="color:#005a8e">data</span><span class="token" style="color:#111b27">[</span><span>i</span><span class="token" style="color:#111b27">]</span><span> </span><span class="token" style="color:#a04900">=</span><span> </span><span class="token" style="color:#755f00">255</span><span class="token" style="color:#111b27">;</span><span>
</span><span>        alphaChannelOnlyImageData</span><span class="token" style="color:#111b27">.</span><span class="token" style="color:#005a8e">data</span><span class="token" style="color:#111b27">[</span><span>i </span><span class="token" style="color:#a04900">-</span><span> </span><span class="token" style="color:#755f00">1</span><span class="token" style="color:#111b27">]</span><span> </span><span class="token" style="color:#a04900">=</span><span> imageArray</span><span class="token" style="color:#111b27">[</span><span>i</span><span class="token" style="color:#111b27">]</span><span class="token" style="color:#111b27">;</span><span>
</span><span>        alphaChannelOnlyImageData</span><span class="token" style="color:#111b27">.</span><span class="token" style="color:#005a8e">data</span><span class="token" style="color:#111b27">[</span><span>i </span><span class="token" style="color:#a04900">-</span><span> </span><span class="token" style="color:#755f00">2</span><span class="token" style="color:#111b27">]</span><span> </span><span class="token" style="color:#a04900">=</span><span> imageArray</span><span class="token" style="color:#111b27">[</span><span>i</span><span class="token" style="color:#111b27">]</span><span class="token" style="color:#111b27">;</span><span>
</span><span>        alphaChannelOnlyImageData</span><span class="token" style="color:#111b27">.</span><span class="token" style="color:#005a8e">data</span><span class="token" style="color:#111b27">[</span><span>i </span><span class="token" style="color:#a04900">-</span><span> </span><span class="token" style="color:#755f00">3</span><span class="token" style="color:#111b27">]</span><span> </span><span class="token" style="color:#a04900">=</span><span> imageArray</span><span class="token" style="color:#111b27">[</span><span>i</span><span class="token" style="color:#111b27">]</span><span class="token" style="color:#111b27">;</span><span>
</span><span>      </span><span class="token" style="color:#111b27">}</span><span>
</span>
<span>      ctx</span><span class="token" style="color:#111b27">.</span><span class="token method" style="color:#005a8e">putImageData</span><span class="token" style="color:#111b27">(</span><span>alphaChannelOnlyImageData</span><span class="token" style="color:#111b27">,</span><span> </span><span class="token" style="color:#755f00">0</span><span class="token" style="color:#111b27">,</span><span> </span><span class="token" style="color:#755f00">0</span><span class="token" style="color:#111b27">)</span><span class="token" style="color:#111b27">;</span><span> </span><span class="token" style="color:#3c526d">// Debug only</span><span>
</span>
<span>      </span><span class="token" style="color:#a04900">const</span><span> imageUint8Array </span><span class="token" style="color:#a04900">=</span><span> </span><span class="token" style="color:#a04900">new</span><span> </span><span class="token" style="color:#005a8e">Uint8Array</span><span class="token" style="color:#111b27">(</span><span>alphaChannelOnlyImageData</span><span class="token" style="color:#111b27">.</span><span class="token" style="color:#005a8e">data</span><span class="token" style="color:#111b27">.</span><span class="token" style="color:#005a8e">length</span><span> </span><span class="token" style="color:#a04900">/</span><span> </span><span class="token" style="color:#755f00">4</span><span class="token" style="color:#111b27">)</span><span class="token" style="color:#111b27">;</span><span>
</span>
<span>      </span><span class="token" style="color:#3c526d">// Take any one channel R, G, or B</span><span>
</span><span>      </span><span class="token control-flow" style="color:#a04900">for</span><span> </span><span class="token" style="color:#111b27">(</span><span class="token" style="color:#a04900">let</span><span> i </span><span class="token" style="color:#a04900">=</span><span> </span><span class="token" style="color:#755f00">0</span><span class="token" style="color:#111b27">;</span><span> i </span><span class="token" style="color:#a04900">&lt;</span><span> alphaChannelOnlyImageData</span><span class="token" style="color:#111b27">.</span><span class="token" style="color:#005a8e">data</span><span class="token" style="color:#111b27">.</span><span class="token" style="color:#005a8e">length</span><span class="token" style="color:#111b27">;</span><span> i </span><span class="token" style="color:#a04900">+=</span><span> </span><span class="token" style="color:#755f00">4</span><span class="token" style="color:#111b27">)</span><span> </span><span class="token" style="color:#111b27">{</span><span>
</span><span>        imageUint8Array</span><span class="token" style="color:#111b27">[</span><span>i </span><span class="token" style="color:#a04900">/</span><span> </span><span class="token" style="color:#755f00">4</span><span class="token" style="color:#111b27">]</span><span> </span><span class="token" style="color:#a04900">=</span><span> alphaChannelOnlyImageData</span><span class="token" style="color:#111b27">.</span><span class="token" style="color:#005a8e">data</span><span class="token" style="color:#111b27">[</span><span>i</span><span class="token" style="color:#111b27">]</span><span class="token" style="color:#111b27">;</span><span>
</span><span>      </span><span class="token" style="color:#111b27">}</span><span>
</span>
<span>      </span><span class="token" style="color:#7c00aa">resolve</span><span class="token" style="color:#111b27">(</span><span>imageUint8Array</span><span class="token" style="color:#111b27">)</span><span class="token" style="color:#111b27">;</span><span>
</span><span>    </span><span class="token" style="color:#111b27">}</span><span class="token" style="color:#111b27">;</span><span>
</span>
<span>    img</span><span class="token" style="color:#111b27">.</span><span class="token method-variable function-variable method" style="color:#7c00aa">onerror</span><span> </span><span class="token" style="color:#a04900">=</span><span> </span><span class="token" style="color:#111b27">(</span><span class="token" style="color:#005a8e">error</span><span class="token" style="color:#111b27">)</span><span> </span><span class="token arrow" style="color:#a04900">=&gt;</span><span> </span><span class="token" style="color:#111b27">{</span><span>
</span><span>      </span><span class="token" style="color:#7c00aa">reject</span><span class="token" style="color:#111b27">(</span><span>error</span><span class="token" style="color:#111b27">)</span><span class="token" style="color:#111b27">;</span><span>
</span><span>    </span><span class="token" style="color:#111b27">}</span><span class="token" style="color:#111b27">;</span><span>
</span><span>  </span><span class="token" style="color:#111b27">}</span><span class="token" style="color:#111b27">)</span><span class="token" style="color:#111b27">;</span><span>
</span><span></span><span class="token" style="color:#111b27">}</span><span>
</span>
<span></span><span class="token" style="color:#a04900">function</span><span> </span><span class="token" style="color:#7c00aa">imageArrayToTensor</span><span class="token" style="color:#111b27">(</span><span class="token" style="color:#005a8e">imageUint8Array</span><span class="token" style="color:#111b27">)</span><span> </span><span class="token" style="color:#111b27">{</span><span>
</span><span>  </span><span class="token" style="color:#a04900">let</span><span> tensorValues </span><span class="token" style="color:#a04900">=</span><span> </span><span class="token" style="color:#a04900">new</span><span> </span><span class="token" style="color:#005a8e">Float32Array</span><span class="token" style="color:#111b27">(</span><span>imageUint8Array</span><span class="token" style="color:#111b27">.</span><span class="token" style="color:#005a8e">length</span><span class="token" style="color:#111b27">)</span><span class="token" style="color:#111b27">;</span><span>
</span>
<span>  </span><span class="token control-flow" style="color:#a04900">for</span><span> </span><span class="token" style="color:#111b27">(</span><span class="token" style="color:#a04900">let</span><span> i </span><span class="token" style="color:#a04900">=</span><span> </span><span class="token" style="color:#755f00">0</span><span class="token" style="color:#111b27">;</span><span> i </span><span class="token" style="color:#a04900">&lt;</span><span> imageUint8Array</span><span class="token" style="color:#111b27">.</span><span class="token" style="color:#005a8e">length</span><span class="token" style="color:#111b27">;</span><span> i</span><span class="token" style="color:#a04900">++</span><span class="token" style="color:#111b27">)</span><span> </span><span class="token" style="color:#111b27">{</span><span>
</span><span>    tensorValues</span><span class="token" style="color:#111b27">[</span><span>i</span><span class="token" style="color:#111b27">]</span><span> </span><span class="token" style="color:#a04900">=</span><span> imageUint8Array</span><span class="token" style="color:#111b27">[</span><span>i</span><span class="token" style="color:#111b27">]</span><span> </span><span class="token" style="color:#a04900">/</span><span> </span><span class="token" style="color:#755f00">255</span><span class="token" style="color:#111b27">;</span><span>
</span><span>  </span><span class="token" style="color:#111b27">}</span><span>
</span>
<span>  </span><span class="token" style="color:#a04900">const</span><span> imageTensor </span><span class="token" style="color:#a04900">=</span><span> </span><span class="token" style="color:#a04900">new</span><span> </span><span class="token" style="color:#005a8e">ort</span><span class="token" style="color:#111b27">.</span><span class="token" style="color:#005a8e">Tensor</span><span class="token" style="color:#111b27">(</span><span class="token" style="color:#116b00">&quot;float32&quot;</span><span class="token" style="color:#111b27">,</span><span> tensorValues</span><span class="token" style="color:#111b27">,</span><span> inputShape</span><span class="token" style="color:#111b27">)</span><span class="token" style="color:#111b27">;</span><span>
</span><span>  </span><span class="token control-flow" style="color:#a04900">return</span><span> imageTensor</span><span class="token" style="color:#111b27">;</span><span>
</span><span></span><span class="token" style="color:#111b27">}</span><span>
</span>
<span></span><span class="token module" style="color:#a04900">export</span><span> </span><span class="token exports" style="color:#111b27">{</span><span class="token exports"> extractGreyscaleImageFromKonvaStage</span><span class="token exports" style="color:#111b27">,</span><span class="token exports"> imageArrayToTensor </span><span class="token exports" style="color:#111b27">}</span><span class="token" style="color:#111b27">;</span></code></pre>
                </div>
                <h2
                  class="MuiTypography-root MuiTypography-h5 css-1oj41as"
                  id="onnx-runtime-inference"
                >
                  <strong>ONNX Runtime Inference</strong>
                </h2>
                <p class="MuiTypography-root MuiTypography-p css-vsuld9">
                  Inside the
                  <span class="MuiBox-root css-87x4qo">src/inferencing</span>
                  folder, create a new file called
                  <span class="MuiBox-root css-87x4qo">onnx.js</span>:
                </p>
                <div class="MuiBox-root css-dzaqf9">
                  <div class="MuiBox-root css-125pbeb">
                    <button
                      class="MuiButtonBase-root MuiIconButton-root MuiIconButton-colorPrimary MuiIconButton-sizeLarge css-h1oho"
                      tabindex="0"
                      type="button"
                    >
                      <svg
                        class="MuiSvgIcon-root MuiSvgIcon-fontSizeMedium css-vubbuv"
                        focusable="false"
                        aria-hidden="true"
                        viewBox="0 0 24 24"
                        data-testid="ContentCopyIcon"
                      >
                        <path
                          d="M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12zm3 4H8c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h11c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2m0 16H8V7h11z"
                        ></path>
                      </svg>
                    </button>
                  </div>
                  <pre
                    style="
                      color: #111b27;
                      background: #e3eaf2;
                      font-family: Consolas, Monaco, &quot;Andale Mono&quot;,
                        &quot;Ubuntu Mono&quot;, monospace;
                      text-align: left;
                      white-space: pre;
                      word-spacing: normal;
                      word-break: normal;
                      word-wrap: normal;
                      line-height: 1.5;
                      -moz-tab-size: 4;
                      -o-tab-size: 4;
                      tab-size: 4;
                      -webkit-hyphens: none;
                      -moz-hyphens: none;
                      -ms-hyphens: none;
                      hyphens: none;
                      padding: 1em;
                      margin: 0;
                      overflow: auto;
                    "
                  ><code class="language-javascript" style="color:#111b27;background:none;font-family:Consolas, Monaco, &quot;Andale Mono&quot;, &quot;Ubuntu Mono&quot;, monospace;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none"><span class="token module" style="color:#a04900">import</span><span> </span><span class="token imports">ort</span><span> </span><span class="token module" style="color:#a04900">from</span><span> </span><span class="token" style="color:#116b00">&quot;onnxruntime-web&quot;</span><span class="token" style="color:#111b27">;</span><span>
</span>
<span></span><span class="token module" style="color:#a04900">import</span><span> </span><span class="token imports" style="color:#111b27">{</span><span class="token imports"> extractGreyscaleImageFromKonvaStage</span><span class="token imports" style="color:#111b27">,</span><span class="token imports"> imageArrayToTensor </span><span class="token imports" style="color:#111b27">}</span><span> </span><span class="token module" style="color:#a04900">from</span><span> </span><span class="token" style="color:#116b00">&quot;./imageProcessing&quot;</span><span class="token" style="color:#111b27">;</span><span>
</span><span></span><span class="token module" style="color:#a04900">import</span><span> </span><span class="token imports" style="color:#111b27">{</span><span class="token imports"> softmax</span><span class="token imports" style="color:#111b27">,</span><span class="token imports"> indexMax </span><span class="token imports" style="color:#111b27">}</span><span> </span><span class="token module" style="color:#a04900">from</span><span> </span><span class="token" style="color:#116b00">&quot;../utils/mathUtils&quot;</span><span class="token" style="color:#111b27">;</span><span>
</span>
<span></span><span class="token" style="color:#a04900">const</span><span> modelUrl </span><span class="token" style="color:#a04900">=</span><span> process</span><span class="token" style="color:#111b27">.</span><span class="token" style="color:#005a8e">env</span><span class="token" style="color:#111b27">.</span><span class="token" style="color:#755f00">PUBLIC_URL</span><span> </span><span class="token" style="color:#a04900">+</span><span> </span><span class="token" style="color:#116b00">&quot;/model.onnx&quot;</span><span class="token" style="color:#111b27">;</span><span>
</span><span></span><span class="token" style="color:#a04900">const</span><span> ortSession </span><span class="token" style="color:#a04900">=</span><span> </span><span class="token control-flow" style="color:#a04900">await</span><span> ort</span><span class="token" style="color:#111b27">.</span><span class="token maybe-class-name" style="color:#005a8e">InferenceSession</span><span class="token" style="color:#111b27">.</span><span class="token method" style="color:#005a8e">create</span><span class="token" style="color:#111b27">(</span><span>modelUrl</span><span class="token" style="color:#111b27">)</span><span class="token" style="color:#111b27">;</span><span>
</span>
<span></span><span class="token" style="color:#a04900">async</span><span> </span><span class="token" style="color:#a04900">function</span><span> </span><span class="token" style="color:#7c00aa">runInference</span><span class="token" style="color:#111b27">(</span><span class="token" style="color:#005a8e">imageDataUri</span><span class="token" style="color:#111b27">)</span><span> </span><span class="token" style="color:#111b27">{</span><span>
</span><span>  </span><span class="token" style="color:#a04900">const</span><span> greyscaleImage </span><span class="token" style="color:#a04900">=</span><span> </span><span class="token control-flow" style="color:#a04900">await</span><span> </span><span class="token" style="color:#7c00aa">extractGreyscaleImageFromKonvaStage</span><span class="token" style="color:#111b27">(</span><span>imageDataUri</span><span class="token" style="color:#111b27">,</span><span> </span><span class="token" style="color:#116b00">&quot;tempCanvas&quot;</span><span class="token" style="color:#111b27">)</span><span class="token" style="color:#111b27">;</span><span>
</span><span>  </span><span class="token" style="color:#a04900">const</span><span> imageTensor </span><span class="token" style="color:#a04900">=</span><span> </span><span class="token" style="color:#7c00aa">imageArrayToTensor</span><span class="token" style="color:#111b27">(</span><span>greyscaleImage</span><span class="token" style="color:#111b27">)</span><span class="token" style="color:#111b27">;</span><span>
</span>
<span>  </span><span class="token" style="color:#a04900">const</span><span> feeds </span><span class="token" style="color:#a04900">=</span><span> </span><span class="token" style="color:#111b27">{</span><span>
</span><span>    </span><span class="token" style="color:#111b27">[</span><span>ortSession</span><span class="token" style="color:#111b27">.</span><span class="token" style="color:#005a8e">inputNames</span><span class="token" style="color:#111b27">[</span><span class="token" style="color:#755f00">0</span><span class="token" style="color:#111b27">]</span><span class="token" style="color:#111b27">]</span><span class="token" style="color:#a04900">:</span><span> imageTensor</span><span class="token" style="color:#111b27">,</span><span>
</span><span>  </span><span class="token" style="color:#111b27">}</span><span class="token" style="color:#111b27">;</span><span>
</span>
<span>  </span><span class="token" style="color:#a04900">const</span><span> outputData </span><span class="token" style="color:#a04900">=</span><span> </span><span class="token control-flow" style="color:#a04900">await</span><span> ortSession</span><span class="token" style="color:#111b27">.</span><span class="token method" style="color:#005a8e">run</span><span class="token" style="color:#111b27">(</span><span>feeds</span><span class="token" style="color:#111b27">)</span><span class="token" style="color:#111b27">;</span><span>
</span><span>  </span><span class="token" style="color:#a04900">const</span><span> output </span><span class="token" style="color:#a04900">=</span><span> outputData</span><span class="token" style="color:#111b27">[</span><span>ortSession</span><span class="token" style="color:#111b27">.</span><span class="token" style="color:#005a8e">outputNames</span><span class="token" style="color:#111b27">[</span><span class="token" style="color:#755f00">0</span><span class="token" style="color:#111b27">]</span><span class="token" style="color:#111b27">]</span><span class="token" style="color:#111b27">;</span><span>
</span>
<span>  </span><span class="token" style="color:#a04900">const</span><span> outputSoftmax </span><span class="token" style="color:#a04900">=</span><span> </span><span class="token" style="color:#7c00aa">softmax</span><span class="token" style="color:#111b27">(</span><span class="token" style="color:#005a8e">Array</span><span class="token" style="color:#111b27">.</span><span class="token" style="color:#005a8e">prototype</span><span class="token" style="color:#111b27">.</span><span class="token method" style="color:#005a8e">slice</span><span class="token" style="color:#111b27">.</span><span class="token method" style="color:#005a8e">call</span><span class="token" style="color:#111b27">(</span><span>output</span><span class="token" style="color:#111b27">.</span><span class="token" style="color:#005a8e">data</span><span class="token" style="color:#111b27">)</span><span class="token" style="color:#111b27">)</span><span class="token" style="color:#111b27">;</span><span>
</span>
<span>  </span><span class="token" style="color:#a04900">const</span><span> outputClass </span><span class="token" style="color:#a04900">=</span><span> </span><span class="token" style="color:#7c00aa">indexMax</span><span class="token" style="color:#111b27">(</span><span>outputSoftmax</span><span class="token" style="color:#111b27">)</span><span class="token" style="color:#111b27">;</span><span>
</span><span>  </span><span class="token control-flow" style="color:#a04900">return</span><span> outputClass</span><span class="token" style="color:#111b27">;</span><span>
</span><span></span><span class="token" style="color:#111b27">}</span><span>
</span>
<span></span><span class="token module" style="color:#a04900">export</span><span> </span><span class="token module" style="color:#a04900">default</span><span> runInference</span><span class="token" style="color:#111b27">;</span></code></pre>
                </div>
                <p class="MuiTypography-root MuiTypography-p css-vsuld9">
                  In the
                  <span class="MuiBox-root css-87x4qo">runInference</span>
                  function, we extract the image from the data URI and convert
                  it into a Tensor. We construct
                  <span class="MuiBox-root css-87x4qo">feeds</span> where this
                  tensor serves as the first model input (we only have one
                  input) and then run the ORT session. With the received output,
                  we put it through our softmax and finally use
                  <span class="MuiBox-root css-87x4qo">indexMax</span> to get
                  the class. Here, the index itself is the class since the
                  classes range from 0 to 9.
                </p>
                <p class="MuiTypography-root MuiTypography-p css-vsuld9">
                  With this function done, let&#x27;s head back to
                  <span class="MuiBox-root css-87x4qo">localhost:3000</span>
                  (you might need to refresh). Now, we can try drawing an image
                  and hit the
                  <span class="MuiBox-root css-87x4qo">Predict</span> button.
                  You&#x27;ll see a black-on-white image appear below the button
                  and a prediction too.
                </p>
                <div class="MuiBox-root css-16am2bb">
                  <img
                    src="/media/images/react-digit-recog-app-final.jpg"
                    style="
                      width: 100%;
                      max-width: 75vw;
                      height: auto;
                      max-height: 35vh;
                      object-fit: cover;
                    "
                  />
                </div>
                <h1
                  class="MuiTypography-root MuiTypography-h4 css-rg843f"
                  id="conclusion"
                >
                  <strong>Conclusion</strong>
                </h1>
                <p class="MuiTypography-root MuiTypography-p css-vsuld9">
                  Congratulations. Today, we&#x27;ve learned the way to run ML
                  inference on the client side right in our web browser. Running
                  inference this way is immensely beneficial because we can
                  serve a static application and not have to set up, maintain,
                  and pay for backend servers.
                </p>
                <p class="MuiTypography-root MuiTypography-p css-vsuld9">
                  However, there can be some downsides. If you would like to
                  find out more about the pros and cons of having your model on
                  the Frontend vs the Backend, you would like to check out
                  <a
                    class="MuiTypography-root MuiTypography-inherit MuiLink-root MuiLink-underlineHover css-1vxruma"
                    href="/ml-ops/ml-inference-on-backend-vs-frontend"
                    >this Post</a
                  >. We also go over some cases in which deploying either on the
                  Frontend or the Backend is clearly superior.
                </p>
                <p class="MuiTypography-root MuiTypography-p css-vsuld9">
                  See you next time :)
                </p>
              </div>
            </div>
          </div>
        </div>
        <style data-emotion="css sdeu8y">
          .css-sdeu8y {
            margin-top: 40px;
            margin-bottom: 40px;
            padding-bottom: 16px;
            width: 100%;
            display: -webkit-box;
            display: -webkit-flex;
            display: -ms-flexbox;
            display: flex;
            -webkit-flex-direction: column;
            -ms-flex-direction: column;
            flex-direction: column;
            -webkit-box-pack: start;
            -ms-flex-pack: start;
            -webkit-justify-content: flex-start;
            justify-content: flex-start;
            -webkit-align-items: center;
            -webkit-box-align: center;
            -ms-flex-align: center;
            align-items: center;
          }
        </style>
        <div class="MuiBox-root css-sdeu8y">
          <style data-emotion="css iyxjf1">
            .css-iyxjf1 {
              box-sizing: border-box;
              display: -webkit-box;
              display: -webkit-flex;
              display: -ms-flexbox;
              display: flex;
              -webkit-box-flex-wrap: wrap;
              -webkit-flex-wrap: wrap;
              -ms-flex-wrap: wrap;
              flex-wrap: wrap;
              width: 100%;
              -webkit-flex-direction: row;
              -ms-flex-direction: row;
              flex-direction: row;
              margin-top: -16px;
              width: calc(100% + 16px);
              margin-left: -16px;
              margin-top: 32px;
              margin-bottom: 32px;
            }
            .css-iyxjf1 > .MuiGrid-item {
              padding-top: 16px;
            }
            .css-iyxjf1 > .MuiGrid-item {
              padding-left: 16px;
            }
          </style>
          <div
            class="MuiGrid-root MuiGrid-container MuiGrid-spacing-xs-2 css-iyxjf1"
          >
            <style data-emotion="css 1etv89n">
              .css-1etv89n {
                box-sizing: border-box;
                margin: 0;
                -webkit-flex-direction: row;
                -ms-flex-direction: row;
                flex-direction: row;
                -webkit-flex-basis: 100%;
                -ms-flex-preferred-size: 100%;
                flex-basis: 100%;
                -webkit-box-flex: 0;
                -webkit-flex-grow: 0;
                -ms-flex-positive: 0;
                flex-grow: 0;
                max-width: 100%;
              }
              @media (min-width: 600px) {
                .css-1etv89n {
                  -webkit-flex-basis: 50%;
                  -ms-flex-preferred-size: 50%;
                  flex-basis: 50%;
                  -webkit-box-flex: 0;
                  -webkit-flex-grow: 0;
                  -ms-flex-positive: 0;
                  flex-grow: 0;
                  max-width: 50%;
                }
              }
              @media (min-width: 900px) {
                .css-1etv89n {
                  -webkit-flex-basis: 33.333333%;
                  -ms-flex-preferred-size: 33.333333%;
                  flex-basis: 33.333333%;
                  -webkit-box-flex: 0;
                  -webkit-flex-grow: 0;
                  -ms-flex-positive: 0;
                  flex-grow: 0;
                  max-width: 33.333333%;
                }
              }
              @media (min-width: 1200px) {
                .css-1etv89n {
                  -webkit-flex-basis: 25%;
                  -ms-flex-preferred-size: 25%;
                  flex-basis: 25%;
                  -webkit-box-flex: 0;
                  -webkit-flex-grow: 0;
                  -ms-flex-positive: 0;
                  flex-grow: 0;
                  max-width: 25%;
                }
              }
              @media (min-width: 1536px) {
                .css-1etv89n {
                  -webkit-flex-basis: 25%;
                  -ms-flex-preferred-size: 25%;
                  flex-basis: 25%;
                  -webkit-box-flex: 0;
                  -webkit-flex-grow: 0;
                  -ms-flex-positive: 0;
                  flex-grow: 0;
                  max-width: 25%;
                }
              }
            </style>
            <div
              class="MuiGrid-root MuiGrid-item MuiGrid-grid-xs-12 MuiGrid-grid-sm-6 MuiGrid-grid-md-4 MuiGrid-grid-lg-3 css-1etv89n"
            >
              <a
                style="text-decoration: none"
                href="/ml-ops/ml-inference-on-backend-vs-frontend/"
                ><style data-emotion="css 1dp4q5j">
                  .css-1dp4q5j {
                    overflow: hidden;
                    width: 100%;
                    height: 100%;
                    box-shadow: 1px 1px 1px 1px "#eeeeee";
                  }
                  .css-1dp4q5j:hover {
                    box-shadow: 3px 3px 3px 3px "#eeeeee";
                    cursor: pointer;
                  }</style
                ><style data-emotion="css ewbf0o">
                  .css-ewbf0o {
                    background-color: #fff;
                    color: rgba(0, 0, 0, 0.87);
                    -webkit-transition: box-shadow 300ms
                      cubic-bezier(0.4, 0, 0.2, 1) 0ms;
                    transition: box-shadow 300ms cubic-bezier(0.4, 0, 0.2, 1)
                      0ms;
                    border-radius: 4px;
                    box-shadow:
                      0px 2px 1px -1px rgba(0, 0, 0, 0.2),
                      0px 1px 1px 0px rgba(0, 0, 0, 0.14),
                      0px 1px 3px 0px rgba(0, 0, 0, 0.12);
                    overflow: hidden;
                    width: 100%;
                    height: 100%;
                    box-shadow: 1px 1px 1px 1px "#eeeeee";
                  }
                  .css-ewbf0o:hover {
                    box-shadow: 3px 3px 3px 3px "#eeeeee";
                    cursor: pointer;
                  }
                </style>
                <div
                  class="MuiPaper-root MuiPaper-elevation MuiPaper-rounded MuiPaper-elevation1 MuiCard-root css-ewbf0o"
                >
                  <style data-emotion="css 146e5oc">
                    .css-146e5oc {
                      display: block;
                      -webkit-background-size: cover;
                      background-size: cover;
                      background-repeat: no-repeat;
                      -webkit-background-position: center;
                      background-position: center;
                      width: 100%;
                      object-fit: cover;
                      object-fit: cover;
                    }</style
                  ><img
                    class="MuiCardMedia-root MuiCardMedia-media MuiCardMedia-img css-146e5oc"
                    src="/media/images/ml-inference-on-backend-vs-frontend-thumbnail.jpg"
                    height="150"
                    alt="ML Inference on Backend vs Frontend"
                  /><style data-emotion="css 1qw96cp">
                    .css-1qw96cp {
                      padding: 16px;
                    }
                    .css-1qw96cp:last-child {
                      padding-bottom: 24px;
                    }
                  </style>
                  <div class="MuiCardContent-root css-1qw96cp">
                    <style data-emotion="css 4an0mh">
                      .css-4an0mh {
                        margin: 0;
                        font-family: "Roboto", "Helvetica", "Arial", sans-serif;
                        font-weight: 500;
                        font-size: 1.25rem;
                        line-height: 1.6;
                        letter-spacing: 0.0075em;
                        margin-bottom: 0.35em;
                      }
                    </style>
                    <h2
                      class="MuiTypography-root MuiTypography-h6 MuiTypography-gutterBottom css-4an0mh"
                    >
                      <!-- -->ML Inference on Backend vs Frontend
                    </h2>
                    <style data-emotion="css r1ev5b">
                      .css-r1ev5b {
                        margin: 0;
                        margin-bottom: 0.35em;
                        overflow: hidden;
                        text-overflow: ellipsis;
                        display: -webkit-box;
                        -webkit-line-clamp: 3;
                        -webkit-box-orient: vertical;
                      }
                    </style>
                    <p
                      class="MuiTypography-root MuiTypography-p MuiTypography-gutterBottom css-r1ev5b"
                    >
                      A comparison of ML inference speed and memory consumption
                      across various batch sizes on both GPU and CPU.
                    </p>
                    <style data-emotion="css 4jg4rq">
                      .css-4jg4rq {
                        width: 100%;
                        display: -webkit-box;
                        display: -webkit-flex;
                        display: -ms-flexbox;
                        display: flex;
                        -webkit-flex-direction: row;
                        -ms-flex-direction: row;
                        flex-direction: row;
                        -webkit-box-pack: end;
                        -ms-flex-pack: end;
                        -webkit-justify-content: flex-end;
                        justify-content: flex-end;
                        -webkit-align-items: center;
                        -webkit-box-align: center;
                        -ms-flex-align: center;
                        align-items: center;
                      }
                    </style>
                    <div class="MuiBox-root css-4jg4rq">
                      <p
                        class="MuiTypography-root MuiTypography-p MuiTypography-gutterBottom css-mxjm1x"
                      >
                        05m Read
                      </p>
                    </div>
                  </div>
                </div></a
              >
            </div>
          </div>
        </div>
      </div>
      <footer style="margin-top: 25px">
        <style data-emotion="css 1uy1rgq">
          .css-1uy1rgq {
            width: 100%;
            display: -webkit-box;
            display: -webkit-flex;
            display: -ms-flexbox;
            display: flex;
            -webkit-flex-direction: column;
            -ms-flex-direction: column;
            flex-direction: column;
            -webkit-box-pack: start;
            -ms-flex-pack: start;
            -webkit-justify-content: flex-start;
            justify-content: flex-start;
            -webkit-align-items: flex-end;
            -webkit-box-align: flex-end;
            -ms-flex-align: flex-end;
            align-items: flex-end;
            padding-top: 200px;
            border-top: 1px solid black;
          }
        </style>
        <div class="MuiBox-root css-1uy1rgq">
          <img
            src="/media/images/main-contact-email-light.jpg"
            style="width: 250px; height: 27px"
          /><style data-emotion="css 1uk1gs8">
            .css-1uk1gs8 {
              margin: 0;
            }</style
          ><span class="MuiTypography-root MuiTypography-p css-1uk1gs8"
            >We typically reply within 24 hours.</span
          ><style data-emotion="css zq6grw">
            .css-zq6grw {
              margin: 0;
              font-family: "Roboto", "Helvetica", "Arial", sans-serif;
              font-weight: 400;
              font-size: 1.5rem;
              line-height: 1.334;
              letter-spacing: 0em;
            }
          </style>
          <h5 class="MuiTypography-root MuiTypography-h5 css-zq6grw">
            © 2024
            <!-- -->A Nice Teacher
          </h5>
        </div>
      </footer>
    </div>
    <script
      src="/_next/static/chunks/webpack-83486951edee0db5.js"
      async=""
    ></script>
    <script>
      (self.__next_f = self.__next_f || []).push([0]);
      self.__next_f.push([2, null]);
    </script>
    <script>
      self.__next_f.push([
        1,
        '1:HL["/_next/static/css/1d4d01086947be98.css","style"]\n',
      ]);
    </script>
    <script>
      self.__next_f.push([
        1,
        '2:I[5751,[],""]\n5:I[9275,[],""]\n8:I[1343,[],""]\n9:I[6871,["98","static/chunks/98-98337b3bb708bd24.js","748","static/chunks/748-1f14ee6eb3d7029a.js","271","static/chunks/271-37a22bace913f735.js","185","static/chunks/app/layout-08611f287dda1230.js"],"default"]\na:I[5877,["98","static/chunks/98-98337b3bb708bd24.js","748","static/chunks/748-1f14ee6eb3d7029a.js","271","static/chunks/271-37a22bace913f735.js","185","static/chunks/app/layout-08611f287dda1230.js"],"default"]\nb:I[902,["98","static/chunks/98-98337b3bb708bd24.js","748","static/chunks/748-1f14ee6eb3d7029a.js","271","static/chunks/271-37a22bace913f735.js","185","static/chunks/app/layout-08611f287dda1230.js"],""]\nc:I[5218,["98","static/chunks/98-98337b3bb708bd24.js","134","static/chunks/134-4d46f2c5e7204b76.js","830","static/chunks/830-8a0df588e7c84864.js","748","static/chunks/748-1f14ee6eb3d7029a.js","411","static/chunks/411-3d27264901e39398.js","533","static/chunks/app/%5BcategorySlug%5D/%5BpostOrSeriesSlug%5D/page-1b889bd6bb1438d9.js"],""]\nd:I[2324,["98","static/chunks/98-98337b3bb708bd24.js","134","static/chunks/134-4d46f2c5e7204b76.js","830","static/chunks/830-8a0df588e7c84864.js","748","static/chunks/748-1f14ee6eb3d7029a.js","411","static/chunks/411-3d27264901e39398.js","533","static/chunks/app/%5BcategorySlug%5D/%5BpostOrSeriesSlug%5D/page-1b889bd6bb1438d9.js"],"default"]\ne:I[2591,["98","static/chunks/98-98337b3bb708bd24.js","134","static/chunks/134-4d46f2c5e7204b76.js","830","static/chunks/830-8a0df588e7c84864.js","748","static/chunks/748-1f14ee6eb3d7029a.js","411","static/chunks/411-3d27264901e39398.js","533","static/chunks/app/%5BcategorySlug%5D/%5BpostOrSeriesSlug%5D/page-1b889bd6bb1438d9.js"],""]\nf:I[231,["98","static/chunks/98-98337b3bb708bd24.js","134","static/chunks/134-4d46f2c5e7204b76.js","830","static/chunks/830-8a0df588e7c84864.js","748","static/chunks/748-1f14ee6eb3d7029a.js","411","static/chunks/411-3d27264901e39398.js","533","static/chunks/app/%5BcategorySlug%5D/%5BpostOrSeriesSlug%5D/page-1b889bd6bb1438d9.js"],""]\n10:I[3180,["98","static/c',
      ]);
    </script>
    <script>
      self.__next_f.push([
        1,
        'hunks/98-98337b3bb708bd24.js","134","static/chunks/134-4d46f2c5e7204b76.js","830","static/chunks/830-8a0df588e7c84864.js","748","static/chunks/748-1f14ee6eb3d7029a.js","411","static/chunks/411-3d27264901e39398.js","533","static/chunks/app/%5BcategorySlug%5D/%5BpostOrSeriesSlug%5D/page-1b889bd6bb1438d9.js"],""]\n11:I[3245,["98","static/chunks/98-98337b3bb708bd24.js","748","static/chunks/748-1f14ee6eb3d7029a.js","271","static/chunks/271-37a22bace913f735.js","185","static/chunks/app/layout-08611f287dda1230.js"],"default"]\n13:I[6130,[],""]\n6:["categorySlug","ml-ops","d"]\n7:["postOrSeriesSlug","onnxruntime-web-inference-in-react","d"]\n14:[]\n',
      ]);
    </script>
    <script>
      self.__next_f.push([
        1,
        '0:[[["$","link","0",{"rel":"stylesheet","href":"/_next/static/css/1d4d01086947be98.css","precedence":"next","crossOrigin":"$undefined"}]],["$","$L2",null,{"buildId":"WaLb_sZ3RF-6dnakeG92A","assetPrefix":"","initialCanonicalUrl":"/ml-ops/onnxruntime-web-inference-in-react/","initialTree":["",{"children":[["categorySlug","ml-ops","d"],{"children":[["postOrSeriesSlug","onnxruntime-web-inference-in-react","d"],{"children":["__PAGE__?{\\"categorySlug\\":\\"ml-ops\\",\\"postOrSeriesSlug\\":\\"onnxruntime-web-inference-in-react\\"}",{}]}]}]},"$undefined","$undefined",true],"initialSeedData":["",{"children":[["categorySlug","ml-ops","d"],{"children":[["postOrSeriesSlug","onnxruntime-web-inference-in-react","d"],{"children":["__PAGE__",{},[["$L3","$L4"],null],null]},["$","$L5",null,{"parallelRouterKey":"children","segmentPath":["children","$6","children","$7","children"],"error":"$undefined","errorStyles":"$undefined","errorScripts":"$undefined","template":["$","$L8",null,{}],"templateStyles":"$undefined","templateScripts":"$undefined","notFound":"$undefined","notFoundStyles":"$undefined","styles":null}],null]},["$","$L5",null,{"parallelRouterKey":"children","segmentPath":["children","$6","children"],"error":"$undefined","errorStyles":"$undefined","errorScripts":"$undefined","template":["$","$L8",null,{}],"templateStyles":"$undefined","templateScripts":"$undefined","notFound":"$undefined","notFoundStyles":"$undefined","styles":null}],null]},[["$","html",null,{"lang":"en","suppressHydrationWarning":true,"children":["$","body",null,{"className":"__className_d65c78","children":["$","$L9",null,{"children":[["$","$La",null,{}],["$","$Lb",null,{"maxWidth":"lg","children":[["$","$L5",null,{"parallelRouterKey":"children","segmentPath":["children"],"error":"$undefined","errorStyles":"$undefined","errorScripts":"$undefined","template":["$","$L8",null,{}],"templateStyles":"$undefined","templateScripts":"$undefined","notFound":["$","$Lc",null,{"children":[["$","$Ld",null,{"render":false,"targetSiteNavigationState":[],"targetPageNavigationState":[]}],["$","$Le",null,{"variant":"h4","children":["$","strong",null,{"children":"Not Found"}]}],["$","$Le",null,{"variant":"h6","mb":3,"children":"Oops! It looks like the page you\'re looking for does not exist."}],["$","$Lf",null,{"href":"/","children":["$","$L10",null,{"variant":"contained","sx":{"marginRight":5,"marginBottom":1},"children":"Take me Home"}]}]]}],"notFoundStyles":[],"styles":null}],["$","$L11",null,{}]]}]]}]}]}],null],null],"couldBeIntercepted":false,"initialHead":[false,"$L12"],"globalErrorComponent":"$13","missingSlots":"$W14"}]]\n',
      ]);
    </script>
    <script>
      self.__next_f.push([
        1,
        '12:[["$","meta","0",{"name":"viewport","content":"width=device-width, initial-scale=1"}],["$","meta","1",{"charSet":"utf-8"}],["$","link","2",{"rel":"icon","href":"/favicon.ico","type":"image/x-icon","sizes":"16x16"}]]\n3:null\n',
      ]);
    </script>
    <script>
      self.__next_f.push([
        1,
        '15:I[3507,["98","static/chunks/98-98337b3bb708bd24.js","134","static/chunks/134-4d46f2c5e7204b76.js","830","static/chunks/830-8a0df588e7c84864.js","748","static/chunks/748-1f14ee6eb3d7029a.js","411","static/chunks/411-3d27264901e39398.js","533","static/chunks/app/%5BcategorySlug%5D/%5BpostOrSeriesSlug%5D/page-1b889bd6bb1438d9.js"],""]\n17:I[4204,["98","static/chunks/98-98337b3bb708bd24.js","134","static/chunks/134-4d46f2c5e7204b76.js","830","static/chunks/830-8a0df588e7c84864.js","748","static/chunks/748-1f14ee6eb3d7029a.js","411","static/chunks/411-3d27264901e39398.js","533","static/chunks/app/%5BcategorySlug%5D/%5BpostOrSeriesSlug%5D/page-1b889bd6bb1438d9.js"],"default"]\n18:I[1847,["98","static/chunks/98-98337b3bb708bd24.js","134","static/chunks/134-4d46f2c5e7204b76.js","830","static/chunks/830-8a0df588e7c84864.js","748","static/chunks/748-1f14ee6eb3d7029a.js","411","static/chunks/411-3d27264901e39398.js","533","static/chunks/app/%5BcategorySlug%5D/%5BpostOrSeriesSlug%5D/page-1b889bd6bb1438d9.js"],"default"]\n19:I[8125,["98","static/chunks/98-98337b3bb708bd24.js","134","static/chunks/134-4d46f2c5e7204b76.js","830","static/chunks/830-8a0df588e7c84864.js","748","static/chunks/748-1f14ee6eb3d7029a.js","411","static/chunks/411-3d27264901e39398.js","533","static/chunks/app/%5BcategorySlug%5D/%5BpostOrSeriesSlug%5D/page-1b889bd6bb1438d9.js"],""]\n1a:I[3578,["98","static/chunks/98-98337b3bb708bd24.js","134","static/chunks/134-4d46f2c5e7204b76.js","830","static/chunks/830-8a0df588e7c84864.js","748","static/chunks/748-1f14ee6eb3d7029a.js","411","static/chunks/411-3d27264901e39398.js","533","static/chunks/app/%5BcategorySlug%5D/%5BpostOrSeriesSlug%5D/page-1b889bd6bb1438d9.js"],"default"]\n1b:I[7005,["98","static/chunks/98-98337b3bb708bd24.js","134","static/chunks/134-4d46f2c5e7204b76.js","830","static/chunks/830-8a0df588e7c84864.js","748","static/chunks/748-1f14ee6eb3d7029a.js","411","static/chunks/411-3d27264901e39398.js","533","static/chunks/app/%5BcategorySlug%5D/%5BpostOrSeriesSlug%5D/page-1b889bd6bb1438d9.js"],""]\n1c:I[',
      ]);
    </script>
    <script>
      self.__next_f.push([
        1,
        '6480,["98","static/chunks/98-98337b3bb708bd24.js","134","static/chunks/134-4d46f2c5e7204b76.js","830","static/chunks/830-8a0df588e7c84864.js","748","static/chunks/748-1f14ee6eb3d7029a.js","411","static/chunks/411-3d27264901e39398.js","533","static/chunks/app/%5BcategorySlug%5D/%5BpostOrSeriesSlug%5D/page-1b889bd6bb1438d9.js"],"default"]\n1d:T1252,',
      ]);
    </script>
    <script>
      self.__next_f.push([
        1,
        'import { useRef, useState } from "react";\nimport { Stage, Layer, Line } from "react-konva";\n\nimport runInference from "../inferencing/onnx";\n\nexport default function Home() {\n  const stageSize = Math.min(window.innerWidth * 0.9, window.innerHeight * 0.5);\n\n  const [tool, setTool] = useState("pen");\n  const [lines, setLines] = useState([]);\n  const [strokeWidth, setStrokeWidth] = useState(15);\n  const [prediction, setPrediction] = useState(null);\n\n  const stageRef = useRef(null);\n  const isDrawing = useRef(false);\n\n  const handleMouseDown = (e) =\u003e {\n    isDrawing.current = true;\n    const pos = e.target.getStage().getPointerPosition();\n    setLines([...lines, { tool, strokeWidth, points: [pos.x, pos.y] }]);\n\n    setPrediction(null);\n  };\n\n  const handleMouseMove = (e) =\u003e {\n    if (!isDrawing.current) {\n      return;\n    }\n\n    const stage = e.target.getStage();\n    const point = stage.getPointerPosition();\n    let lastLine = lines[lines.length - 1];\n\n    lastLine.points = lastLine.points.concat([point.x, point.y]);\n\n    lines.splice(lines.length - 1, 1, lastLine);\n    setLines(lines.concat());\n  };\n\n  const handleMouseUp = () =\u003e {\n    isDrawing.current = false;\n  };\n\n  const handlePredictButtonClick = async (e) =\u003e {\n    const imageDataUri = stageRef.current.toDataURL();\n\n    const prediction = await runInference(imageDataUri);\n    setPrediction(prediction);\n  };\n\n  return (\n    \u003cdiv\n      style={{\n        width: "100%",\n        display: "flex",\n        flexDirection: "column",\n        justifyContent: "flex-start",\n        alignItems: "center",\n      }}\n    \u003e\n      \u003ch1\u003eDrawn Digit Prediction\u003c/h1\u003e\n\n      \u003cStage\n        ref={stageRef}\n        width={stageSize}\n        height={stageSize}\n        onMouseDown={handleMouseDown}\n        onMousemove={handleMouseMove}\n        onMouseup={handleMouseUp}\n        style={{\n          border: "1px solid black",\n        }}\n      \u003e\n        \u003cLayer\u003e\n          {lines.map((line, i) =\u003e (\n            \u003cLine\n              key={i}\n              points={line.points}\n              stroke="#000000"\n              strokeWidth={line.strokeWidth}\n              tension={0.5}\n              lineCap="round"\n              lineJoin="round"\n              globalCompositeOperation={line.tool === "eraser" ? "destination-out" : "source-over"}\n            /\u003e\n          ))}\n        \u003c/Layer\u003e\n      \u003c/Stage\u003e\n\n      \u003cdiv\n        style={{\n          width: stageSize,\n          marginTop: 10,\n          display: "flex",\n          flexDirection: "row",\n          justifyContent: "space-evenly",\n          alignItems: "center",\n        }}\n      \u003e\n        \u003cselect\n          value={tool}\n          onChange={(e) =\u003e {\n            setTool(e.target.value);\n          }}\n          style={{\n            padding: "8px",\n            borderRadius: "4px",\n            border: "1px solid #ccc",\n            fontSize: "16px",\n          }}\n        \u003e\n          \u003coption value="pen"\u003ePen\u003c/option\u003e\n          \u003coption value="eraser"\u003eEraser\u003c/option\u003e\n        \u003c/select\u003e\n\n        \u003cselect\n          value={strokeWidth}\n          onChange={(e) =\u003e {\n            setStrokeWidth(parseInt(e.target.value));\n          }}\n          style={{\n            padding: "8px",\n            borderRadius: "4px",\n            border: "1px solid #ccc",\n            fontSize: "16px",\n          }}\n        \u003e\n          \u003coption value="1"\u003e1\u003c/option\u003e\n          \u003coption value="3"\u003e3\u003c/option\u003e\n          \u003coption value="5"\u003e5\u003c/option\u003e\n          \u003coption value="10"\u003e10\u003c/option\u003e\n          \u003coption value="15"\u003e15\u003c/option\u003e\n          \u003coption value="20"\u003e20\u003c/option\u003e\n          \u003coption value="30"\u003e30\u003c/option\u003e\n          \u003coption value="40"\u003e40\u003c/option\u003e\n          \u003coption value="50"\u003e50\u003c/option\u003e\n        \u003c/select\u003e\n\n        \u003cbutton\n          onClick={() =\u003e setLines([])}\n          style={{\n            padding: "8px 12px",\n            borderRadius: "4px",\n            border: "1px solid #ccc",\n            background: "#ffffff",\n            color: "#333",\n            fontSize: "16px",\n            cursor: "pointer",\n          }}\n        \u003e\n          Clear\n        \u003c/button\u003e\n      \u003c/div\u003e\n\n      \u003cbutton\n        onClick={handlePredictButtonClick}\n        style={{\n          padding: "8px 12px",\n          borderRadius: "4px",\n          border: "1px solid #444444",\n          background: "#eeeeee",\n          color: "#333",\n          fontSize: "16px",\n          cursor: "pointer",\n          marginTop: 10,\n          marginBottom: 5,\n        }}\n      \u003e\n        Predict\n      \u003c/button\u003e\n\n      {prediction !== null \u0026\u0026 (\n        \u003ch4\n          style={{\n            margin: 0,\n          }}\n        \u003e\n          Probably a {prediction}\n        \u003c/h4\u003e\n      )}\n\n      \u003ccanvas id="tempCanvas" width={28} height={28}\u003e\u003c/canvas\u003e\n    \u003c/div\u003e\n  );\n}',
      ]);
    </script>
    <script>
      self.__next_f.push([
        1,
        '1e:T6bf,import ort from "onnxruntime-web";\n\nconst inputImageShape = [28, 28];\nconst inputShape = [1, 1, 28, 28];\n\nfunction extractGreyscaleImageFromKonvaStage(imageDataUri, imageProcessingCanvasId) {\n  const canvas = document.getElementById(imageProcessingCanvasId);\n  const ctx = canvas.getContext("2d");\n\n  const img = new Image();\n  img.src = imageDataUri;\n\n  return new Promise((resolve, reject) =\u003e {\n    img.onload = () =\u003e {\n      canvas.width = inputImageShape[0];\n      canvas.height = inputImageShape[1];\n\n      ctx.drawImage(img, 0, 0, inputImageShape[0], inputImageShape[1]);\n\n      const imageData = ctx.getImageData(0, 0, inputImageShape[0], inputImageShape[1]);\n      const imageArray = imageData.data;\n      // r(1, 1), g(1, 1), b(1, 1), a(1, 1), r(2, 1), g(2, 1), b(2, 1), a(2, 1), ...\n\n      const alphaChannelOnlyImageData = new ImageData(\n        new Uint8ClampedArray(imageArray.length),\n        inputImageShape[0],\n        inputImageShape[1]\n      );\n\n      for (let i = 3; i \u003c imageArray.length; i += 4) {\n        alphaChannelOnlyImageData.data[i] = 255;\n        alphaChannelOnlyImageData.data[i - 1] = imageArray[i];\n        alphaChannelOnlyImageData.data[i - 2] = imageArray[i];\n        alphaChannelOnlyImageData.data[i - 3] = imageArray[i];\n      }\n\n      ctx.putImageData(alphaChannelOnlyImageData, 0, 0); // Debug only\n\n      const imageUint8Array = new Uint8Array(alphaChannelOnlyImageData.data.length / 4);\n\n      // Take any one channel R, G, or B\n      for (let i = 0; i \u003c alphaChannelOnlyImageData.data.length; i += 4) {\n        imageUint8Array[i / 4] = alphaChannelOnlyImageData.data[i];\n      }\n\n      resolve(imageUint8Array);\n    };\n\n    img.onerror = (error) =\u003e {\n      reject(error);\n    };\n  });\n}1f:T89f,',
      ]);
    </script>
    <script>
      self.__next_f.push([
        1,
        'import ort from "onnxruntime-web";\n\nconst inputImageShape = [28, 28];\nconst inputShape = [1, 1, 28, 28];\n\nfunction extractGreyscaleImageFromKonvaStage(imageDataUri, imageProcessingCanvasId) {\n  const canvas = document.getElementById(imageProcessingCanvasId);\n  const ctx = canvas.getContext("2d");\n\n  const img = new Image();\n  img.src = imageDataUri;\n\n  return new Promise((resolve, reject) =\u003e {\n    img.onload = () =\u003e {\n      canvas.width = inputImageShape[0];\n      canvas.height = inputImageShape[1];\n\n      ctx.drawImage(img, 0, 0, inputImageShape[0], inputImageShape[1]);\n\n      const imageData = ctx.getImageData(0, 0, inputImageShape[0], inputImageShape[1]);\n      const imageArray = imageData.data;\n      // r(1, 1), g(1, 1), b(1, 1), a(1, 1), r(2, 1), g(2, 1), b(2, 1), a(2, 1), ...\n\n      // Constructing the alphaChannelOnlyImageData only for drawing the image for debugging.\n      const alphaChannelOnlyImageData = new ImageData(\n        new Uint8ClampedArray(imageArray.length),\n        inputImageShape[0],\n        inputImageShape[1]\n      );\n\n      for (let i = 3; i \u003c imageArray.length; i += 4) {\n        alphaChannelOnlyImageData.data[i] = 255;\n        alphaChannelOnlyImageData.data[i - 1] = imageArray[i];\n        alphaChannelOnlyImageData.data[i - 2] = imageArray[i];\n        alphaChannelOnlyImageData.data[i - 3] = imageArray[i];\n      }\n\n      ctx.putImageData(alphaChannelOnlyImageData, 0, 0); // Debug only\n\n      const imageUint8Array = new Uint8Array(alphaChannelOnlyImageData.data.length / 4);\n\n      // Take any one channel R, G, or B\n      for (let i = 0; i \u003c alphaChannelOnlyImageData.data.length; i += 4) {\n        imageUint8Array[i / 4] = alphaChannelOnlyImageData.data[i];\n      }\n\n      resolve(imageUint8Array);\n    };\n\n    img.onerror = (error) =\u003e {\n      reject(error);\n    };\n  });\n}\n\nfunction imageArrayToTensor(imageUint8Array) {\n  let tensorValues = new Float32Array(imageUint8Array.length);\n\n  for (let i = 0; i \u003c imageUint8Array.length; i++) {\n    tensorValues[i] = imageUint8Array[i] / 255;\n  }\n\n  const imageTensor = new ort.Tensor("float32", tensorValues, inputShape);\n  return imageTensor;\n}\n\nexport { extractGreyscaleImageFromKonvaStage, imageArrayToTensor };',
      ]);
    </script>
    <script>
      self.__next_f.push([
        1,
        '4:["$","$Lc",null,{"mb":5,"pb":2,"sx":{"width":"100%","display":"flex","flexDirection":"column","justifyContent":"flex-start","alignItems":"flex-start"},"children":[["$","$Ld",null,{"render":true,"targetSiteNavigationState":[{"absoluteSlug":"/ml-ops","title":"ML Ops"},{"absoluteSlug":"/ml-ops/onnxruntime-web-inference-in-react","title":"ONNXRuntime Inference in a React App"}],"targetPageNavigationState":[{"title":"The Model","absoluteSlug":"#the-model"},{"title":"Getting Started","absoluteSlug":"#getting-started"},{"title":"Setup","absoluteSlug":"#setup"},{"title":"The Home Page","absoluteSlug":"#the-home-page"},{"title":"Running Inference","absoluteSlug":"#running-inference"},{"title":"Knowing our Model","absoluteSlug":"#knowing-our-model"},{"title":"Math Utils","absoluteSlug":"#math-utils"},{"title":"Image Processing","absoluteSlug":"#image-processing"},{"title":"ONNX Runtime Inference","absoluteSlug":"#onnx-runtime-inference"},{"title":"Conclusion","absoluteSlug":"#conclusion"}]}],["$","$L15",null,{"container":true,"spacing":2,"mb":0,"children":[["$","$L15",null,{"item":true,"xs":12,"sm":12,"md":4,"sx":{"background":"linear-gradient(to right, #eeeeee, #ffffff)","borderRadius":5},"children":["$","$Lc",null,{"sx":{"width":"100%","height":"100%","display":"flex","flexDirection":"column","justifyContent":"center","alignItems":"flex-start","paddingBottom":2},"children":[["$","$Le",null,{"gutterBottom":true,"variant":"h5","component":"h1","children":"ONNXRuntime Inference in a React App"}],["$","$Le",null,{"gutterBottom":true,"variant":"p","component":"p","mb":4,"children":"Inferencing on an ONNX model in a React App using ONNXRuntime Web."}],["$","$Lc",null,{"sx":{"width":"100%","display":"flex","flexDirection":"row","justifyContent":"space-between","alignItems":"center","marginBottom":2},"children":[["$","$Le",null,{"gutterBottom":true,"variant":"p","component":"p","children":"July 25, 2024"}],["$","$Le",null,{"gutterBottom":true,"variant":"p","component":"p","children":["08m"," Read"]}]]}],"$L16",false]}]}],["$","$L15",null,{"item":true,"xs":12,"sm":12,"md":8,"children":["$","$Lc",null,{"sx":{"flex":1,"display":"flex","flexDirection":"column","justifyContent":"center","alignItems":"center","marginRight":2},"children":["$","img",null,{"src":"/media/images/react-digit-recog-app-final.jpg","style":{"width":"100%","maxWidth":"75vw","height":"auto","maxHeight":"35vh","objectFit":"cover"}}]}]}]]}],["$","$Lc",null,{"sx":{"width":"100%"},"children":["$","$L15",null,{"container":true,"spacing":2,"mt":4,"mb":0,"children":[["$","$L15",null,{"item":true,"xs":12,"sm":12,"md":4,"lg":3,"sx":{"background":"linear-gradient(to right, #eeeeee, #ffffff)","borderRadius":5},"children":["$","$Lc",null,{"sx":{"width":"100%"},"children":[["$","$Lc",null,{"sx":{"width":"100%","display":{"xs":"block","md":"none"},"marginBottom":2},"children":["$","$L17",null,{"sx":{"width":"100%","marginBottom":2,"boxShadow":3,"backgroundColor":"#ffffff22"},"disableGutters":true,"children":[["$","$L18",null,{"expandIcon":["$","$L19",null,{}],"children":["$","$Le",null,{"variant":"h6","component":"h6","sx":{"margin":0,"padding":0},"children":"Table of Contents"}]}],["$","$L1a",null,{"sx":{"width":"90%","display":"flex","flexDirection":"column","justifyContent":"flex-start","alignItems":"flex-start","marginBottom":2},"children":[["$","a","0",{"href":"#the-model","style":{"textDecoration":"none","color":"inherit","\u0026:visited":{"textDecoration":"none","color":"inherit"}},"children":["$","$Le","0",{"variant":"p","component":"p","ml":0,"mb":2.5,"sx":{"\u0026:hover":{"color":"blue"}},"children":"The Model"}]}],["$","a","1",{"href":"#getting-started","style":{"textDecoration":"none","color":"inherit","\u0026:visited":{"textDecoration":"none","color":"inherit"}},"children":["$","$Le","1",{"variant":"p","component":"p","ml":0,"mb":2.5,"sx":{"\u0026:hover":{"color":"blue"}},"children":"Getting Started"}]}],["$","a","2",{"href":"#setup","style":{"textDecoration":"none","color":"inherit","\u0026:visited":{"textDecoration":"none","color":"inherit"}},"children":["$","$Le","2",{"variant":"p","component":"p","ml":0,"mb":2.5,"sx":{"\u0026:hover":{"color":"blue"}},"children":"Setup"}]}],["$","a","3",{"href":"#the-home-page","style":{"textDecoration":"none","color":"inherit","\u0026:visited":{"textDecoration":"none","color":"inherit"}},"children":["$","$Le","3",{"variant":"p","component":"p","ml":0,"mb":2.5,"sx":{"\u0026:hover":{"color":"blue"}},"children":"The Home Page"}]}],["$","a","4",{"href":"#running-inference","style":{"textDecoration":"none","color":"inherit","\u0026:visited":{"textDecoration":"none","color":"inherit"}},"children":["$","$Le","4",{"variant":"p","component":"p","ml":0,"mb":2.5,"sx":{"\u0026:hover":{"color":"blue"}},"children":"Running Inference"}]}],["$","a","5",{"href":"#knowing-our-model","style":{"textDecoration":"none","color":"inherit","\u0026:visited":{"textDecoration":"none","color":"inherit"}},"children":["$","$Le","5",{"variant":"p","component":"p","ml":1,"mb":2,"sx":{"\u0026:hover":{"color":"blue"}},"children":"Knowing our Model"}]}],["$","a","6",{"href":"#math-utils","style":{"textDecoration":"none","color":"inherit","\u0026:visited":{"textDecoration":"none","color":"inherit"}},"children":["$","$Le","6",{"variant":"p","component":"p","ml":1,"mb":2,"sx":{"\u0026:hover":{"color":"blue"}},"children":"Math Utils"}]}],["$","a","7",{"href":"#image-processing","style":{"textDecoration":"none","color":"inherit","\u0026:visited":{"textDecoration":"none","color":"inherit"}},"children":["$","$Le","7",{"variant":"p","component":"p","ml":1,"mb":2,"sx":{"\u0026:hover":{"color":"blue"}},"children":"Image Processing"}]}],["$","a","8",{"href":"#onnx-runtime-inference","style":{"textDecoration":"none","color":"inherit","\u0026:visited":{"textDecoration":"none","color":"inherit"}},"children":["$","$Le","8",{"variant":"p","component":"p","ml":1,"mb":2,"sx":{"\u0026:hover":{"color":"blue"}},"children":"ONNX Runtime Inference"}]}],["$","a","9",{"href":"#conclusion","style":{"textDecoration":"none","color":"inherit","\u0026:visited":{"textDecoration":"none","color":"inherit"}},"children":["$","$Le","9",{"variant":"p","component":"p","ml":0,"mb":2.5,"sx":{"\u0026:hover":{"color":"blue"}},"children":"Conclusion"}]}]]}]]}]}],["$","$Lc",null,{"sx":{"width":"100%","display":{"xs":"none","md":"block"}},"children":[["$","$Le",null,{"variant":"h5","component":"h5","sx":{"margin":0,"padding":0},"children":"Table of Contents"}],[["$","a","0",{"href":"#the-model","style":{"textDecoration":"none","color":"inherit","\u0026:visited":{"textDecoration":"none","color":"inherit"}},"children":["$","$Le","0",{"variant":"p","component":"p","ml":0,"mb":2.5,"sx":{"\u0026:hover":{"color":"blue"}},"children":"The Model"}]}],["$","a","1",{"href":"#getting-started","style":{"textDecoration":"none","color":"inherit","\u0026:visited":{"textDecoration":"none","color":"inherit"}},"children":["$","$Le","1",{"variant":"p","component":"p","ml":0,"mb":2.5,"sx":{"\u0026:hover":{"color":"blue"}},"children":"Getting Started"}]}],["$","a","2",{"href":"#setup","style":{"textDecoration":"none","color":"inherit","\u0026:visited":{"textDecoration":"none","color":"inherit"}},"children":["$","$Le","2",{"variant":"p","component":"p","ml":0,"mb":2.5,"sx":{"\u0026:hover":{"color":"blue"}},"children":"Setup"}]}],["$","a","3",{"href":"#the-home-page","style":{"textDecoration":"none","color":"inherit","\u0026:visited":{"textDecoration":"none","color":"inherit"}},"children":["$","$Le","3",{"variant":"p","component":"p","ml":0,"mb":2.5,"sx":{"\u0026:hover":{"color":"blue"}},"children":"The Home Page"}]}],["$","a","4",{"href":"#running-inference","style":{"textDecoration":"none","color":"inherit","\u0026:visited":{"textDecoration":"none","color":"inherit"}},"children":["$","$Le","4",{"variant":"p","component":"p","ml":0,"mb":2.5,"sx":{"\u0026:hover":{"color":"blue"}},"children":"Running Inference"}]}],["$","a","5",{"href":"#knowing-our-model","style":{"textDecoration":"none","color":"inherit","\u0026:visited":{"textDecoration":"none","color":"inherit"}},"children":["$","$Le","5",{"variant":"p","component":"p","ml":1,"mb":2,"sx":{"\u0026:hover":{"color":"blue"}},"children":"Knowing our Model"}]}],["$","a","6",{"href":"#math-utils","style":{"textDecoration":"none","color":"inherit","\u0026:visited":{"textDecoration":"none","color":"inherit"}},"children":["$","$Le","6",{"variant":"p","component":"p","ml":1,"mb":2,"sx":{"\u0026:hover":{"color":"blue"}},"children":"Math Utils"}]}],["$","a","7",{"href":"#image-processing","style":{"textDecoration":"none","color":"inherit","\u0026:visited":{"textDecoration":"none","color":"inherit"}},"children":["$","$Le","7",{"variant":"p","component":"p","ml":1,"mb":2,"sx":{"\u0026:hover":{"color":"blue"}},"children":"Image Processing"}]}],["$","a","8",{"href":"#onnx-runtime-inference","style":{"textDecoration":"none","color":"inherit","\u0026:visited":{"textDecoration":"none","color":"inherit"}},"children":["$","$Le","8",{"variant":"p","component":"p","ml":1,"mb":2,"sx":{"\u0026:hover":{"color":"blue"}},"children":"ONNX Runtime Inference"}]}],["$","a","9",{"href":"#conclusion","style":{"textDecoration":"none","color":"inherit","\u0026:visited":{"textDecoration":"none","color":"inherit"}},"children":["$","$Le","9",{"variant":"p","component":"p","ml":0,"mb":2.5,"sx":{"\u0026:hover":{"color":"blue"}},"children":"Conclusion"}]}]]]}]]}]}],["$","$L15",null,{"item":true,"xs":12,"sm":12,"md":8,"lg":9,"sx":{"background":"linear-gradient(to right, #ffffff, #eeeeee)","borderRadius":5},"children":["$","$Lc",null,{"sx":{"flex":1,"marginRight":2},"children":[["$","$Le","0",{"variant":"p","component":"p","sx":{"textAlign":"justify","marginBottom":2},"children":["$undefined","",["$","$L1b","0-link",{"href":"https://onnxruntime.ai","rel":"noopener noreferrer","target":"_blank","color":"primary","underline":"hover","children":"ONNX Runtime"}]," allows us to easily run models exported to ",["$","$L1b","0-link",{"href":"https://onnx.ai/","rel":"noopener noreferrer","target":"_blank","color":"primary","underline":"hover","children":"ONNX"}]," in multiple languages and on multiple platforms. Today, we\'ll use ",["$","$L1b","0-link",{"href":"https://www.npmjs.com/package/onnxruntime-web","rel":"noopener noreferrer","target":"_blank","color":"primary","underline":"hover","children":"onnxruntime-web"}]," to run inference with our ONNX model in a React application."]}],["$","$Le","1",{"variant":"p","component":"p","sx":{"textAlign":"justify","marginBottom":2},"children":["$undefined","All the code for today\'s project can be found in ",["$","$L1b","1-link",{"href":"https://github.com/AbhilakshSinghReen/drawn-digit-recognition/tree/main/frontends/react-via-onnx","rel":"noopener noreferrer","target":"_blank","color":"primary","underline":"hover","children":"this GitHub Repo"}],"."]}],["$","$Le","2",{"id":"the-model","variant":"h4","component":"h1","mb":2,"children":["$","strong",null,{"children":"The Model"}]}],["$","$Le","3",{"variant":"p","component":"p","sx":{"textAlign":"justify","marginBottom":2},"children":["$undefined","The model we\'ll be using today is a Convolutional Neural Network trained using PyTorch and exported to ONNX. For a full tutorial where we train and export the exact model we\'ll use today, check out ",["$","$L1b","3-link",{"href":"/ml-ops/torch-training-and-conversion-to-onnx","color":"primary","underline":"hover","children":"this Post"}],"."]}],["$","$Le","4",{"id":"getting-started","variant":"h4","component":"h1","mb":2,"children":["$","strong",null,{"children":"Getting Started"}]}],["$","$Le","5",{"variant":"p","component":"p","sx":{"textAlign":"justify","marginBottom":2},"children":["$undefined","The most straightforward way of creating a React App with all the necessary boilerplate is the ",["$","$Lc","5-text-italics",{"component":"span","sx":{"paddingLeft":0.5,"paddingRight":0.5,"borderRadius":1,"backgroundColor":"rgb(227, 234, 242)"},"children":"create-react-app"}]," utility. However, out of the box, ",["$","$Lc","5-text-italics",{"component":"span","sx":{"paddingLeft":0.5,"paddingRight":0.5,"borderRadius":1,"backgroundColor":"rgb(227, 234, 242)"},"children":"create-react-app"}]," does not support Web Assembly, which is required by ",["$","$Lc","5-text-italics",{"component":"span","sx":{"paddingLeft":0.5,"paddingRight":0.5,"borderRadius":1,"backgroundColor":"rgb(227, 234, 242)"},"children":"onnxruntime-web"}],". There are multiple ways around this such as ",["$","$L1b","5-link",{"href":"https://stackoverflow.com/questions/58259904/can-you-load-modules-with-wasm-files-into-create-react-app","rel":"noopener noreferrer","target":"_blank","color":"primary","underline":"hover","children":"by using react-app-rewired"}]," or by creating a react app without using ",["$","$Lc","5-text-italics",{"component":"span","sx":{"paddingLeft":0.5,"paddingRight":0.5,"borderRadius":1,"backgroundColor":"rgb(227, 234, 242)"},"children":"create-react-app"}],". But, there\'s a much simpler way (at least for our purpose) that we\'ll be using today."]}],["$","$Le","6",{"id":"setup","variant":"h4","component":"h1","mb":2,"children":["$","strong",null,{"children":"Setup"}]}],["$","$Le","7",{"variant":"p","component":"p","sx":{"textAlign":"justify","marginBottom":2},"children":["$undefined","In your project folder, create a new react app using ",["$","$Lc","7-text-italics",{"component":"span","sx":{"paddingLeft":0.5,"paddingRight":0.5,"borderRadius":1,"backgroundColor":"rgb(227, 234, 242)"},"children":"cra"}],"."]}],["$","$Lc",null,{"sx":{"width":"100%","marginBottom":2},"children":[["$","$L1c",null,{"contentToCopy":"npx create-react-app react-onnx-inference"}],["$","pre",null,{"style":{"color":"#111b27","background":"#e3eaf2","fontFamily":"Consolas, Monaco, \\"Andale Mono\\", \\"Ubuntu Mono\\", monospace","textAlign":"left","whiteSpace":"pre","wordSpacing":"normal","wordBreak":"normal","wordWrap":"normal","lineHeight":"1.5","MozTabSize":"4","OTabSize":"4","tabSize":"4","WebkitHyphens":"none","MozHyphens":"none","msHyphens":"none","hyphens":"none","padding":"1em","margin":0,"overflow":"auto"},"children":["$","code",null,{"className":"language-bash","style":{"color":"#111b27","background":"none","fontFamily":"Consolas, Monaco, \\"Andale Mono\\", \\"Ubuntu Mono\\", monospace","textAlign":"left","whiteSpace":"pre","wordSpacing":"normal","wordBreak":"normal","wordWrap":"normal","lineHeight":"1.5","MozTabSize":"4","OTabSize":"4","tabSize":"4","WebkitHyphens":"none","MozHyphens":"none","msHyphens":"none","hyphens":"none"},"children":[false,[["$","span","code-segement0",{"className":"$undefined","style":{},"children":["npx create-react-app react-onnx-inference"]}]]]}]}]]}],["$","$Le","9",{"variant":"p","component":"p","sx":{"textAlign":"justify","marginBottom":2},"children":["$undefined","This will create a new folder called ",["$","$Lc","9-text-italics",{"component":"span","sx":{"paddingLeft":0.5,"paddingRight":0.5,"borderRadius":1,"backgroundColor":"rgb(227, 234, 242)"},"children":"react-onnx-inference"}]," in the current directory. ",["$","$Lc","9-text-italics",{"component":"span","sx":{"paddingLeft":0.5,"paddingRight":0.5,"borderRadius":1,"backgroundColor":"rgb(227, 234, 242)"},"children":"cd"}]," into this folder and install the following packages."]}],["$","$Lc",null,{"sx":{"width":"100%","marginBottom":2},"children":[["$","$L1c",null,{"contentToCopy":"npm install react-konva onnxruntime-web"}],["$","pre",null,{"style":{"color":"#111b27","background":"#e3eaf2","fontFamily":"Consolas, Monaco, \\"Andale Mono\\", \\"Ubuntu Mono\\", monospace","textAlign":"left","whiteSpace":"pre","wordSpacing":"normal","wordBreak":"normal","wordWrap":"normal","lineHeight":"1.5","MozTabSize":"4","OTabSize":"4","tabSize":"4","WebkitHyphens":"none","MozHyphens":"none","msHyphens":"none","hyphens":"none","padding":"1em","margin":0,"overflow":"auto"},"children":["$","code",null,{"className":"language-bash","style":{"color":"#111b27","background":"none","fontFamily":"Consolas, Monaco, \\"Andale Mono\\", \\"Ubuntu Mono\\", monospace","textAlign":"left","whiteSpace":"pre","wordSpacing":"normal","wordBreak":"normal","wordWrap":"normal","lineHeight":"1.5","MozTabSize":"4","OTabSize":"4","tabSize":"4","WebkitHyphens":"none","MozHyphens":"none","msHyphens":"none","hyphens":"none"},"children":[false,[["$","span","code-segement0",{"className":"token","style":{"color":"#7c00aa"},"children":["npm"]}],["$","span","code-segement1",{"className":"$undefined","style":{},"children":[" "]}],["$","span","code-segement2",{"className":"token","style":{"color":"#7c00aa"},"children":["install"]}],["$","span","code-segement3",{"className":"$undefined","style":{},"children":[" react-konva onnxruntime-web"]}]]]}]}]]}],["$","$Le","11",{"variant":"p","component":"p","sx":{"textAlign":"justify","marginBottom":2},"children":["$undefined","Konva is a 2D Canvas Library for JavaScript that we\'ll use to draw images of digits and then get our model to make predictions on them."]}],["$","$Le","12",{"variant":"p","component":"p","sx":{"textAlign":"justify","marginBottom":2},"children":["$undefined","After the installation, there is a bit of a hack that we need to perform to get ",["$","$Lc","12-text-italics",{"component":"span","sx":{"paddingLeft":0.5,"paddingRight":0.5,"borderRadius":1,"backgroundColor":"rgb(227, 234, 242)"},"children":"onnxruntime-web"}]," running in our ",["$","$Lc","12-text-italics",{"component":"span","sx":{"paddingLeft":0.5,"paddingRight":0.5,"borderRadius":1,"backgroundColor":"rgb(227, 234, 242)"},"children":"cra"}]," application. Head to ",["$","$Lc","12-text-italics",{"component":"span","sx":{"paddingLeft":0.5,"paddingRight":0.5,"borderRadius":1,"backgroundColor":"rgb(227, 234, 242)"},"children":"node_modules/onnxruntime-web/dist"}]," and copy all the files ending in ",["$","$Lc","12-text-italics",{"component":"span","sx":{"paddingLeft":0.5,"paddingRight":0.5,"borderRadius":1,"backgroundColor":"rgb(227, 234, 242)"},"children":".wasm"}],". We\'ll paste these in ",["$","$Lc","12-text-italics",{"component":"span","sx":{"paddingLeft":0.5,"paddingRight":0.5,"borderRadius":1,"backgroundColor":"rgb(227, 234, 242)"},"children":"public/static/js"}]," (you\'ll have to create the ",["$","$Lc","12-text-italics",{"component":"span","sx":{"paddingLeft":0.5,"paddingRight":0.5,"borderRadius":1,"backgroundColor":"rgb(227, 234, 242)"},"children":"static/js"}]," folders). That\'s it. Now we can easily use ",["$","$Lc","12-text-italics",{"component":"span","sx":{"paddingLeft":0.5,"paddingRight":0.5,"borderRadius":1,"backgroundColor":"rgb(227, 234, 242)"},"children":"onnxruntime-web"}],"."]}],["$","$Le","13",{"id":"the-home-page","variant":"h4","component":"h1","mb":2,"children":["$","strong",null,{"children":"The Home Page"}]}],["$","$Le","14",{"variant":"p","component":"p","sx":{"textAlign":"justify","marginBottom":2},"children":["$undefined","Inside the ",["$","$Lc","14-text-italics",{"component":"span","sx":{"paddingLeft":0.5,"paddingRight":0.5,"borderRadius":1,"backgroundColor":"rgb(227, 234, 242)"},"children":"src"}]," directory, create a new folder called ",["$","$Lc","14-text-italics",{"component":"span","sx":{"paddingLeft":0.5,"paddingRight":0.5,"borderRadius":1,"backgroundColor":"rgb(227, 234, 242)"},"children":"pages"}]," and inside it create a file called ",["$","$Lc","14-text-italics",{"component":"span","sx":{"paddingLeft":0.5,"paddingRight":0.5,"borderRadius":1,"backgroundColor":"rgb(227, 234, 242)"},"children":"Home.jsx"}],". Let\'s add a simple component here for now."]}],["$","$Lc",null,{"sx":{"width":"100%","marginBottom":2},"children":[["$","$L1c",null,{"contentToCopy":"export default function Home() {\\n  return (\\n    \u003cdiv\u003eHome\u003c/div\u003e\\n  )\\n}"}],["$","pre",null,{"style":{"color":"#111b27","background":"#e3eaf2","fontFamily":"Consolas, Monaco, \\"Andale Mono\\", \\"Ubuntu Mono\\", monospace","textAlign":"left","whiteSpace":"pre","wordSpacing":"normal","wordBreak":"normal","wordWrap":"normal","lineHeight":"1.5","MozTabSize":"4","OTabSize":"4","tabSize":"4","WebkitHyphens":"none","MozHyphens":"none","msHyphens":"none","hyphens":"none","padding":"1em","margin":0,"overflow":"auto"},"children":["$","code",null,{"className":"language-javascript","style":{"color":"#111b27","background":"none","fontFamily":"Consolas, Monaco, \\"Andale Mono\\", \\"Ubuntu Mono\\", monospace","textAlign":"left","whiteSpace":"pre","wordSpacing":"normal","wordBreak":"normal","wordWrap":"normal","lineHeight":"1.5","MozTabSize":"4","OTabSize":"4","tabSize":"4","WebkitHyphens":"none","MozHyphens":"none","msHyphens":"none","hyphens":"none"},"children":[false,[["$","span","code-segement0",{"className":"token module","style":{"color":"#a04900"},"children":["export"]}],["$","span","code-segement1",{"className":"$undefined","style":{},"children":[" "]}],["$","span","code-segement2",{"className":"token module","style":{"color":"#a04900"},"children":["default"]}],["$","span","code-segement3",{"className":"$undefined","style":{},"children":[" "]}],["$","span","code-segement4",{"className":"token","style":{"color":"#a04900"},"children":["function"]}],["$","span","code-segement5",{"className":"$undefined","style":{},"children":[" "]}],["$","span","code-segement6",{"className":"token maybe-class-name","style":{"color":"#7c00aa"},"children":["Home"]}],["$","span","code-segement7",{"className":"token","style":{"color":"#111b27"},"children":["("]}],["$","span","code-segement8",{"className":"token","style":{"color":"#111b27"},"children":[")"]}],["$","span","code-segement9",{"className":"$undefined","style":{},"children":[" "]}],["$","span","code-segement10",{"className":"token","style":{"color":"#111b27"},"children":["{"]}],["$","span","code-segement11",{"className":"$undefined","style":{},"children":["\\n"]}],["$","span","code-segement12",{"className":"$undefined","style":{},"children":["  "]}],["$","span","code-segement13",{"className":"token control-flow","style":{"color":"#a04900"},"children":["return"]}],["$","span","code-segement14",{"className":"$undefined","style":{},"children":[" "]}],["$","span","code-segement15",{"className":"token","style":{"color":"#111b27"},"children":["("]}],["$","span","code-segement16",{"className":"$undefined","style":{},"children":["\\n"]}],["$","span","code-segement17",{"className":"$undefined","style":{},"children":["    "]}],["$","span","code-segement18",{"className":"token","style":{"color":"#a04900"},"children":["\u003c"]}],["$","span","code-segement19",{"className":"$undefined","style":{},"children":["div"]}],["$","span","code-segement20",{"className":"token","style":{"color":"#a04900"},"children":["\u003e"]}],["$","span","code-segement21",{"className":"token maybe-class-name","style":{},"children":["Home"]}],["$","span","code-segement22",{"className":"token","style":{"color":"#a04900"},"children":["\u003c"]}],["$","span","code-segement23",{"className":"token","style":{"color":"#a04900"},"children":["/"]}],["$","span","code-segement24",{"className":"$undefined","style":{},"children":["div"]}],["$","span","code-segement25",{"className":"token","style":{"color":"#a04900"},"children":["\u003e"]}],["$","span","code-segement26",{"className":"$undefined","style":{},"children":["\\n"]}],["$","span","code-segement27",{"className":"$undefined","style":{},"children":["  "]}],["$","span","code-segement28",{"className":"token","style":{"color":"#111b27"},"children":[")"]}],["$","span","code-segement29",{"className":"$undefined","style":{},"children":["\\n"]}],["$","span","code-segement30",{"className":"$undefined","style":{},"children":[""]}],["$","span","code-segement31",{"className":"token","style":{"color":"#111b27"},"children":["}"]}]]]}]}]]}],["$","$Le","16",{"variant":"p","component":"p","sx":{"textAlign":"justify","marginBottom":2},"children":["$undefined","Now, head to ",["$","$Lc","16-text-italics",{"component":"span","sx":{"paddingLeft":0.5,"paddingRight":0.5,"borderRadius":1,"backgroundColor":"rgb(227, 234, 242)"},"children":"src/App.js"}],", delete everything, and add the following code:"]}],["$","$Lc",null,{"sx":{"width":"100%","marginBottom":2},"children":[["$","$L1c",null,{"contentToCopy":"import Home from \\"./pages/Home\\";\\n\\nexport default function App() {\\n  return (\\n    \u003cdiv className=\\"App\\"\u003e\\n      \u003cHome /\u003e\\n    \u003c/div\u003e\\n  );\\n}"}],["$","pre",null,{"style":{"color":"#111b27","background":"#e3eaf2","fontFamily":"Consolas, Monaco, \\"Andale Mono\\", \\"Ubuntu Mono\\", monospace","textAlign":"left","whiteSpace":"pre","wordSpacing":"normal","wordBreak":"normal","wordWrap":"normal","lineHeight":"1.5","MozTabSize":"4","OTabSize":"4","tabSize":"4","WebkitHyphens":"none","MozHyphens":"none","msHyphens":"none","hyphens":"none","padding":"1em","margin":0,"overflow":"auto"},"children":["$","code",null,{"className":"language-javascript","style":{"color":"#111b27","background":"none","fontFamily":"Consolas, Monaco, \\"Andale Mono\\", \\"Ubuntu Mono\\", monospace","textAlign":"left","whiteSpace":"pre","wordSpacing":"normal","wordBreak":"normal","wordWrap":"normal","lineHeight":"1.5","MozTabSize":"4","OTabSize":"4","tabSize":"4","WebkitHyphens":"none","MozHyphens":"none","msHyphens":"none","hyphens":"none"},"children":[false,[["$","span","code-segement0",{"className":"token module","style":{"color":"#a04900"},"children":["import"]}],["$","span","code-segement1",{"className":"$undefined","style":{},"children":[" "]}],["$","span","code-segement2",{"className":"token imports maybe-class-name","style":{},"children":["Home"]}],["$","span","code-segement3",{"className":"$undefined","style":{},"children":[" "]}],["$","span","code-segement4",{"className":"token module","style":{"color":"#a04900"},"children":["from"]}],["$","span","code-segement5",{"className":"$undefined","style":{},"children":[" "]}],["$","span","code-segement6",{"className":"token","style":{"color":"#116b00"},"children":["\\"./pages/Home\\""]}],["$","span","code-segement7",{"className":"token","style":{"color":"#111b27"},"children":[";"]}],["$","span","code-segement8",{"className":"$undefined","style":{},"children":["\\n"]}],"\\n",["$","span","code-segement10",{"className":"$undefined","style":{},"children":[""]}],["$","span","code-segement11",{"className":"token module","style":{"color":"#a04900"},"children":["export"]}],["$","span","code-segement12",{"className":"$undefined","style":{},"children":[" "]}],["$","span","code-segement13",{"className":"token module","style":{"color":"#a04900"},"children":["default"]}],["$","span","code-segement14",{"className":"$undefined","style":{},"children":[" "]}],["$","span","code-segement15",{"className":"token","style":{"color":"#a04900"},"children":["function"]}],["$","span","code-segement16",{"className":"$undefined","style":{},"children":[" "]}],["$","span","code-segement17",{"className":"token maybe-class-name","style":{"color":"#7c00aa"},"children":["App"]}],["$","span","code-segement18",{"className":"token","style":{"color":"#111b27"},"children":["("]}],["$","span","code-segement19",{"className":"token","style":{"color":"#111b27"},"children":[")"]}],["$","span","code-segement20",{"className":"$undefined","style":{},"children":[" "]}],["$","span","code-segement21",{"className":"token","style":{"color":"#111b27"},"children":["{"]}],["$","span","code-segement22",{"className":"$undefined","style":{},"children":["\\n"]}],["$","span","code-segement23",{"className":"$undefined","style":{},"children":["  "]}],["$","span","code-segement24",{"className":"token control-flow","style":{"color":"#a04900"},"children":["return"]}],["$","span","code-segement25",{"className":"$undefined","style":{},"children":[" "]}],["$","span","code-segement26",{"className":"token","style":{"color":"#111b27"},"children":["("]}],["$","span","code-segement27",{"className":"$undefined","style":{},"children":["\\n"]}],["$","span","code-segement28",{"className":"$undefined","style":{},"children":["    "]}],["$","span","code-segement29",{"className":"token","style":{"color":"#a04900"},"children":["\u003c"]}],["$","span","code-segement30",{"className":"$undefined","style":{},"children":["div className"]}],["$","span","code-segement31",{"className":"token","style":{"color":"#a04900"},"children":["="]}],["$","span","code-segement32",{"className":"token","style":{"color":"#116b00"},"children":["\\"App\\""]}],["$","span","code-segement33",{"className":"token","style":{"color":"#a04900"},"children":["\u003e"]}],["$","span","code-segement34",{"className":"$undefined","style":{},"children":["\\n"]}],["$","span","code-segement35",{"className":"$undefined","style":{},"children":["      "]}],["$","span","code-segement36",{"className":"token","style":{"color":"#a04900"},"children":["\u003c"]}],["$","span","code-segement37",{"className":"token maybe-class-name","style":{},"children":["Home"]}],["$","span","code-segement38",{"className":"$undefined","style":{},"children":[" "]}],["$","span","code-segement39",{"className":"token","style":{"color":"#a04900"},"children":["/"]}],["$","span","code-segement40",{"className":"token","style":{"color":"#a04900"},"children":["\u003e"]}],["$","span","code-segement41",{"className":"$undefined","style":{},"children":["\\n"]}],["$","span","code-segement42",{"className":"$undefined","style":{},"children":["    "]}],["$","span","code-segement43",{"className":"token","style":{"color":"#a04900"},"children":["\u003c"]}],["$","span","code-segement44",{"className":"token","style":{"color":"#a04900"},"children":["/"]}],["$","span","code-segement45",{"className":"$undefined","style":{},"children":["div"]}],["$","span","code-segement46",{"className":"token","style":{"color":"#a04900"},"children":["\u003e"]}],["$","span","code-segement47",{"className":"$undefined","style":{},"children":["\\n"]}],["$","span","code-segement48",{"className":"$undefined","style":{},"children":["  "]}],["$","span","code-segement49",{"className":"token","style":{"color":"#111b27"},"children":[")"]}],["$","span","code-segement50",{"className":"token","style":{"color":"#111b27"},"children":[";"]}],["$","span","code-segement51",{"className":"$undefined","style":{},"children":["\\n"]}],["$","span","code-segement52",{"className":"$undefined","style":{},"children":[""]}],["$","span","code-segement53",{"className":"token","style":{"color":"#111b27"},"children":["}"]}]]]}]}]]}],["$","$Le","18",{"variant":"p","component":"p","sx":{"textAlign":"justify","marginBottom":2},"children":["$undefined","We can now try running the application"]}],["$","$Lc",null,{"sx":{"width":"100%","marginBottom":2},"children":[["$","$L1c",null,{"contentToCopy":"npm start"}],["$","pre",null,{"style":{"color":"#111b27","background":"#e3eaf2","fontFamily":"Consolas, Monaco, \\"Andale Mono\\", \\"Ubuntu Mono\\", monospace","textAlign":"left","whiteSpace":"pre","wordSpacing":"normal","wordBreak":"normal","wordWrap":"normal","lineHeight":"1.5","MozTabSize":"4","OTabSize":"4","tabSize":"4","WebkitHyphens":"none","MozHyphens":"none","msHyphens":"none","hyphens":"none","padding":"1em","margin":0,"overflow":"auto"},"children":["$","code",null,{"className":"language-bash","style":{"color":"#111b27","background":"none","fontFamily":"Consolas, Monaco, \\"Andale Mono\\", \\"Ubuntu Mono\\", monospace","textAlign":"left","whiteSpace":"pre","wordSpacing":"normal","wordBreak":"normal","wordWrap":"normal","lineHeight":"1.5","MozTabSize":"4","OTabSize":"4","tabSize":"4","WebkitHyphens":"none","MozHyphens":"none","msHyphens":"none","hyphens":"none"},"children":[false,[["$","span","code-segement0",{"className":"token","style":{"color":"#7c00aa"},"children":["npm"]}],["$","span","code-segement1",{"className":"$undefined","style":{},"children":[" start"]}]]]}]}]]}],["$","$Le","20",{"variant":"p","component":"p","sx":{"textAlign":"justify","marginBottom":2},"children":["$undefined","Head to ",["$","$Lc","20-text-italics",{"component":"span","sx":{"paddingLeft":0.5,"paddingRight":0.5,"borderRadius":1,"backgroundColor":"rgb(227, 234, 242)"},"children":"localhost:3000"}]," in your web browser (if it doesn\'t open automatically). You should see a page with the text \\"Home\\" on it."]}],["$","$Le","21",{"variant":"p","component":"p","sx":{"textAlign":"justify","marginBottom":2},"children":["$undefined","Great! We can now start making changes to this page and add our canvas for drawing."]}],["$","$Lc",null,{"sx":{"width":"100%","marginBottom":2},"children":[["$","$L1c",null,{"contentToCopy":"$1d"}],["$","pre",null,{"style":{"color":"#111b27","background":"#e3eaf2","fontFamily":"Consolas, Monaco, \\"Andale Mono\\", \\"Ubuntu Mono\\", monospace","textAlign":"left","whiteSpace":"pre","wordSpacing":"normal","wordBreak":"normal","wordWrap":"normal","lineHeight":"1.5","MozTabSize":"4","OTabSize":"4","tabSize":"4","WebkitHyphens":"none","MozHyphens":"none","msHyphens":"none","hyphens":"none","padding":"1em","margin":0,"overflow":"auto"},"children":["$","code",null,{"className":"language-javascript","style":{"color":"#111b27","background":"none","fontFamily":"Consolas, Monaco, \\"Andale Mono\\", \\"Ubuntu Mono\\", monospace","textAlign":"left","whiteSpace":"pre","wordSpacing":"normal","wordBreak":"normal","wordWrap":"normal","lineHeight":"1.5","MozTabSize":"4","OTabSize":"4","tabSize":"4","WebkitHyphens":"none","MozHyphens":"none","msHyphens":"none","hyphens":"none"},"children":[false,[["$","span","code-segement0",{"className":"token module","style":{"color":"#a04900"},"children":["import"]}],["$","span","code-segement1",{"className":"$undefined","style":{},"children":[" "]}],["$","span","code-segement2",{"className":"token imports","style":{"color":"#111b27"},"children":["{"]}],["$","span","code-segement3",{"className":"token imports","style":{},"children":[" useRef"]}],["$","span","code-segement4",{"className":"token imports","style":{"color":"#111b27"},"children":[","]}],["$","span","code-segement5",{"className":"token imports","style":{},"children":[" useState "]}],["$","span","code-segement6",{"className":"token imports","style":{"color":"#111b27"},"children":["}"]}],["$","span","code-segement7",{"className":"$undefined","style":{},"children":[" "]}],["$","span","code-segement8",{"className":"token module","style":{"color":"#a04900"},"children":["from"]}],["$","span","code-segement9",{"className":"$undefined","style":{},"children":[" "]}],["$","span","code-segement10",{"className":"token","style":{"color":"#116b00"},"children":["\\"react\\""]}],["$","span","code-segement11",{"className":"token","style":{"color":"#111b27"},"children":[";"]}],["$","span","code-segement12",{"className":"$undefined","style":{},"children":["\\n"]}],["$","span","code-segement13",{"className":"$undefined","style":{},"children":[""]}],["$","span","code-segement14",{"className":"token module","style":{"color":"#a04900"},"children":["import"]}],["$","span","code-segement15",{"className":"$undefined","style":{},"children":[" "]}],["$","span","code-segement16",{"className":"token imports","style":{"color":"#111b27"},"children":["{"]}],["$","span","code-segement17",{"className":"token imports","style":{},"children":[" "]}],["$","span","code-segement18",{"className":"token imports maybe-class-name","style":{},"children":["Stage"]}],["$","span","code-segement19",{"className":"token imports","style":{"color":"#111b27"},"children":[","]}],["$","span","code-segement20",{"className":"token imports","style":{},"children":[" "]}],["$","span","code-segement21",{"className":"token imports maybe-class-name","style":{},"children":["Layer"]}],["$","span","code-segement22",{"className":"token imports","style":{"color":"#111b27"},"children":[","]}],["$","span","code-segement23",{"className":"token imports","style":{},"children":[" "]}],["$","span","code-segement24",{"className":"token imports maybe-class-name","style":{},"children":["Line"]}],["$","span","code-segement25",{"className":"token imports","style":{},"children":[" "]}],["$","span","code-segement26",{"className":"token imports","style":{"color":"#111b27"},"children":["}"]}],["$","span","code-segement27",{"className":"$undefined","style":{},"children":[" "]}],["$","span","code-segement28",{"className":"token module","style":{"color":"#a04900"},"children":["from"]}],["$","span","code-segement29",{"className":"$undefined","style":{},"children":[" "]}],["$","span","code-segement30",{"className":"token","style":{"color":"#116b00"},"children":["\\"react-konva\\""]}],["$","span","code-segement31",{"className":"token","style":{"color":"#111b27"},"children":[";"]}],["$","span","code-segement32",{"className":"$undefined","style":{},"children":["\\n"]}],"\\n",["$","span","code-segement34",{"className":"$undefined","style":{},"children":[""]}],["$","span","code-segement35",{"className":"token module","style":{"color":"#a04900"},"children":["import"]}],["$","span","code-segement36",{"className":"$undefined","style":{},"children":[" "]}],["$","span","code-segement37",{"className":"token imports","style":{},"children":["runInference"]}],["$","span","code-segement38",{"className":"$undefined","style":{},"children":[" "]}],["$","span","code-segement39",{"className":"token module","style":{"color":"#a04900"},"children":["from"]}],["$","span","code-segement40",{"className":"$undefined","style":{},"children":[" "]}],["$","span","code-segement41",{"className":"token","style":{"color":"#116b00"},"children":["\\"../inferencing/onnx\\""]}],["$","span","code-segement42",{"className":"token","style":{"color":"#111b27"},"children":[";"]}],["$","span","code-segement43",{"className":"$undefined","style":{},"children":["\\n"]}],"\\n",["$","span","code-segement45",{"className":"$undefined","style":{},"children":[""]}],["$","span","code-segement46",{"className":"token module","style":{"color":"#a04900"},"children":["export"]}],["$","span","code-segement47",{"className":"$undefined","style":{},"children":[" "]}],["$","span","code-segement48",{"className":"token module","style":{"color":"#a04900"},"children":["default"]}],["$","span","code-segement49",{"className":"$undefined","style":{},"children":[" "]}],["$","span","code-segement50",{"className":"token","style":{"color":"#a04900"},"children":["function"]}],["$","span","code-segement51",{"className":"$undefined","style":{},"children":[" "]}],["$","span","code-segement52",{"className":"token maybe-class-name","style":{"color":"#7c00aa"},"children":["Home"]}],["$","span","code-segement53",{"className":"token","style":{"color":"#111b27"},"children":["("]}],["$","span","code-segement54",{"className":"token","style":{"color":"#111b27"},"children":[")"]}],["$","span","code-segement55",{"className":"$undefined","style":{},"children":[" "]}],["$","span","code-segement56",{"className":"token","style":{"color":"#111b27"},"children":["{"]}],["$","span","code-segement57",{"className":"$undefined","style":{},"children":["\\n"]}],["$","span","code-segement58",{"className":"$undefined","style":{},"children":["  "]}],["$","span","code-segement59",{"className":"token","style":{"color":"#a04900"},"children":["const"]}],["$","span","code-segement60",{"className":"$undefined","style":{},"children":[" stageSize "]}],["$","span","code-segement61",{"className":"token","style":{"color":"#a04900"},"children":["="]}],["$","span","code-segement62",{"className":"$undefined","style":{},"children":[" "]}],["$","span","code-segement63",{"className":"token known-class-name","style":{"color":"#005a8e"},"children":["Math"]}],["$","span","code-segement64",{"className":"token","style":{"color":"#111b27"},"children":["."]}],["$","span","code-segement65",{"className":"token method","style":{"color":"#005a8e"},"children":["min"]}],["$","span","code-segement66",{"className":"token","style":{"color":"#111b27"},"children":["("]}],["$","span","code-segement67",{"className":"token dom","style":{"color":"#005a8e"},"children":["window"]}],["$","span","code-segement68",{"className":"token","style":{"color":"#111b27"},"children":["."]}],["$","span","code-segement69",{"className":"token","style":{"color":"#005a8e"},"children":["innerWidth"]}],["$","span","code-segement70",{"className":"$undefined","style":{},"children":[" "]}],["$","span","code-segement71",{"className":"token","style":{"color":"#a04900"},"children":["*"]}],["$","span","code-segement72",{"className":"$undefined","style":{},"children":[" "]}],["$","span","code-segement73",{"className":"token","style":{"color":"#755f00"},"children":["0.9"]}],["$","span","code-segement74",{"className":"token","style":{"color":"#111b27"},"children":[","]}],["$","span","code-segement75",{"className":"$undefined","style":{},"children":[" "]}],["$","span","code-segement76",{"className":"token dom","style":{"color":"#005a8e"},"children":["window"]}],["$","span","code-segement77",{"className":"token","style":{"color":"#111b27"},"children":["."]}],["$","span","code-segement78",{"className":"token","style":{"color":"#005a8e"},"children":["innerHeight"]}],["$","span","code-segement79",{"className":"$undefined","style":{},"children":[" "]}],["$","span","code-segement80",{"className":"token","style":{"color":"#a04900"},"children":["*"]}],["$","span","code-segement81",{"className":"$undefined","style":{},"children":[" "]}],["$","span","code-segement82",{"className":"token","style":{"color":"#755f00"},"children":["0.5"]}],["$","span","code-segement83",{"className":"token","style":{"color":"#111b27"},"children":[")"]}],["$","span","code-segement84",{"className":"token","style":{"color":"#111b27"},"children":[";"]}],["$","span","code-segement85",{"className":"$undefined","style":{},"children":["\\n"]}],"\\n",["$","span","code-segement87",{"className":"$undefined","style":{},"children":["  "]}],["$","span","code-segement88",{"className":"token","style":{"color":"#a04900"},"children":["const"]}],["$","span","code-segement89",{"className":"$undefined","style":{},"children":[" "]}],["$","span","code-segement90",{"className":"token","style":{"color":"#111b27"},"children":["["]}],["$","span","code-segement91",{"className":"$undefined","style":{},"children":["tool"]}],["$","span","code-segement92",{"className":"token","style":{"color":"#111b27"},"children":[","]}],["$","span","code-segement93",{"className":"$undefined","style":{},"children":[" setTool"]}],["$","span","code-segement94",{"className":"token","style":{"color":"#111b27"},"children":["]"]}],["$","span","code-segement95",{"className":"$undefined","style":{},"children":[" "]}],["$","span","code-segement96",{"className":"token","style":{"color":"#a04900"},"children":["="]}],["$","span","code-segement97",{"className":"$undefined","style":{},"children":[" "]}],["$","span","code-segement98",{"className":"token","style":{"color":"#7c00aa"},"children":["useState"]}],["$","span","code-segement99",{"className":"token","style":{"color":"#111b27"},"children":["("]}],["$","span","code-segement100",{"className":"token","style":{"color":"#116b00"},"children":["\\"pen\\""]}],["$","span","code-segement101",{"className":"token","style":{"color":"#111b27"},"children":[")"]}],["$","span","code-segement102",{"className":"token","style":{"color":"#111b27"},"children":[";"]}],["$","span","code-segement103",{"className":"$undefined","style":{},"children":["\\n"]}],["$","span","code-segement104",{"className":"$undefined","style":{},"children":["  "]}],["$","span","code-segement105",{"className":"token","style":{"color":"#a04900"},"children":["const"]}],["$","span","code-segement106",{"className":"$undefined","style":{},"children":[" "]}],["$","span","code-segement107",{"className":"token","style":{"color":"#111b27"},"children":["["]}],["$","span","code-segement108",{"className":"$undefined","style":{},"children":["lines"]}],["$","span","code-segement109",{"className":"token","style":{"color":"#111b27"},"children":[","]}],["$","span","code-segement110",{"className":"$undefined","style":{},"children":[" setLines"]}],["$","span","code-segement111",{"className":"token","style":{"color":"#111b27"},"children":["]"]}],["$","span","code-segement112",{"className":"$undefined","style":{},"children":[" "]}],["$","span","code-segement113",{"className":"token","style":{"color":"#a04900"},"children":["="]}],["$","span","code-segement114",{"className":"$undefined","style":{},"children":[" "]}],["$","span","code-segement115",{"className":"token","style":{"color":"#7c00aa"},"children":["useState"]}],["$","span","code-segement116",{"className":"token","style":{"color":"#111b27"},"children":["("]}],["$","span","code-segement117",{"className":"token","style":{"color":"#111b27"},"children":["["]}],["$","span","code-segement118",{"className":"token","style":{"color":"#111b27"},"children":["]"]}],["$","span","code-segement119",{"className":"token","style":{"color":"#111b27"},"children":[")"]}],["$","span","code-segement120",{"className":"token","style":{"color":"#111b27"},"children":[";"]}],["$","span","code-segement121",{"className":"$undefined","style":{},"children":["\\n"]}],["$","span","code-segement122",{"className":"$undefined","style":{},"children":["  "]}],["$","span","code-segement123",{"className":"token","style":{"color":"#a04900"},"children":["const"]}],["$","span","code-segement124",{"className":"$undefined","style":{},"children":[" "]}],["$","span","code-segement125",{"className":"token","style":{"color":"#111b27"},"children":["["]}],["$","span","code-segement126",{"className":"$undefined","style":{},"children":["strokeWidth"]}],["$","span","code-segement127",{"className":"token","style":{"color":"#111b27"},"children":[","]}],["$","span","code-segement128",{"className":"$undefined","style":{},"children":[" setStrokeWidth"]}],["$","span","code-segement129",{"className":"token","style":{"color":"#111b27"},"children":["]"]}],["$","span","code-segement130",{"className":"$undefined","style":{},"children":[" "]}],["$","span","code-segement131",{"className":"token","style":{"color":"#a04900"},"children":["="]}],["$","span","code-segement132",{"className":"$undefined","style":{},"children":[" "]}],["$","span","code-segement133",{"className":"token","style":{"color":"#7c00aa"},"children":["useState"]}],["$","span","code-segement134",{"className":"token","style":{"color":"#111b27"},"children":["("]}],["$","span","code-segement135",{"className":"token","style":{"color":"#755f00"},"children":["15"]}],["$","span","code-segement136",{"className":"token","style":{"color":"#111b27"},"children":[")"]}],["$","span","code-segement137",{"className":"token","style":{"color":"#111b27"},"children":[";"]}],["$","span","code-segement138",{"className":"$undefined","style":{},"children":["\\n"]}],["$","span","code-segement139",{"className":"$undefined","style":{},"children":["  "]}],["$","span","code-segement140",{"className":"token","style":{"color":"#a04900"},"children":["const"]}],["$","span","code-segement141",{"className":"$undefined","style":{},"children":[" "]}],["$","span","code-segement142",{"className":"token","style":{"color":"#111b27"},"children":["["]}],["$","span","code-segement143",{"className":"$undefined","style":{},"children":["prediction"]}],["$","span","code-segement144",{"className":"token","style":{"color":"#111b27"},"children":[","]}],["$","span","code-segement145",{"className":"$undefined","style":{},"children":[" setPrediction"]}],["$","span","code-segement146",{"className":"token","style":{"color":"#111b27"},"children":["]"]}],["$","span","code-segement147",{"className":"$undefined","style":{},"children":[" "]}],["$","span","code-segement148",{"className":"token","style":{"color":"#a04900"},"children":["="]}],["$","span","code-segement149",{"className":"$undefined","style":{},"children":[" "]}],["$","span","code-segement150",{"className":"token","style":{"color":"#7c00aa"},"children":["useState"]}],["$","span","code-segement151",{"className":"token","style":{"color":"#111b27"},"children":["("]}],["$","span","code-segement152",{"className":"token null nil","style":{"color":"#a04900"},"children":["null"]}],["$","span","code-segement153",{"className":"token","style":{"color":"#111b27"},"children":[")"]}],["$","span","code-segement154",{"className":"token","style":{"color":"#111b27"},"children":[";"]}],["$","span","code-segement155",{"className":"$undefined","style":{},"children":["\\n"]}],"\\n",["$","span","code-segement157",{"className":"$undefined","style":{},"children":["  "]}],["$","span","code-segement158",{"className":"token","style":{"color":"#a04900"},"children":["const"]}],["$","span","code-segement159",{"className":"$undefined","style":{},"children":[" stageRef "]}],["$","span","code-segement160",{"className":"token","style":{"color":"#a04900"},"children":["="]}],["$","span","code-segement161",{"className":"$undefined","style":{},"children":[" "]}],["$","span","code-segement162",{"className":"token","style":{"color":"#7c00aa"},"children":["useRef"]}],["$","span","code-segement163",{"className":"token","style":{"color":"#111b27"},"children":["("]}],["$","span","code-segement164",{"className":"token null nil","style":{"color":"#a04900"},"children":["null"]}],["$","span","code-segement165",{"className":"token","style":{"color":"#111b27"},"children":[")"]}],["$","span","code-segement166",{"className":"token","style":{"color":"#111b27"},"children":[";"]}],["$","span","code-segement167",{"className":"$undefined","style":{},"children":["\\n"]}],["$","span","code-segement168",{"className":"$undefined","style":{},"children":["  "]}],["$","span","code-segement169",{"className":"token","style":{"color":"#a04900"},"children":["const"]}],["$","span","code-segement170",{"className":"$undefined","style":{},"children":[" isDrawing "]}],["$","span","code-segement171",{"className":"token","style":{"color":"#a04900"},"children":["="]}],["$","span","code-segement172",{"className":"$undefined","style":{},"children":[" "]}],["$","span","code-segement173",{"className":"token","style":{"color":"#7c00aa"},"children":["useRef"]}],["$","span","code-segement174",{"className":"token","style":{"color":"#111b27"},"children":["("]}],["$","span","code-segement175",{"className":"token","style":{"color":"#755f00"},"children":["false"]}],["$","span","code-segement176",{"className":"token","style":{"color":"#111b27"},"children":[")"]}],["$","span","code-segement177",{"className":"token","style":{"color":"#111b27"},"children":[";"]}],["$","span","code-segement178",{"className":"$undefined","style":{},"children":["\\n"]}],"\\n",["$","span","code-segement180",{"className":"$undefined","style":{},"children":["  "]}],["$","span","code-segement181",{"className":"token","style":{"color":"#a04900"},"children":["const"]}],["$","span","code-segement182",{"className":"$undefined","style":{},"children":[" "]}],["$","span","code-segement183",{"className":"token function-variable","style":{"color":"#7c00aa"},"children":["handleMouseDown"]}],["$","span","code-segement184",{"className":"$undefined","style":{},"children":[" "]}],["$","span","code-segement185",{"className":"token","style":{"color":"#a04900"},"children":["="]}],["$","span","code-segement186",{"className":"$undefined","style":{},"children":[" "]}],["$","span","code-segement187",{"className":"token","style":{"color":"#111b27"},"children":["("]}],["$","span","code-segement188",{"className":"token","style":{"color":"#005a8e"},"children":["e"]}],["$","span","code-segement189",{"className":"token","style":{"color":"#111b27"},"children":[")"]}],["$","span","code-segement190",{"className":"$undefined","style":{},"children":[" "]}],["$","span","code-segement191",{"className":"token arrow","style":{"color":"#a04900"},"children":["=\u003e"]}],["$","span","code-segement192",{"className":"$undefined","style":{},"children":[" "]}],["$","span","code-segement193",{"className":"token","style":{"color":"#111b27"},"children":["{"]}],["$","span","code-segement194",{"className":"$undefined","style":{},"children":["\\n"]}],["$","span","code-segement195",{"className":"$undefined","style":{},"children":["    isDrawing"]}],["$","span","code-segement196",{"className":"token","style":{"color":"#111b27"},"children":["."]}],["$","span","code-segement197",{"className":"token","style":{"color":"#005a8e"},"children":["current"]}],["$","span","code-segement198",{"className":"$undefined","style":{},"children":[" "]}],["$","span","code-segement199",{"className":"token","style":{"color":"#a04900"},"children":["="]}],["$","span","code-segement200",{"className":"$undefined","style":{},"children":[" "]}],["$","span","code-segement201",{"className":"token","style":{"color":"#755f00"},"children":["true"]}],["$","span","code-segement202",{"className":"token","style":{"color":"#111b27"},"children":[";"]}],["$","span","code-segement203",{"className":"$undefined","style":{},"children":["\\n"]}],["$","span","code-segement204",{"className":"$undefined","style":{},"children":["    "]}],["$","span","code-segement205",{"className":"token","style":{"color":"#a04900"},"children":["const"]}],["$","span","code-segement206",{"className":"$undefined","style":{},"children":[" pos "]}],["$","span","code-segement207",{"className":"token","style":{"color":"#a04900"},"children":["="]}],["$","span","code-segement208",{"className":"$undefined","style":{},"children":[" e"]}],["$","span","code-segement209",{"className":"token","style":{"color":"#111b27"},"children":["."]}],["$","span","code-segement210",{"className":"token","style":{"color":"#005a8e"},"children":["target"]}],["$","span","code-segement211",{"className":"token","style":{"color":"#111b27"},"children":["."]}],["$","span","code-segement212",{"className":"token method","style":{"color":"#005a8e"},"children":["getStage"]}],["$","span","code-segement213",{"className":"token","style":{"color":"#111b27"},"children":["("]}],["$","span","code-segement214",{"className":"token","style":{"color":"#111b27"},"children":[")"]}],["$","span","code-segement215",{"className":"token","style":{"color":"#111b27"},"children":["."]}],["$","span","code-segement216",{"className":"token method","style":{"color":"#005a8e"},"children":["getPointerPosition"]}],["$","span","code-segement217",{"className":"token","style":{"color":"#111b27"},"children":["("]}],["$","span","code-segement218",{"className":"token","style":{"color":"#111b27"},"children":[")"]}],["$","span","code-segement219",{"className":"token","style":{"color":"#111b27"},"children":[";"]}],["$","span","code-segement220",{"className":"$undefined","style":{},"children":["\\n"]}],["$","span","code-segement221",{"className":"$undefined","style":{},"children":["    "]}],["$","span","code-segement222",{"className":"token","style":{"color":"#7c00aa"},"children":["setLines"]}],["$","span","code-segement223",{"className":"token","style":{"color":"#111b27"},"children":["("]}],["$","span","code-segement224",{"className":"token","style":{"color":"#111b27"},"children":["["]}],["$","span","code-segement225",{"className":"token spread","style":{"color":"#a04900"},"children":["..."]}],["$","span","code-segement226",{"className":"$undefined","style":{},"children":["lines"]}],["$","span","code-segement227",{"className":"token","style":{"color":"#111b27"},"children":[","]}],["$","span","code-segement228",{"className":"$undefined","style":{},"children":[" "]}],["$","span","code-segement229",{"className":"token","style":{"color":"#111b27"},"children":["{"]}],["$","span","code-segement230",{"className":"$undefined","style":{},"children":[" tool"]}],["$","span","code-segement231",{"className":"token","style":{"color":"#111b27"},"children":[","]}],["$","span","code-segement232",{"className":"$undefined","style":{},"children":[" strokeWidth"]}],["$","span","code-segement233",{"className":"token","style":{"color":"#111b27"},"children":[","]}],["$","span","code-segement234",{"className":"$undefined","style":{},"children":[" "]}],["$","span","code-segement235",{"className":"token literal-property","style":{"color":"#005a8e"},"children":["points"]}],["$","span","code-segement236",{"className":"token","style":{"color":"#a04900"},"children":[":"]}],["$","span","code-segement237",{"className":"$undefined","style":{},"children":[" "]}],["$","span","code-segement238",{"className":"token","style":{"color":"#111b27"},"children":["["]}],["$","span","code-segement239",{"className":"$undefined","style":{},"children":["pos"]}],["$","span","code-segement240",{"className":"token","style":{"color":"#111b27"},"children":["."]}],["$","span","code-segement241",{"className":"token","style":{"color":"#005a8e"},"children":["x"]}],["$","span","code-segement242",{"className":"token","style":{"color":"#111b27"},"children":[","]}],["$","span","code-segement243",{"className":"$undefined","style":{},"children":[" pos"]}],["$","span","code-segement244",{"className":"token","style":{"color":"#111b27"},"children":["."]}],["$","span","code-segement245",{"className":"token","style":{"color":"#005a8e"},"children":["y"]}],["$","span","code-segement246",{"className":"token","style":{"color":"#111b27"},"children":["]"]}],["$","span","code-segement247",{"className":"$undefined","style":{},"children":[" "]}],["$","span","code-segement248",{"className":"token","style":{"color":"#111b27"},"children":["}"]}],["$","span","code-segement249",{"className":"token","style":{"color":"#111b27"},"children":["]"]}],["$","span","code-segement250",{"className":"token","style":{"color":"#111b27"},"children":[")"]}],["$","span","code-segement251",{"className":"token","style":{"color":"#111b27"},"children":[";"]}],["$","span","code-segement252",{"className":"$undefined","style":{},"children":["\\n"]}],"\\n",["$","span","code-segement254",{"className":"$undefined","style":{},"children":["    "]}],["$","span","code-segement255",{"className":"token","style":{"color":"#7c00aa"},"children":["setPrediction"]}],["$","span","code-segement256",{"className":"token","style":{"color":"#111b27"},"children":["("]}],["$","span","code-segement257",{"className":"token null nil","style":{"color":"#a04900"},"children":["null"]}],["$","span","code-segement258",{"className":"token","style":{"color":"#111b27"},"children":[")"]}],["$","span","code-segement259",{"className":"token","style":{"color":"#111b27"},"children":[";"]}],["$","span","code-segement260",{"className":"$undefined","style":{},"children":["\\n"]}],["$","span","code-segement261",{"className":"$undefined","style":{},"children":["  "]}],["$","span","code-segement262",{"className":"token","style":{"color":"#111b27"},"children":["}"]}],["$","span","code-segement263",{"className":"token","style":{"color":"#111b27"},"children":[";"]}],["$","span","code-segement264",{"className":"$undefined","style":{},"children":["\\n"]}],"\\n",["$","span","code-segement266",{"className":"$undefined","style":{},"children":["  "]}],["$","span","code-segement267",{"className":"token","style":{"color":"#a04900"},"children":["const"]}],["$","span","code-segement268",{"className":"$undefined","style":{},"children":[" "]}],["$","span","code-segement269",{"className":"token function-variable","style":{"color":"#7c00aa"},"children":["handleMouseMove"]}],["$","span","code-segement270",{"className":"$undefined","style":{},"children":[" "]}],["$","span","code-segement271",{"className":"token","style":{"color":"#a04900"},"children":["="]}],["$","span","code-segement272",{"className":"$undefined","style":{},"children":[" "]}],["$","span","code-segement273",{"className":"token","style":{"color":"#111b27"},"children":["("]}],["$","span","code-segement274",{"className":"token","style":{"color":"#005a8e"},"children":["e"]}],["$","span","code-segement275",{"className":"token","style":{"color":"#111b27"},"children":[")"]}],["$","span","code-segement276",{"className":"$undefined","style":{},"children":[" "]}],["$","span","code-segement277",{"className":"token arrow","style":{"color":"#a04900"},"children":["=\u003e"]}],["$","span","code-segement278",{"className":"$undefined","style":{},"children":[" "]}],["$","span","code-segement279",{"className":"token","style":{"color":"#111b27"},"children":["{"]}],["$","span","code-segement280",{"className":"$undefined","style":{},"children":["\\n"]}],["$","span","code-segement281",{"className":"$undefined","style":{},"children":["    "]}],["$","span","code-segement282",{"className":"token control-flow","style":{"color":"#a04900"},"children":["if"]}],["$","span","code-segement283",{"className":"$undefined","style":{},"children":[" "]}],["$","span","code-segement284",{"className":"token","style":{"color":"#111b27"},"children":["("]}],["$","span","code-segement285",{"className":"token","style":{"color":"#a04900"},"children":["!"]}],["$","span","code-segement286",{"className":"$undefined","style":{},"children":["isDrawing"]}],["$","span","code-segement287",{"className":"token","style":{"color":"#111b27"},"children":["."]}],["$","span","code-segement288",{"className":"token","style":{"color":"#005a8e"},"children":["current"]}],["$","span","code-segement289",{"className":"token","style":{"color":"#111b27"},"children":[")"]}],["$","span","code-segement290",{"className":"$undefined","style":{},"children":[" "]}],["$","span","code-segement291",{"className":"token","style":{"color":"#111b27"},"children":["{"]}],["$","span","code-segement292",{"className":"$undefined","style":{},"children":["\\n"]}],["$","span","code-segement293",{"className":"$undefined","style":{},"children":["      "]}],["$","span","code-segement294",{"className":"token control-flow","style":{"color":"#a04900"},"children":["return"]}],["$","span","code-segement295",{"className":"token","style":{"color":"#111b27"},"children":[";"]}],["$","span","code-segement296",{"className":"$undefined","style":{},"children":["\\n"]}],["$","span","code-segement297",{"className":"$undefined","style":{},"children":["    "]}],["$","span","code-segement298",{"className":"token","style":{"color":"#111b27"},"children":["}"]}],["$","span","code-segement299",{"className":"$undefined","style":{},"children":["\\n"]}],"\\n",["$","span","code-segement301",{"className":"$undefined","style":{},"children":["    "]}],["$","span","code-segement302",{"className":"token","style":{"color":"#a04900"},"children":["const"]}],["$","span","code-segement303",{"className":"$undefined","style":{},"children":[" stage "]}],["$","span","code-segement304",{"className":"token","style":{"color":"#a04900"},"children":["="]}],["$","span","code-segement305",{"className":"$undefined","style":{},"children":[" e"]}],["$","span","code-segement306",{"className":"token","style":{"color":"#111b27"},"children":["."]}],["$","span","code-segement307",{"className":"token","style":{"color":"#005a8e"},"children":["target"]}],["$","span","code-segement308",{"className":"token","style":{"color":"#111b27"},"children":["."]}],["$","span","code-segement309",{"className":"token method","style":{"color":"#005a8e"},"children":["getStage"]}],["$","span","code-segement310",{"className":"token","style":{"color":"#111b27"},"children":["("]}],["$","span","code-segement311",{"className":"token","style":{"color":"#111b27"},"children":[")"]}],["$","span","code-segement312",{"className":"token","style":{"color":"#111b27"},"children":[";"]}],["$","span","code-segement313",{"className":"$undefined","style":{},"children":["\\n"]}],["$","span","code-segement314",{"className":"$undefined","style":{},"children":["    "]}],["$","span","code-segement315",{"className":"token","style":{"color":"#a04900"},"children":["const"]}],["$","span","code-segement316",{"className":"$undefined","style":{},"children":[" point "]}],["$","span","code-segement317",{"className":"token","style":{"color":"#a04900"},"children":["="]}],["$","span","code-segement318",{"className":"$undefined","style":{},"children":[" stage"]}],["$","span","code-segement319",{"className":"token","style":{"color":"#111b27"},"children":["."]}],["$","span","code-segement320",{"className":"token method","style":{"color":"#005a8e"},"children":["getPointerPosition"]}],["$","span","code-segement321",{"className":"token","style":{"color":"#111b27"},"children":["("]}],["$","span","code-segement322",{"className":"token","style":{"color":"#111b27"},"children":[")"]}],["$","span","code-segement323",{"className":"token","style":{"color":"#111b27"},"children":[";"]}],["$","span","code-segement324",{"className":"$undefined","style":{},"children":["\\n"]}],["$","span","code-segement325",{"className":"$undefined","style":{},"children":["    "]}],["$","span","code-segement326",{"className":"token","style":{"color":"#a04900"},"children":["let"]}],["$","span","code-segement327",{"className":"$undefined","style":{},"children":[" lastLine "]}],["$","span","code-segement328",{"className":"token","style":{"color":"#a04900"},"children":["="]}],["$","span","code-segement329",{"className":"$undefined","style":{},"children":[" lines"]}],["$","span","code-segement330",{"className":"token","style":{"color":"#111b27"},"children":["["]}],["$","span","code-segement331",{"className":"$undefined","style":{},"children":["lines"]}],["$","span","code-segement332",{"className":"token","style":{"color":"#111b27"},"children":["."]}],["$","span","code-segement333",{"className":"token","style":{"color":"#005a8e"},"children":["length"]}],["$","span","code-segement334",{"className":"$undefined","style":{},"children":[" "]}],["$","span","code-segement335",{"className":"token","style":{"color":"#a04900"},"children":["-"]}],["$","span","code-segement336",{"className":"$undefined","style":{},"children":[" "]}],["$","span","code-segement337",{"className":"token","style":{"color":"#755f00"},"children":["1"]}],["$","span","code-segement338",{"className":"token","style":{"color":"#111b27"},"children":["]"]}],["$","span","code-segement339",{"className":"token","style":{"color":"#111b27"},"children":[";"]}],["$","span","code-segement340",{"className":"$undefined","style":{},"children":["\\n"]}],"\\n",["$","span","code-segement342",{"className":"$undefined","style":{},"children":["    lastLine"]}],["$","span","code-segement343",{"className":"token","style":{"color":"#111b27"},"children":["."]}],["$","span","code-segement344",{"className":"token","style":{"color":"#005a8e"},"children":["points"]}],["$","span","code-segement345",{"className":"$undefined","style":{},"children":[" "]}],["$","span","code-segement346",{"className":"token","style":{"color":"#a04900"},"children":["="]}],["$","span","code-segement347",{"className":"$undefined","style":{},"children":[" lastLine"]}],["$","span","code-segement348",{"className":"token","style":{"color":"#111b27"},"children":["."]}],["$","span","code-segement349",{"className":"token","style":{"color":"#005a8e"},"children":["points"]}],["$","span","code-segement350",{"className":"token","style":{"color":"#111b27"},"children":["."]}],["$","span","code-segement351",{"className":"token method","style":{"color":"#005a8e"},"children":["concat"]}],["$","span","code-segement352",{"className":"token","style":{"color":"#111b27"},"children":["("]}],["$","span","code-segement353",{"className":"token","style":{"color":"#111b27"},"children":["["]}],["$","span","code-segement354",{"className":"$undefined","style":{},"children":["point"]}],["$","span","code-segement355",{"className":"token","style":{"color":"#111b27"},"children":["."]}],["$","span","code-segement356",{"className":"token","style":{"color":"#005a8e"},"children":["x"]}],["$","span","code-segement357",{"className":"token","style":{"color":"#111b27"},"children":[","]}],["$","span","code-segement358",{"className":"$undefined","style":{},"children":[" point"]}],["$","span","code-segement359",{"className":"token","style":{"color":"#111b27"},"children":["."]}],["$","span","code-segement360",{"className":"token","style":{"color":"#005a8e"},"children":["y"]}],["$","span","code-segement361",{"className":"token","style":{"color":"#111b27"},"children":["]"]}],["$","span","code-segement362",{"className":"token","style":{"color":"#111b27"},"children":[")"]}],["$","span","code-segement363",{"className":"token","style":{"color":"#111b27"},"children":[";"]}],["$","span","code-segement364",{"className":"$undefined","style":{},"children":["\\n"]}],"\\n",["$","span","code-segement366",{"className":"$undefined","style":{},"children":["    lines"]}],["$","span","code-segement367",{"className":"token","style":{"color":"#111b27"},"children":["."]}],["$","span","code-segement368",{"className":"token method","style":{"color":"#005a8e"},"children":["splice"]}],["$","span","code-segement369",{"className":"token","style":{"color":"#111b27"},"children":["("]}],["$","span","code-segement370",{"className":"$undefined","style":{},"children":["lines"]}],["$","span","code-segement371",{"className":"token","style":{"color":"#111b27"},"children":["."]}],["$","span","code-segement372",{"className":"token","style":{"color":"#005a8e"},"children":["length"]}],["$","span","code-segement373",{"className":"$undefined","style":{},"children":[" "]}],["$","span","code-segement374",{"className":"token","style":{"color":"#a04900"},"children":["-"]}],["$","span","code-segement375",{"className":"$undefined","style":{},"children":[" "]}],["$","span","code-segement376",{"className":"token","style":{"color":"#755f00"},"children":["1"]}],["$","span","code-segement377",{"className":"token","style":{"color":"#111b27"},"children":[","]}],["$","span","code-segement378",{"className":"$undefined","style":{},"children":[" "]}],["$","span","code-segement379",{"className":"token","style":{"color":"#755f00"},"children":["1"]}],["$","span","code-segement380",{"className":"token","style":{"color":"#111b27"},"children":[","]}],["$","span","code-segement381",{"className":"$undefined","style":{},"children":[" lastLine"]}],["$","span","code-segement382",{"className":"token","style":{"color":"#111b27"},"children":[")"]}],["$","span","code-segement383",{"className":"token","style":{"color":"#111b27"},"children":[";"]}],["$","span","code-segement384",{"className":"$undefined","style":{},"children":["\\n"]}],["$","span","code-segement385",{"className":"$undefined","style":{},"children":["    "]}],["$","span","code-segement386",{"className":"token","style":{"color":"#7c00aa"},"children":["setLines"]}],["$","span","code-segement387",{"className":"token","style":{"color":"#111b27"},"children":["("]}],["$","span","code-segement388",{"className":"$undefined","style":{},"children":["lines"]}],["$","span","code-segement389",{"className":"token","style":{"color":"#111b27"},"children":["."]}],["$","span","code-segement390",{"className":"token method","style":{"color":"#005a8e"},"children":["concat"]}],["$","span","code-segement391",{"className":"token","style":{"color":"#111b27"},"children":["("]}],["$","span","code-segement392",{"className":"token","style":{"color":"#111b27"},"children":[")"]}],["$","span","code-segement393",{"className":"token","style":{"color":"#111b27"},"children":[")"]}],["$","span","code-segement394",{"className":"token","style":{"color":"#111b27"},"children":[";"]}],["$","span","code-segement395",{"className":"$undefined","style":{},"children":["\\n"]}],["$","span","code-segement396",{"className":"$undefined","style":{},"children":["  "]}],["$","span","code-segement397",{"className":"token","style":{"color":"#111b27"},"children":["}"]}],["$","span","code-segement398",{"className":"token","style":{"color":"#111b27"},"children":[";"]}],["$","span","code-segement399",{"className":"$undefined","style":{},"children":["\\n"]}],"\\n",["$","span","code-segement401",{"className":"$undefined","style":{},"children":["  "]}],["$","span","code-segement402",{"className":"token","style":{"color":"#a04900"},"children":["const"]}],["$","span","code-segement403",{"className":"$undefined","style":{},"children":[" "]}],["$","span","code-segement404",{"className":"token function-variable","style":{"color":"#7c00aa"},"children":["handleMouseUp"]}],["$","span","code-segement405",{"className":"$undefined","style":{},"children":[" "]}],["$","span","code-segement406",{"className":"token","style":{"color":"#a04900"},"children":["="]}],["$","span","code-segement407",{"className":"$undefined","style":{},"children":[" "]}],["$","span","code-segement408",{"className":"token","style":{"color":"#111b27"},"children":["("]}],["$","span","code-segement409",{"className":"token","style":{"color":"#111b27"},"children":[")"]}],["$","span","code-segement410",{"className":"$undefined","style":{},"children":[" "]}],["$","span","code-segement411",{"className":"token arrow","style":{"color":"#a04900"},"children":["=\u003e"]}],["$","span","code-segement412",{"className":"$undefined","style":{},"children":[" "]}],["$","span","code-segement413",{"className":"token","style":{"color":"#111b27"},"children":["{"]}],["$","span","code-segement414",{"className":"$undefined","style":{},"children":["\\n"]}],["$","span","code-segement415",{"className":"$undefined","style":{},"children":["    isDrawing"]}],["$","span","code-segement416",{"className":"token","style":{"color":"#111b27"},"children":["."]}],["$","span","code-segement417",{"className":"token","style":{"color":"#005a8e"},"children":["current"]}],["$","span","code-segement418",{"className":"$undefined","style":{},"children":[" "]}],["$","span","code-segement419",{"className":"token","style":{"color":"#a04900"},"children":["="]}],["$","span","code-segement420",{"className":"$undefined","style":{},"children":[" "]}],["$","span","code-segement421",{"className":"token","style":{"color":"#755f00"},"children":["false"]}],["$","span","code-segement422",{"className":"token","style":{"color":"#111b27"},"children":[";"]}],["$","span","code-segement423",{"className":"$undefined","style":{},"children":["\\n"]}],["$","span","code-segement424",{"className":"$undefined","style":{},"children":["  "]}],["$","span","code-segement425",{"className":"token","style":{"color":"#111b27"},"children":["}"]}],["$","span","code-segement426",{"className":"token","style":{"color":"#111b27"},"children":[";"]}],["$","span","code-segement427",{"className":"$undefined","style":{},"children":["\\n"]}],"\\n",["$","span","code-segement429",{"className":"$undefined","style":{},"children":["  "]}],["$","span","code-segement430",{"className":"token","style":{"color":"#a04900"},"children":["const"]}],["$","span","code-segement431",{"className":"$undefined","style":{},"children":[" "]}],["$","span","code-segement432",{"className":"token function-variable","style":{"color":"#7c00aa"},"children":["handlePredictButtonClick"]}],["$","span","code-segement433",{"className":"$undefined","style":{},"children":[" "]}],["$","span","code-segement434",{"className":"token","style":{"color":"#a04900"},"children":["="]}],["$","span","code-segement435",{"className":"$undefined","style":{},"children":[" "]}],["$","span","code-segement436",{"className":"token","style":{"color":"#a04900"},"children":["async"]}],["$","span","code-segement437",{"className":"$undefined","style":{},"children":[" "]}],["$","span","code-segement438",{"className":"token","style":{"color":"#111b27"},"children":["("]}],["$","span","code-segement439",{"className":"token","style":{"color":"#005a8e"},"children":["e"]}],["$","span","code-segement440",{"className":"token","style":{"color":"#111b27"},"children":[")"]}],["$","span","code-segement441",{"className":"$undefined","style":{},"children":[" "]}],["$","span","code-segement442",{"className":"token arrow","style":{"color":"#a04900"},"children":["=\u003e"]}],["$","span","code-segement443",{"className":"$undefined","style":{},"children":[" "]}],["$","span","code-segement444",{"className":"token","style":{"color":"#111b27"},"children":["{"]}],["$","span","code-segement445",{"className":"$undefined","style":{},"children":["\\n"]}],["$","span","code-segement446",{"className":"$undefined","style":{},"children":["    "]}],["$","span","code-segement447",{"className":"token","style":{"color":"#a04900"},"children":["const"]}],["$","span","code-segement448",{"className":"$undefined","style":{},"children":[" imageDataUri "]}],["$","span","code-segement449",{"className":"token","style":{"color":"#a04900"},"children":["="]}],["$","span","code-segement450",{"className":"$undefined","style":{},"children":[" stageRef"]}],["$","span","code-segement451",{"className":"token","style":{"color":"#111b27"},"children":["."]}],["$","span","code-segement452",{"className":"token","style":{"color":"#005a8e"},"children":["current"]}],["$","span","code-segement453",{"className":"token","style":{"color":"#111b27"},"children":["."]}],["$","span","code-segement454",{"className":"token method","style":{"color":"#005a8e"},"children":["toDataURL"]}],["$","span","code-segement455",{"className":"token","style":{"color":"#111b27"},"children":["("]}],["$","span","code-segement456",{"className":"token","style":{"color":"#111b27"},"children":[")"]}],["$","span","code-segement457",{"className":"token","style":{"color":"#111b27"},"children":[";"]}],["$","span","code-segement458",{"className":"$undefined","style":{},"children":["\\n"]}],"\\n",["$","span","code-segement460",{"className":"$undefined","style":{},"children":["    "]}],["$","span","code-segement461",{"className":"token","style":{"color":"#a04900"},"children":["const"]}],["$","span","code-segement462",{"className":"$undefined","style":{},"children":[" prediction "]}],["$","span","code-segement463",{"className":"token","style":{"color":"#a04900"},"children":["="]}],["$","span","code-segement464",{"className":"$undefined","style":{},"children":[" "]}],["$","span","code-segement465",{"className":"token control-flow","style":{"color":"#a04900"},"children":["await"]}],["$","span","code-segement466",{"className":"$undefined","style":{},"children":[" "]}],["$","span","code-segement467",{"className":"token","style":{"color":"#7c00aa"},"children":["runInference"]}],["$","span","code-segement468",{"className":"token","style":{"color":"#111b27"},"children":["("]}],["$","span","code-segement469",{"className":"$undefined","style":{},"children":["imageDataUri"]}],["$","span","code-segement470",{"className":"token","style":{"color":"#111b27"},"children":[")"]}],["$","span","code-segement471",{"className":"token","style":{"color":"#111b27"},"children":[";"]}],["$","span","code-segement472",{"className":"$undefined","style":{},"children":["\\n"]}],["$","span","code-segement473",{"className":"$undefined","style":{},"children":["    "]}],["$","span","code-segement474",{"className":"token","style":{"color":"#7c00aa"},"children":["setPrediction"]}],["$","span","code-segement475",{"className":"token","style":{"color":"#111b27"},"children":["("]}],["$","span","code-segement476",{"className":"$undefined","style":{},"children":["prediction"]}],["$","span","code-segement477",{"className":"token","style":{"color":"#111b27"},"children":[")"]}],["$","span","code-segement478",{"className":"token","style":{"color":"#111b27"},"children":[";"]}],["$","span","code-segement479",{"className":"$undefined","style":{},"children":["\\n"]}],["$","span","code-segement480",{"className":"$undefined","style":{},"children":["  "]}],["$","span","code-segement481",{"className":"token","style":{"color":"#111b27"},"children":["}"]}],["$","span","code-segement482",{"className":"token","style":{"color":"#111b27"},"children":[";"]}],["$","span","code-segement483",{"className":"$undefined","style":{},"children":["\\n"]}],"\\n",["$","span","code-segement485",{"className":"$undefined","style":{},"children":["  "]}],["$","span","code-segement486",{"className":"token control-flow","style":{"color":"#a04900"},"children":["return"]}],["$","span","code-segement487",{"className":"$undefined","style":{},"children":[" "]}],["$","span","code-segement488",{"className":"token","style":{"color":"#111b27"},"children":["("]}],["$","span","code-segement489",{"className":"$undefined","style":{},"children":["\\n"]}],["$","span","code-segement490",{"className":"$undefined","style":{},"children":["    "]}],["$","span","code-segement491",{"className":"token","style":{"color":"#a04900"},"children":["\u003c"]}],["$","span","code-segement492",{"className":"$undefined","style":{},"children":["div\\n"]}],["$","span","code-segement493",{"className":"$undefined","style":{},"children":["      style"]}],["$","span","code-segement494",{"className":"token","style":{"color":"#a04900"},"children":["="]}],["$","span","code-segement495",{"className":"token","style":{"color":"#111b27"},"children":["{"]}],["$","span","code-segement496",{"className":"token","style":{"color":"#111b27"},"children":["{"]}],["$","span","code-segement497",{"className":"$undefined","style":{},"children":["\\n"]}],["$","span","code-segement498",{"className":"$undefined","style":{},"children":["        "]}],["$","span","code-segement499",{"className":"token literal-property","style":{"color":"#005a8e"},"children":["width"]}],["$","span","code-segement500",{"className":"token","style":{"color":"#a04900"},"children":[":"]}],["$","span","code-segement501",{"className":"$undefined","style":{},"children":[" "]}],["$","span","code-segement502",{"className":"token","style":{"color":"#116b00"},"children":["\\"100%\\""]}],["$","span","code-segement503",{"className":"token","style":{"color":"#111b27"},"children":[","]}],["$","span","code-segement504",{"className":"$undefined","style":{},"children":["\\n"]}],["$","span","code-segement505",{"className":"$undefined","style":{},"children":["        "]}],["$","span","code-segement506",{"className":"token literal-property","style":{"color":"#005a8e"},"children":["display"]}],["$","span","code-segement507",{"className":"token","style":{"color":"#a04900"},"children":[":"]}],["$","span","code-segement508",{"className":"$undefined","style":{},"children":[" "]}],["$","span","code-segement509",{"className":"token","style":{"color":"#116b00"},"children":["\\"flex\\""]}],["$","span","code-segement510",{"className":"token","style":{"color":"#111b27"},"children":[","]}],["$","span","code-segement511",{"className":"$undefined","style":{},"children":["\\n"]}],["$","span","code-segement512",{"className":"$undefined","style":{},"children":["        "]}],["$","span","code-segement513",{"className":"token literal-property","style":{"color":"#005a8e"},"children":["flexDirection"]}],["$","span","code-segement514",{"className":"token","style":{"color":"#a04900"},"children":[":"]}],["$","span","code-segement515",{"className":"$undefined","style":{},"children":[" "]}],["$","span","code-segement516",{"className":"token","style":{"color":"#116b00"},"children":["\\"column\\""]}],["$","span","code-segement517",{"className":"token","style":{"color":"#111b27"},"children":[","]}],["$","span","code-segement518",{"className":"$undefined","style":{},"children":["\\n"]}],["$","span","code-segement519",{"className":"$undefined","style":{},"children":["        "]}],["$","span","code-segement520",{"className":"token literal-property","style":{"color":"#005a8e"},"children":["justifyContent"]}],["$","span","code-segement521",{"className":"token","style":{"color":"#a04900"},"children":[":"]}],["$","span","code-segement522",{"className":"$undefined","style":{},"children":[" "]}],["$","span","code-segement523",{"className":"token","style":{"color":"#116b00"},"children":["\\"flex-start\\""]}],["$","span","code-segement524",{"className":"token","style":{"color":"#111b27"},"children":[","]}],["$","span","code-segement525",{"className":"$undefined","style":{},"children":["\\n"]}],["$","span","code-segement526",{"className":"$undefined","style":{},"children":["        "]}],["$","span","code-segement527",{"className":"token literal-property","style":{"color":"#005a8e"},"children":["alignItems"]}],["$","span","code-segement528",{"className":"token","style":{"color":"#a04900"},"children":[":"]}],["$","span","code-segement529",{"className":"$undefined","style":{},"children":[" "]}],["$","span","code-segement530",{"className":"token","style":{"color":"#116b00"},"children":["\\"center\\""]}],["$","span","code-segement531",{"className":"token","style":{"color":"#111b27"},"children":[","]}],["$","span","code-segement532",{"className":"$undefined","style":{},"children":["\\n"]}],["$","span","code-segement533",{"className":"$undefined","style":{},"children":["      "]}],["$","span","code-segement534",{"className":"token","style":{"color":"#111b27"},"children":["}"]}],["$","span","code-segement535",{"className":"token","style":{"color":"#111b27"},"children":["}"]}],["$","span","code-segement536",{"className":"$undefined","style":{},"children":["\\n"]}],["$","span","code-segement537",{"className":"$undefined","style":{},"children":["    "]}],["$","span","code-segement538",{"className":"token","style":{"color":"#a04900"},"children":["\u003e"]}],["$","span","code-segement539",{"className":"$undefined","style":{},"children":["\\n"]}],["$","span","code-segement540",{"className":"$undefined","style":{},"children":["      "]}],["$","span","code-segement541",{"className":"token","style":{"color":"#a04900"},"children":["\u003c"]}],["$","span","code-segement542",{"className":"$undefined","style":{},"children":["h1"]}],["$","span","code-segement543",{"className":"token","style":{"color":"#a04900"},"children":["\u003e"]}],["$","span","code-segement544",{"className":"token maybe-class-name","style":{},"children":["Drawn"]}],["$","span","code-segement545",{"className":"$undefined","style":{},"children":[" "]}],["$","span","code-segement546",{"className":"token maybe-class-name","style":{},"children":["Digit"]}],["$","span","code-segement547",{"className":"$undefined","style":{},"children":[" "]}],["$","span","code-segement548",{"className":"token maybe-class-name","style":{},"children":["Prediction"]}],["$","span","code-segement549",{"className":"token","style":{"color":"#a04900"},"children":["\u003c"]}],["$","span","code-segement550",{"className":"token","style":{"color":"#a04900"},"children":["/"]}],["$","span","code-segement551",{"className":"$undefined","style":{},"children":["h1"]}],["$","span","code-segement552",{"className":"token","style":{"color":"#a04900"},"children":["\u003e"]}],["$","span","code-segement553",{"className":"$undefined","style":{},"children":["\\n"]}],"\\n",["$","span","code-segement555",{"className":"$undefined","style":{},"children":["      "]}],["$","span","code-segement556",{"className":"token","style":{"color":"#a04900"},"children":["\u003c"]}],["$","span","code-segement557",{"className":"token maybe-class-name","style":{},"children":["Stage"]}],["$","span","code-segement558",{"className":"$undefined","style":{},"children":["\\n"]}],["$","span","code-segement559",{"className":"$undefined","style":{},"children":["        ref"]}],["$","span","code-segement560",{"className":"token","style":{"color":"#a04900"},"children":["="]}],["$","span","code-segement561",{"className":"token","style":{"color":"#111b27"},"children":["{"]}],["$","span","code-segement562",{"className":"$undefined","style":{},"children":["stageRef"]}],["$","span","code-segement563",{"className":"token","style":{"color":"#111b27"},"children":["}"]}],["$","span","code-segement564",{"className":"$undefined","style":{},"children":["\\n"]}],["$","span","code-segement565",{"className":"$undefined","style":{},"children":["        width"]}],["$","span","code-segement566",{"className":"token","style":{"color":"#a04900"},"children":["="]}],["$","span","code-segement567",{"className":"token","style":{"color":"#111b27"},"children":["{"]}],["$","span","code-segement568",{"className":"$undefined","style":{},"children":["stageSize"]}],["$","span","code-segement569",{"className":"token","style":{"color":"#111b27"},"children":["}"]}],["$","span","code-segement570",{"className":"$undefined","style":{},"children":["\\n"]}],["$","span","code-segement571",{"className":"$undefined","style":{},"children":["        height"]}],["$","span","code-segement572",{"className":"token","style":{"color":"#a04900"},"children":["="]}],["$","span","code-segement573",{"className":"token","style":{"color":"#111b27"},"children":["{"]}],["$","span","code-segement574",{"className":"$undefined","style":{},"children":["stageSize"]}],["$","span","code-segement575",{"className":"token","style":{"color":"#111b27"},"children":["}"]}],["$","span","code-segement576",{"className":"$undefined","style":{},"children":["\\n"]}],["$","span","code-segement577",{"className":"$undefined","style":{},"children":["        onMouseDown"]}],["$","span","code-segement578",{"className":"token","style":{"color":"#a04900"},"children":["="]}],["$","span","code-segement579",{"className":"token","style":{"color":"#111b27"},"children":["{"]}],["$","span","code-segement580",{"className":"$undefined","style":{},"children":["handleMouseDown"]}],["$","span","code-segement581",{"className":"token","style":{"color":"#111b27"},"children":["}"]}],["$","span","code-segement582",{"className":"$undefined","style":{},"children":["\\n"]}],["$","span","code-segement583",{"className":"$undefined","style":{},"children":["        onMousemove"]}],["$","span","code-segement584",{"className":"token","style":{"color":"#a04900"},"children":["="]}],["$","span","code-segement585",{"className":"token","style":{"color":"#111b27"},"children":["{"]}],["$","span","code-segement586",{"className":"$undefined","style":{},"children":["handleMouseMove"]}],["$","span","code-segement587",{"className":"token","style":{"color":"#111b27"},"children":["}"]}],["$","span","code-segement588",{"className":"$undefined","style":{},"children":["\\n"]}],["$","span","code-segement589",{"className":"$undefined","style":{},"children":["        onMouseup"]}],["$","span","code-segement590",{"className":"token","style":{"color":"#a04900"},"children":["="]}],["$","span","code-segement591",{"className":"token","style":{"color":"#111b27"},"children":["{"]}],["$","span","code-segement592",{"className":"$undefined","style":{},"children":["handleMouseUp"]}],["$","span","code-segement593",{"className":"token","style":{"color":"#111b27"},"children":["}"]}],["$","span","code-segement594",{"className":"$undefined","style":{},"children":["\\n"]}],["$","span","code-segement595",{"className":"$undefined","style":{},"children":["        style"]}],["$","span","code-segement596",{"className":"token","style":{"color":"#a04900"},"children":["="]}],["$","span","code-segement597",{"className":"token","style":{"color":"#111b27"},"children":["{"]}],["$","span","code-segement598",{"className":"token","style":{"color":"#111b27"},"children":["{"]}],["$","span","code-segement599",{"className":"$undefined","style":{},"children":["\\n"]}],["$","span","code-segement600",{"className":"$undefined","style":{},"children":["          "]}],["$","span","code-segement601",{"className":"token literal-property","style":{"color":"#005a8e"},"children":["border"]}],["$","span","code-segement602",{"className":"token","style":{"color":"#a04900"},"children":[":"]}],["$","span","code-segement603",{"className":"$undefined","style":{},"children":[" "]}],["$","span","code-segement604",{"className":"token","style":{"color":"#116b00"},"children":["\\"1px solid black\\""]}],["$","span","code-segement605",{"className":"token","style":{"color":"#111b27"},"children":[","]}],["$","span","code-segement606",{"className":"$undefined","style":{},"children":["\\n"]}],["$","span","code-segement607",{"className":"$undefined","style":{},"children":["        "]}],["$","span","code-segement608",{"className":"token","style":{"color":"#111b27"},"children":["}"]}],["$","span","code-segement609",{"className":"token","style":{"color":"#111b27"},"children":["}"]}],["$","span","code-segement610",{"className":"$undefined","style":{},"children":["\\n"]}],["$","span","code-segement611",{"className":"$undefined","style":{},"children":["      "]}],["$","span","code-segement612",{"className":"token","style":{"color":"#a04900"},"children":["\u003e"]}],["$","span","code-segement613",{"className":"$undefined","style":{},"children":["\\n"]}],["$","span","code-segement614",{"className":"$undefined","style":{},"children":["        "]}],["$","span","code-segement615",{"className":"token","style":{"color":"#a04900"},"children":["\u003c"]}],["$","span","code-segement616",{"className":"token maybe-class-name","style":{},"children":["Layer"]}],["$","span","code-segement617",{"className":"token","style":{"color":"#a04900"},"children":["\u003e"]}],["$","span","code-segement618",{"className":"$undefined","style":{},"children":["\\n"]}],["$","span","code-segement619",{"className":"$undefined","style":{},"children":["          "]}],["$","span","code-segement620",{"className":"token","style":{"color":"#111b27"},"children":["{"]}],["$","span","code-segement621",{"className":"$undefined","style":{},"children":["lines"]}],["$","span","code-segement622",{"className":"token","style":{"color":"#111b27"},"children":["."]}],["$","span","code-segement623",{"className":"token method","style":{"color":"#005a8e"},"children":["map"]}],["$","span","code-segement624",{"className":"token","style":{"color":"#111b27"},"children":["("]}],["$","span","code-segement625",{"className":"token","style":{"color":"#111b27"},"children":["("]}],["$","span","code-segement626",{"className":"token","style":{"color":"#005a8e"},"children":["line"]}],["$","span","code-segement627",{"className":"token","style":{"color":"#111b27"},"children":[","]}],["$","span","code-segement628",{"className":"token","style":{"color":"#005a8e"},"children":[" i"]}],["$","span","code-segement629",{"className":"token","style":{"color":"#111b27"},"children":[")"]}],["$","span","code-segement630",{"className":"$undefined","style":{},"children":[" "]}],["$","span","code-segement631",{"className":"token arrow","style":{"color":"#a04900"},"children":["=\u003e"]}],["$","span","code-segement632",{"className":"$undefined","style":{},"children":[" "]}],["$","span","code-segement633",{"className":"token","style":{"color":"#111b27"},"children":["("]}],["$","span","code-segement634",{"className":"$undefined","style":{},"children":["\\n"]}],["$","span","code-segement635",{"className":"$undefined","style":{},"children":["            "]}],["$","span","code-segement636",{"className":"token","style":{"color":"#a04900"},"children":["\u003c"]}],["$","span","code-segement637",{"className":"token maybe-class-name","style":{},"children":["Line"]}],["$","span","code-segement638",{"className":"$undefined","style":{},"children":["\\n"]}],["$","span","code-segement639",{"className":"$undefined","style":{},"children":["              key"]}],["$","span","code-segement640",{"className":"token","style":{"color":"#a04900"},"children":["="]}],["$","span","code-segement641",{"className":"token","style":{"color":"#111b27"},"children":["{"]}],["$","span","code-segement642",{"className":"$undefined","style":{},"children":["i"]}],["$","span","code-segement643",{"className":"token","style":{"color":"#111b27"},"children":["}"]}],["$","span","code-segement644",{"className":"$undefined","style":{},"children":["\\n"]}],["$","span","code-segement645",{"className":"$undefined","style":{},"children":["              points"]}],["$","span","code-segement646",{"className":"token","style":{"color":"#a04900"},"children":["="]}],["$","span","code-segement647",{"className":"token","style":{"color":"#111b27"},"children":["{"]}],["$","span","code-segement648",{"className":"$undefined","style":{},"children":["line"]}],["$","span","code-segement649",{"className":"token","style":{"color":"#111b27"},"children":["."]}],["$","span","code-segement650",{"className":"token","style":{"color":"#005a8e"},"children":["points"]}],["$","span","code-segement651",{"className":"token","style":{"color":"#111b27"},"children":["}"]}],["$","span","code-segement652",{"className":"$undefined","style":{},"children":["\\n"]}],["$","span","code-segement653",{"className":"$undefined","style":{},"children":["              stroke"]}],["$","span","code-segement654",{"className":"token","style":{"color":"#a04900"},"children":["="]}],["$","span","code-segement655",{"className":"token","style":{"color":"#116b00"},"children":["\\"#000000\\""]}],["$","span","code-segement656",{"className":"$undefined","style":{},"children":["\\n"]}],["$","span","code-segement657",{"className":"$undefined","style":{},"children":["              strokeWidth"]}],["$","span","code-segement658",{"className":"token","style":{"color":"#a04900"},"children":["="]}],["$","span","code-segement659",{"className":"token","style":{"color":"#111b27"},"children":["{"]}],["$","span","code-segement660",{"className":"$undefined","style":{},"children":["line"]}],["$","span","code-segement661",{"className":"token","style":{"color":"#111b27"},"children":["."]}],["$","span","code-segement662",{"className":"token","style":{"color":"#005a8e"},"children":["strokeWidth"]}],["$","span","code-segement663",{"className":"token","style":{"color":"#111b27"},"children":["}"]}],["$","span","code-segement664",{"className":"$undefined","style":{},"children":["\\n"]}],["$","span","code-segement665",{"className":"$undefined","style":{},"children":["              tension"]}],["$","span","code-segement666",{"className":"token","style":{"color":"#a04900"},"children":["="]}],["$","span","code-segement667",{"className":"token","style":{"color":"#111b27"},"children":["{"]}],["$","span","code-segement668",{"className":"token","style":{"color":"#755f00"},"children":["0.5"]}],["$","span","code-segement669",{"className":"token","style":{"color":"#111b27"},"children":["}"]}],["$","span","code-segement670",{"className":"$undefined","style":{},"children":["\\n"]}],["$","span","code-segement671",{"className":"$undefined","style":{},"children":["              lineCap"]}],["$","span","code-segement672",{"className":"token","style":{"color":"#a04900"},"children":["="]}],["$","span","code-segement673",{"className":"token","style":{"color":"#116b00"},"children":["\\"round\\""]}],["$","span","code-segement674",{"className":"$undefined","style":{},"children":["\\n"]}],["$","span","code-segement675",{"className":"$undefined","style":{},"children":["              lineJoin"]}],["$","span","code-segement676",{"className":"token","style":{"color":"#a04900"},"children":["="]}],["$","span","code-segement677",{"className":"token","style":{"color":"#116b00"},"children":["\\"round\\""]}],["$","span","code-segement678",{"className":"$undefined","style":{},"children":["\\n"]}],["$","span","code-segement679",{"className":"$undefined","style":{},"children":["              globalCompositeOperation"]}],["$","span","code-segement680",{"className":"token","style":{"color":"#a04900"},"children":["="]}],["$","span","code-segement681",{"className":"token","style":{"color":"#111b27"},"children":["{"]}],["$","span","code-segement682",{"className":"$undefined","style":{},"children":["line"]}],["$","span","code-segement683",{"className":"token","style":{"color":"#111b27"},"children":["."]}],["$","span","code-segement684",{"className":"token","style":{"color":"#005a8e"},"children":["tool"]}],["$","span","code-segement685",{"className":"$undefined","style":{},"children":[" "]}],["$","span","code-segement686",{"className":"token","style":{"color":"#a04900"},"children":["==="]}],["$","span","code-segement687",{"className":"$undefined","style":{},"children":[" "]}],["$","span","code-segement688",{"className":"token","style":{"color":"#116b00"},"children":["\\"eraser\\""]}],["$","span","code-segement689",{"className":"$undefined","style":{},"children":[" "]}],["$","span","code-segement690",{"className":"token","style":{"color":"#a04900"},"children":["?"]}],["$","span","code-segement691",{"className":"$undefined","style":{},"children":[" "]}],["$","span","code-segement692",{"className":"token","style":{"color":"#116b00"},"children":["\\"destination-out\\""]}],["$","span","code-segement693",{"className":"$undefined","style":{},"children":[" "]}],["$","span","code-segement694",{"className":"token","style":{"color":"#a04900"},"children":[":"]}],["$","span","code-segement695",{"className":"$undefined","style":{},"children":[" "]}],["$","span","code-segement696",{"className":"token","style":{"color":"#116b00"},"children":["\\"source-over\\""]}],["$","span","code-segement697",{"className":"token","style":{"color":"#111b27"},"children":["}"]}],["$","span","code-segement698",{"className":"$undefined","style":{},"children":["\\n"]}],["$","span","code-segement699",{"className":"$undefined","style":{},"children":["            "]}],["$","span","code-segement700",{"className":"token","style":{"color":"#a04900"},"children":["/"]}],["$","span","code-segement701",{"className":"token","style":{"color":"#a04900"},"children":["\u003e"]}],["$","span","code-segement702",{"className":"$undefined","style":{},"children":["\\n"]}],["$","span","code-segement703",{"className":"$undefined","style":{},"children":["          "]}],["$","span","code-segement704",{"className":"token","style":{"color":"#111b27"},"children":[")"]}],["$","span","code-segement705",{"className":"token","style":{"color":"#111b27"},"children":[")"]}],["$","span","code-segement706",{"className":"token","style":{"color":"#111b27"},"children":["}"]}],["$","span","code-segement707",{"className":"$undefined","style":{},"children":["\\n"]}],["$","span","code-segement708",{"className":"$undefined","style":{},"children":["        "]}],["$","span","code-segement709",{"className":"token","style":{"color":"#a04900"},"children":["\u003c"]}],["$","span","code-segement710",{"className":"token","style":{"color":"#a04900"},"children":["/"]}],["$","span","code-segement711",{"className":"token maybe-class-name","style":{},"children":["Layer"]}],["$","span","code-segement712",{"className":"token","style":{"color":"#a04900"},"children":["\u003e"]}],["$","span","code-segement713",{"className":"$undefined","style":{},"children":["\\n"]}],["$","span","code-segement714",{"className":"$undefined","style":{},"children":["      "]}],["$","span","code-segement715",{"className":"token","style":{"color":"#a04900"},"children":["\u003c"]}],["$","span","code-segement716",{"className":"token","style":{"color":"#a04900"},"children":["/"]}],["$","span","code-segement717",{"className":"token maybe-class-name","style":{},"children":["Stage"]}],["$","span","code-segement718",{"className":"token","style":{"color":"#a04900"},"children":["\u003e"]}],["$","span","code-segement719",{"className":"$undefined","style":{},"children":["\\n"]}],"\\n",["$","span","code-segement721",{"className":"$undefined","style":{},"children":["      "]}],["$","span","code-segement722",{"className":"token","style":{"color":"#a04900"},"children":["\u003c"]}],["$","span","code-segement723",{"className":"$undefined","style":{},"children":["div\\n"]}],["$","span","code-segement724",{"className":"$undefined","style":{},"children":["        style"]}],["$","span","code-segement725",{"className":"token","style":{"color":"#a04900"},"children":["="]}],["$","span","code-segement726",{"className":"token","style":{"color":"#111b27"},"children":["{"]}],["$","span","code-segement727",{"className":"token","style":{"color":"#111b27"},"children":["{"]}],["$","span","code-segement728",{"className":"$undefined","style":{},"children":["\\n"]}],["$","span","code-segement729",{"className":"$undefined","style":{},"children":["          "]}],["$","span","code-segement730",{"className":"token literal-property","style":{"color":"#005a8e"},"children":["width"]}],["$","span","code-segement731",{"className":"token","style":{"color":"#a04900"},"children":[":"]}],["$","span","code-segement732",{"className":"$undefined","style":{},"children":[" stageSize"]}],["$","span","code-segement733",{"className":"token","style":{"color":"#111b27"},"children":[","]}],["$","span","code-segement734",{"className":"$undefined","style":{},"children":["\\n"]}],["$","span","code-segement735",{"className":"$undefined","style":{},"children":["          "]}],["$","span","code-segement736",{"className":"token literal-property","style":{"color":"#005a8e"},"children":["marginTop"]}],["$","span","code-segement737",{"className":"token","style":{"color":"#a04900"},"children":[":"]}],["$","span","code-segement738",{"className":"$undefined","style":{},"children":[" "]}],["$","span","code-segement739",{"className":"token","style":{"color":"#755f00"},"children":["10"]}],["$","span","code-segement740",{"className":"token","style":{"color":"#111b27"},"children":[","]}],["$","span","code-segement741",{"className":"$undefined","style":{},"children":["\\n"]}],["$","span","code-segement742",{"className":"$undefined","style":{},"children":["          "]}],["$","span","code-segement743",{"className":"token literal-property","style":{"color":"#005a8e"},"children":["display"]}],["$","span","code-segement744",{"className":"token","style":{"color":"#a04900"},"children":[":"]}],["$","span","code-segement745",{"className":"$undefined","style":{},"children":[" "]}],["$","span","code-segement746",{"className":"token","style":{"color":"#116b00"},"children":["\\"flex\\""]}],["$","span","code-segement747",{"className":"token","style":{"color":"#111b27"},"children":[","]}],["$","span","code-segement748",{"className":"$undefined","style":{},"children":["\\n"]}],["$","span","code-segement749",{"className":"$undefined","style":{},"children":["          "]}],["$","span","code-segement750",{"className":"token literal-property","style":{"color":"#005a8e"},"children":["flexDirection"]}],["$","span","code-segement751",{"className":"token","style":{"color":"#a04900"},"children":[":"]}],["$","span","code-segement752",{"className":"$undefined","style":{},"children":[" "]}],["$","span","code-segement753",{"className":"token","style":{"color":"#116b00"},"children":["\\"row\\""]}],["$","span","code-segement754",{"className":"token","style":{"color":"#111b27"},"children":[","]}],["$","span","code-segement755",{"className":"$undefined","style":{},"children":["\\n"]}],["$","span","code-segement756",{"className":"$undefined","style":{},"children":["          "]}],["$","span","code-segement757",{"className":"token literal-property","style":{"color":"#005a8e"},"children":["justifyContent"]}],["$","span","code-segement758",{"className":"token","style":{"color":"#a04900"},"children":[":"]}],["$","span","code-segement759",{"className":"$undefined","style":{},"children":[" "]}],["$","span","code-segement760",{"className":"token","style":{"color":"#116b00"},"children":["\\"space-evenly\\""]}],["$","span","code-segement761",{"className":"token","style":{"color":"#111b27"},"children":[","]}],["$","span","code-segement762",{"className":"$undefined","style":{},"children":["\\n"]}],["$","span","code-segement763",{"className":"$undefined","style":{},"children":["          "]}],["$","span","code-segement764",{"className":"token literal-property","style":{"color":"#005a8e"},"children":["alignItems"]}],["$","span","code-segement765",{"className":"token","style":{"color":"#a04900"},"children":[":"]}],["$","span","code-segement766",{"className":"$undefined","style":{},"children":[" "]}],["$","span","code-segement767",{"className":"token","style":{"color":"#116b00"},"children":["\\"center\\""]}],["$","span","code-segement768",{"className":"token","style":{"color":"#111b27"},"children":[","]}],["$","span","code-segement769",{"className":"$undefined","style":{},"children":["\\n"]}],["$","span","code-segement770",{"className":"$undefined","style":{},"children":["        "]}],["$","span","code-segement771",{"className":"token","style":{"color":"#111b27"},"children":["}"]}],["$","span","code-segement772",{"className":"token","style":{"color":"#111b27"},"children":["}"]}],["$","span","code-segement773",{"className":"$undefined","style":{},"children":["\\n"]}],["$","span","code-segement774",{"className":"$undefined","style":{},"children":["      "]}],["$","span","code-segement775",{"className":"token","style":{"color":"#a04900"},"children":["\u003e"]}],["$","span","code-segement776",{"className":"$undefined","style":{},"children":["\\n"]}],["$","span","code-segement777",{"className":"$undefined","style":{},"children":["        "]}],["$","span","code-segement778",{"className":"token","style":{"color":"#a04900"},"children":["\u003c"]}],["$","span","code-segement779",{"className":"$undefined","style":{},"children":["select\\n"]}],["$","span","code-segement780",{"className":"$undefined","style":{},"children":["          value"]}],["$","span","code-segement781",{"className":"token","style":{"color":"#a04900"},"children":["="]}],["$","span","code-segement782",{"className":"token","style":{"color":"#111b27"},"children":["{"]}],["$","span","code-segement783",{"className":"$undefined","style":{},"children":["tool"]}],["$","span","code-segement784",{"className":"token","style":{"color":"#111b27"},"children":["}"]}],["$","span","code-segement785",{"className":"$undefined","style":{},"children":["\\n"]}],["$","span","code-segement786",{"className":"$undefined","style":{},"children":["          onChange"]}],["$","span","code-segement787",{"className":"token","style":{"color":"#a04900"},"children":["="]}],["$","span","code-segement788",{"className":"token","style":{"color":"#111b27"},"children":["{"]}],["$","span","code-segement789",{"className":"token","style":{"color":"#111b27"},"children":["("]}],["$","span","code-segement790",{"className":"token","style":{"color":"#005a8e"},"children":["e"]}],["$","span","code-segement791",{"className":"token","style":{"color":"#111b27"},"children":[")"]}],["$","span","code-segement792",{"className":"$undefined","style":{},"children":[" "]}],["$","span","code-segement793",{"className":"token arrow","style":{"color":"#a04900"},"children":["=\u003e"]}],["$","span","code-segement794",{"className":"$undefined","style":{},"children":[" "]}],["$","span","code-segement795",{"className":"token","style":{"color":"#111b27"},"children":["{"]}],["$","span","code-segement796",{"className":"$undefined","style":{},"children":["\\n"]}],["$","span","code-segement797",{"className":"$undefined","style":{},"children":["            "]}],["$","span","code-segement798",{"className":"token","style":{"color":"#7c00aa"},"children":["setTool"]}],["$","span","code-segement799",{"className":"token","style":{"color":"#111b27"},"children":["("]}],["$","span","code-segement800",{"className":"$undefined","style":{},"children":["e"]}],["$","span","code-segement801",{"className":"token","style":{"color":"#111b27"},"children":["."]}],["$","span","code-segement802",{"className":"token","style":{"color":"#005a8e"},"children":["target"]}],["$","span","code-segement803",{"className":"token","style":{"color":"#111b27"},"children":["."]}],["$","span","code-segement804",{"className":"token","style":{"color":"#005a8e"},"children":["value"]}],["$","span","code-segement805",{"className":"token","style":{"color":"#111b27"},"children":[")"]}],["$","span","code-segement806",{"className":"token","style":{"color":"#111b27"},"children":[";"]}],["$","span","code-segement807",{"className":"$undefined","style":{},"children":["\\n"]}],["$","span","code-segement808",{"className":"$undefined","style":{},"children":["          "]}],["$","span","code-segement809",{"className":"token","style":{"color":"#111b27"},"children":["}"]}],["$","span","code-segement810",{"className":"token","style":{"color":"#111b27"},"children":["}"]}],["$","span","code-segement811",{"className":"$undefined","style":{},"children":["\\n"]}],["$","span","code-segement812",{"className":"$undefined","style":{},"children":["          style"]}],["$","span","code-segement813",{"className":"token","style":{"color":"#a04900"},"children":["="]}],["$","span","code-segement814",{"className":"token","style":{"color":"#111b27"},"children":["{"]}],["$","span","code-segement815",{"className":"token","style":{"color":"#111b27"},"children":["{"]}],["$","span","code-segement816",{"className":"$undefined","style":{},"children":["\\n"]}],["$","span","code-segement817",{"className":"$undefined","style":{},"children":["            "]}],["$","span","code-segement818",{"className":"token literal-property","style":{"color":"#005a8e"},"children":["padding"]}],["$","span","code-segement819",{"className":"token","style":{"color":"#a04900"},"children":[":"]}],["$","span","code-segement820",{"className":"$undefined","style":{},"children":[" "]}],["$","span","code-segement821",{"className":"token","style":{"color":"#116b00"},"children":["\\"8px\\""]}],["$","span","code-segement822",{"className":"token","style":{"color":"#111b27"},"children":[","]}],["$","span","code-segement823",{"className":"$undefined","style":{},"children":["\\n"]}],["$","span","code-segement824",{"className":"$undefined","style":{},"children":["            "]}],["$","span","code-segement825",{"className":"token literal-property","style":{"color":"#005a8e"},"children":["borderRadius"]}],["$","span","code-segement826",{"className":"token","style":{"color":"#a04900"},"children":[":"]}],["$","span","code-segement827",{"className":"$undefined","style":{},"children":[" "]}],["$","span","code-segement828",{"className":"token","style":{"color":"#116b00"},"children":["\\"4px\\""]}],["$","span","code-segement829",{"className":"token","style":{"color":"#111b27"},"children":[","]}],["$","span","code-segement830",{"className":"$undefined","style":{},"children":["\\n"]}],["$","span","code-segement831",{"className":"$undefined","style":{},"children":["            "]}],["$","span","code-segement832",{"className":"token literal-property","style":{"color":"#005a8e"},"children":["border"]}],["$","span","code-segement833",{"className":"token","style":{"color":"#a04900"},"children":[":"]}],["$","span","code-segement834",{"className":"$undefined","style":{},"children":[" "]}],["$","span","code-segement835",{"className":"token","style":{"color":"#116b00"},"children":["\\"1px solid #ccc\\""]}],["$","span","code-segement836",{"className":"token","style":{"color":"#111b27"},"children":[","]}],["$","span","code-segement837",{"className":"$undefined","style":{},"children":["\\n"]}],["$","span","code-segement838",{"className":"$undefined","style":{},"children":["            "]}],["$","span","code-segement839",{"className":"token literal-property","style":{"color":"#005a8e"},"children":["fontSize"]}],["$","span","code-segement840",{"className":"token","style":{"color":"#a04900"},"children":[":"]}],["$","span","code-segement841",{"className":"$undefined","style":{},"children":[" "]}],["$","span","code-segement842",{"className":"token","style":{"color":"#116b00"},"children":["\\"16px\\""]}],["$","span","code-segement843",{"className":"token","style":{"color":"#111b27"},"children":[","]}],["$","span","code-segement844",{"className":"$undefined","style":{},"children":["\\n"]}],["$","span","code-segement845",{"className":"$undefined","style":{},"children":["          "]}],["$","span","code-segement846",{"className":"token","style":{"color":"#111b27"},"children":["}"]}],["$","span","code-segement847",{"className":"token","style":{"color":"#111b27"},"children":["}"]}],["$","span","code-segement848",{"className":"$undefined","style":{},"children":["\\n"]}],["$","span","code-segement849",{"className":"$undefined","style":{},"children":["        "]}],["$","span","code-segement850",{"className":"token","style":{"color":"#a04900"},"children":["\u003e"]}],["$","span","code-segement851",{"className":"$undefined","style":{},"children":["\\n"]}],["$","span","code-segement852",{"className":"$undefined","style":{},"children":["          "]}],["$","span","code-segement853",{"className":"token","style":{"color":"#a04900"},"children":["\u003c"]}],["$","span","code-segement854",{"className":"$undefined","style":{},"children":["option value"]}],["$","span","code-segement855",{"className":"token","style":{"color":"#a04900"},"children":["="]}],["$","span","code-segement856",{"className":"token","style":{"color":"#116b00"},"children":["\\"pen\\""]}],["$","span","code-segement857",{"className":"token","style":{"color":"#a04900"},"children":["\u003e"]}],["$","span","code-segement858",{"className":"token maybe-class-name","style":{},"children":["Pen"]}],["$","span","code-segement859",{"className":"token","style":{"color":"#a04900"},"children":["\u003c"]}],["$","span","code-segement860",{"className":"token","style":{"color":"#a04900"},"children":["/"]}],["$","span","code-segement861",{"className":"$undefined","style":{},"children":["option"]}],["$","span","code-segement862",{"className":"token","style":{"color":"#a04900"},"children":["\u003e"]}],["$","span","code-segement863",{"className":"$undefined","style":{},"children":["\\n"]}],["$","span","code-segement864",{"className":"$undefined","style":{},"children":["          "]}],["$","span","code-segement865",{"className":"token","style":{"color":"#a04900"},"children":["\u003c"]}],["$","span","code-segement866",{"className":"$undefined","style":{},"children":["option value"]}],["$","span","code-segement867",{"className":"token","style":{"color":"#a04900"},"children":["="]}],["$","span","code-segement868",{"className":"token","style":{"color":"#116b00"},"children":["\\"eraser\\""]}],["$","span","code-segement869",{"className":"token","style":{"color":"#a04900"},"children":["\u003e"]}],["$","span","code-segement870",{"className":"token maybe-class-name","style":{},"children":["Eraser"]}],["$","span","code-segement871",{"className":"token","style":{"color":"#a04900"},"children":["\u003c"]}],["$","span","code-segement872",{"className":"token","style":{"color":"#a04900"},"children":["/"]}],["$","span","code-segement873",{"className":"$undefined","style":{},"children":["option"]}],["$","span","code-segement874",{"className":"token","style":{"color":"#a04900"},"children":["\u003e"]}],["$","span","code-segement875",{"className":"$undefined","style":{},"children":["\\n"]}],["$","span","code-segement876",{"className":"$undefined","style":{},"children":["        "]}],["$","span","code-segement877",{"className":"token","style":{"color":"#a04900"},"children":["\u003c"]}],["$","span","code-segement878",{"className":"token","style":{"color":"#a04900"},"children":["/"]}],["$","span","code-segement879",{"className":"$undefined","style":{},"children":["select"]}],["$","span","code-segement880",{"className":"token","style":{"color":"#a04900"},"children":["\u003e"]}],["$","span","code-segement881",{"className":"$undefined","style":{},"children":["\\n"]}],"\\n",["$","span","code-segement883",{"className":"$undefined","style":{},"children":["        "]}],["$","span","code-segement884",{"className":"token","style":{"color":"#a04900"},"children":["\u003c"]}],["$","span","code-segement885",{"className":"$undefined","style":{},"children":["select\\n"]}],["$","span","code-segement886",{"className":"$undefined","style":{},"children":["          value"]}],["$","span","code-segement887",{"className":"token","style":{"color":"#a04900"},"children":["="]}],["$","span","code-segement888",{"className":"token","style":{"color":"#111b27"},"children":["{"]}],["$","span","code-segement889",{"className":"$undefined","style":{},"children":["strokeWidth"]}],["$","span","code-segement890",{"className":"token","style":{"color":"#111b27"},"children":["}"]}],["$","span","code-segement891",{"className":"$undefined","style":{},"children":["\\n"]}],["$","span","code-segement892",{"className":"$undefined","style":{},"children":["          onChange"]}],["$","span","code-segement893",{"className":"token","style":{"color":"#a04900"},"children":["="]}],["$","span","code-segement894",{"className":"token","style":{"color":"#111b27"},"children":["{"]}],["$","span","code-segement895",{"className":"token","style":{"color":"#111b27"},"children":["("]}],["$","span","code-segement896",{"className":"token","style":{"color":"#005a8e"},"children":["e"]}],["$","span","code-segement897",{"className":"token","style":{"color":"#111b27"},"children":[")"]}],["$","span","code-segement898",{"className":"$undefined","style":{},"children":[" "]}],["$","span","code-segement899",{"className":"token arrow","style":{"color":"#a04900"},"children":["=\u003e"]}],["$","span","code-segement900",{"className":"$undefined","style":{},"children":[" "]}],["$","span","code-segement901",{"className":"token","style":{"color":"#111b27"},"children":["{"]}],["$","span","code-segement902",{"className":"$undefined","style":{},"children":["\\n"]}],["$","span","code-segement903",{"className":"$undefined","style":{},"children":["            "]}],["$","span","code-segement904",{"className":"token","style":{"color":"#7c00aa"},"children":["setStrokeWidth"]}],["$","span","code-segement905",{"className":"token","style":{"color":"#111b27"},"children":["("]}],["$","span","code-segement906",{"className":"token","style":{"color":"#7c00aa"},"children":["parseInt"]}],["$","span","code-segement907",{"className":"token","style":{"color":"#111b27"},"children":["("]}],["$","span","code-segement908",{"className":"$undefined","style":{},"children":["e"]}],["$","span","code-segement909",{"className":"token","style":{"color":"#111b27"},"children":["."]}],["$","span","code-segement910",{"className":"token","style":{"color":"#005a8e"},"children":["target"]}],["$","span","code-segement911",{"className":"token","style":{"color":"#111b27"},"children":["."]}],["$","span","code-segement912",{"className":"token","style":{"color":"#005a8e"},"children":["value"]}],["$","span","code-segement913",{"className":"token","style":{"color":"#111b27"},"children":[")"]}],["$","span","code-segement914",{"className":"token","style":{"color":"#111b27"},"children":[")"]}],["$","span","code-segement915",{"className":"token","style":{"color":"#111b27"},"children":[";"]}],["$","span","code-segement916",{"className":"$undefined","style":{},"children":["\\n"]}],["$","span","code-segement917",{"className":"$undefined","style":{},"children":["          "]}],["$","span","code-segement918",{"className":"token","style":{"color":"#111b27"},"children":["}"]}],["$","span","code-segement919",{"className":"token","style":{"color":"#111b27"},"children":["}"]}],["$","span","code-segement920",{"className":"$undefined","style":{},"children":["\\n"]}],["$","span","code-segement921",{"className":"$undefined","style":{},"children":["          style"]}],["$","span","code-segement922",{"className":"token","style":{"color":"#a04900"},"children":["="]}],["$","span","code-segement923",{"className":"token","style":{"color":"#111b27"},"children":["{"]}],["$","span","code-segement924",{"className":"token","style":{"color":"#111b27"},"children":["{"]}],["$","span","code-segement925",{"className":"$undefined","style":{},"children":["\\n"]}],["$","span","code-segement926",{"className":"$undefined","style":{},"children":["            "]}],["$","span","code-segement927",{"className":"token literal-property","style":{"color":"#005a8e"},"children":["padding"]}],["$","span","code-segement928",{"className":"token","style":{"color":"#a04900"},"children":[":"]}],["$","span","code-segement929",{"className":"$undefined","style":{},"children":[" "]}],["$","span","code-segement930",{"className":"token","style":{"color":"#116b00"},"children":["\\"8px\\""]}],["$","span","code-segement931",{"className":"token","style":{"color":"#111b27"},"children":[","]}],["$","span","code-segement932",{"className":"$undefined","style":{},"children":["\\n"]}],["$","span","code-segement933",{"className":"$undefined","style":{},"children":["            "]}],["$","span","code-segement934",{"className":"token literal-property","style":{"color":"#005a8e"},"children":["borderRadius"]}],["$","span","code-segement935",{"className":"token","style":{"color":"#a04900"},"children":[":"]}],["$","span","code-segement936",{"className":"$undefined","style":{},"children":[" "]}],["$","span","code-segement937",{"className":"token","style":{"color":"#116b00"},"children":["\\"4px\\""]}],["$","span","code-segement938",{"className":"token","style":{"color":"#111b27"},"children":[","]}],["$","span","code-segement939",{"className":"$undefined","style":{},"children":["\\n"]}],["$","span","code-segement940",{"className":"$undefined","style":{},"children":["            "]}],["$","span","code-segement941",{"className":"token literal-property","style":{"color":"#005a8e"},"children":["border"]}],["$","span","code-segement942",{"className":"token","style":{"color":"#a04900"},"children":[":"]}],["$","span","code-segement943",{"className":"$undefined","style":{},"children":[" "]}],["$","span","code-segement944",{"className":"token","style":{"color":"#116b00"},"children":["\\"1px solid #ccc\\""]}],["$","span","code-segement945",{"className":"token","style":{"color":"#111b27"},"children":[","]}],["$","span","code-segement946",{"className":"$undefined","style":{},"children":["\\n"]}],["$","span","code-segement947",{"className":"$undefined","style":{},"children":["            "]}],["$","span","code-segement948",{"className":"token literal-property","style":{"color":"#005a8e"},"children":["fontSize"]}],["$","span","code-segement949",{"className":"token","style":{"color":"#a04900"},"children":[":"]}],["$","span","code-segement950",{"className":"$undefined","style":{},"children":[" "]}],["$","span","code-segement951",{"className":"token","style":{"color":"#116b00"},"children":["\\"16px\\""]}],["$","span","code-segement952",{"className":"token","style":{"color":"#111b27"},"children":[","]}],["$","span","code-segement953",{"className":"$undefined","style":{},"children":["\\n"]}],["$","span","code-segement954",{"className":"$undefined","style":{},"children":["          "]}],["$","span","code-segement955",{"className":"token","style":{"color":"#111b27"},"children":["}"]}],["$","span","code-segement956",{"className":"token","style":{"color":"#111b27"},"children":["}"]}],["$","span","code-segement957",{"className":"$undefined","style":{},"children":["\\n"]}],["$","span","code-segement958",{"className":"$undefined","style":{},"children":["        "]}],["$","span","code-segement959",{"className":"token","style":{"color":"#a04900"},"children":["\u003e"]}],["$","span","code-segement960",{"className":"$undefined","style":{},"children":["\\n"]}],["$","span","code-segement961",{"className":"$undefined","style":{},"children":["          "]}],["$","span","code-segement962",{"className":"token","style":{"color":"#a04900"},"children":["\u003c"]}],["$","span","code-segement963",{"className":"$undefined","style":{},"children":["option value"]}],["$","span","code-segement964",{"className":"token","style":{"color":"#a04900"},"children":["="]}],["$","span","code-segement965",{"className":"token","style":{"color":"#116b00"},"children":["\\"1\\""]}],["$","span","code-segement966",{"className":"token","style":{"color":"#a04900"},"children":["\u003e"]}],["$","span","code-segement967",{"className":"token","style":{"color":"#755f00"},"children":["1"]}],["$","span","code-segement968",{"className":"token","style":{"color":"#a04900"},"children":["\u003c"]}],["$","span","code-segement969",{"className":"token","style":{"color":"#a04900"},"children":["/"]}],["$","span","code-segement970",{"className":"$undefined","style":{},"children":["option"]}],["$","span","code-segement971",{"className":"token","style":{"color":"#a04900"},"children":["\u003e"]}],["$","span","code-segement972",{"className":"$undefined","style":{},"children":["\\n"]}],["$","span","code-segement973",{"className":"$undefined","style":{},"children":["          "]}],["$","span","code-segement974",{"className":"token","style":{"color":"#a04900"},"children":["\u003c"]}],["$","span","code-segement975",{"className":"$undefined","style":{},"children":["option value"]}],["$","span","code-segement976",{"className":"token","style":{"color":"#a04900"},"children":["="]}],["$","span","code-segement977",{"className":"token","style":{"color":"#116b00"},"children":["\\"3\\""]}],["$","span","code-segement978",{"className":"token","style":{"color":"#a04900"},"children":["\u003e"]}],["$","span","code-segement979",{"className":"token","style":{"color":"#755f00"},"children":["3"]}],["$","span","code-segement980",{"className":"token","style":{"color":"#a04900"},"children":["\u003c"]}],["$","span","code-segement981",{"className":"token","style":{"color":"#a04900"},"children":["/"]}],["$","span","code-segement982",{"className":"$undefined","style":{},"children":["option"]}],["$","span","code-segement983",{"className":"token","style":{"color":"#a04900"},"children":["\u003e"]}],["$","span","code-segement984",{"className":"$undefined","style":{},"children":["\\n"]}],["$","span","code-segement985",{"className":"$undefined","style":{},"children":["          "]}],["$","span","code-segement986",{"className":"token","style":{"color":"#a04900"},"children":["\u003c"]}],["$","span","code-segement987",{"className":"$undefined","style":{},"children":["option value"]}],["$","span","code-segement988",{"className":"token","style":{"color":"#a04900"},"children":["="]}],["$","span","code-segement989",{"className":"token","style":{"color":"#116b00"},"children":["\\"5\\""]}],["$","span","code-segement990",{"className":"token","style":{"color":"#a04900"},"children":["\u003e"]}],["$","span","code-segement991",{"className":"token","style":{"color":"#755f00"},"children":["5"]}],["$","span","code-segement992",{"className":"token","style":{"color":"#a04900"},"children":["\u003c"]}],["$","span","code-segement993",{"className":"token","style":{"color":"#a04900"},"children":["/"]}],["$","span","code-segement994",{"className":"$undefined","style":{},"children":["option"]}],["$","span","code-segement995",{"className":"token","style":{"color":"#a04900"},"children":["\u003e"]}],["$","span","code-segement996",{"className":"$undefined","style":{},"children":["\\n"]}],["$","span","code-segement997",{"className":"$undefined","style":{},"children":["          "]}],["$","span","code-segement998",{"className":"token","style":{"color":"#a04900"},"children":["\u003c"]}],["$","span","code-segement999",{"className":"$undefined","style":{},"children":["option value"]}],["$","span","code-segement1000",{"className":"token","style":{"color":"#a04900"},"children":["="]}],["$","span","code-segement1001",{"className":"token","style":{"color":"#116b00"},"children":["\\"10\\""]}],["$","span","code-segement1002",{"className":"token","style":{"color":"#a04900"},"children":["\u003e"]}],["$","span","code-segement1003",{"className":"token","style":{"color":"#755f00"},"children":["10"]}],["$","span","code-segement1004",{"className":"token","style":{"color":"#a04900"},"children":["\u003c"]}],["$","span","code-segement1005",{"className":"token","style":{"color":"#a04900"},"children":["/"]}],["$","span","code-segement1006",{"className":"$undefined","style":{},"children":["option"]}],["$","span","code-segement1007",{"className":"token","style":{"color":"#a04900"},"children":["\u003e"]}],["$","span","code-segement1008",{"className":"$undefined","style":{},"children":["\\n"]}],["$","span","code-segement1009",{"className":"$undefined","style":{},"children":["          "]}],["$","span","code-segement1010",{"className":"token","style":{"color":"#a04900"},"children":["\u003c"]}],["$","span","code-segement1011",{"className":"$undefined","style":{},"children":["option value"]}],["$","span","code-segement1012",{"className":"token","style":{"color":"#a04900"},"children":["="]}],["$","span","code-segement1013",{"className":"token","style":{"color":"#116b00"},"children":["\\"15\\""]}],["$","span","code-segement1014",{"className":"token","style":{"color":"#a04900"},"children":["\u003e"]}],["$","span","code-segement1015",{"className":"token","style":{"color":"#755f00"},"children":["15"]}],["$","span","code-segement1016",{"className":"token","style":{"color":"#a04900"},"children":["\u003c"]}],["$","span","code-segement1017",{"className":"token","style":{"color":"#a04900"},"children":["/"]}],["$","span","code-segement1018",{"className":"$undefined","style":{},"children":["option"]}],["$","span","code-segement1019",{"className":"token","style":{"color":"#a04900"},"children":["\u003e"]}],["$","span","code-segement1020",{"className":"$undefined","style":{},"children":["\\n"]}],["$","span","code-segement1021",{"className":"$undefined","style":{},"children":["          "]}],["$","span","code-segement1022",{"className":"token","style":{"color":"#a04900"},"children":["\u003c"]}],["$","span","code-segement1023",{"className":"$undefined","style":{},"children":["option value"]}],["$","span","code-segement1024",{"className":"token","style":{"color":"#a04900"},"children":["="]}],["$","span","code-segement1025",{"className":"token","style":{"color":"#116b00"},"children":["\\"20\\""]}],["$","span","code-segement1026",{"className":"token","style":{"color":"#a04900"},"children":["\u003e"]}],["$","span","code-segement1027",{"className":"token","style":{"color":"#755f00"},"children":["20"]}],["$","span","code-segement1028",{"className":"token","style":{"color":"#a04900"},"children":["\u003c"]}],["$","span","code-segement1029",{"className":"token","style":{"color":"#a04900"},"children":["/"]}],["$","span","code-segement1030",{"className":"$undefined","style":{},"children":["option"]}],["$","span","code-segement1031",{"className":"token","style":{"color":"#a04900"},"children":["\u003e"]}],["$","span","code-segement1032",{"className":"$undefined","style":{},"children":["\\n"]}],["$","span","code-segement1033",{"className":"$undefined","style":{},"children":["          "]}],["$","span","code-segement1034",{"className":"token","style":{"color":"#a04900"},"children":["\u003c"]}],["$","span","code-segement1035",{"className":"$undefined","style":{},"children":["option value"]}],["$","span","code-segement1036",{"className":"token","style":{"color":"#a04900"},"children":["="]}],["$","span","code-segement1037",{"className":"token","style":{"color":"#116b00"},"children":["\\"30\\""]}],["$","span","code-segement1038",{"className":"token","style":{"color":"#a04900"},"children":["\u003e"]}],["$","span","code-segement1039",{"className":"token","style":{"color":"#755f00"},"children":["30"]}],["$","span","code-segement1040",{"className":"token","style":{"color":"#a04900"},"children":["\u003c"]}],["$","span","code-segement1041",{"className":"token","style":{"color":"#a04900"},"children":["/"]}],["$","span","code-segement1042",{"className":"$undefined","style":{},"children":["option"]}],["$","span","code-segement1043",{"className":"token","style":{"color":"#a04900"},"children":["\u003e"]}],["$","span","code-segement1044",{"className":"$undefined","style":{},"children":["\\n"]}],["$","span","code-segement1045",{"className":"$undefined","style":{},"children":["          "]}],["$","span","code-segement1046",{"className":"token","style":{"color":"#a04900"},"children":["\u003c"]}],["$","span","code-segement1047",{"className":"$undefined","style":{},"children":["option value"]}],["$","span","code-segement1048",{"className":"token","style":{"color":"#a04900"},"children":["="]}],["$","span","code-segement1049",{"className":"token","style":{"color":"#116b00"},"children":["\\"40\\""]}],["$","span","code-segement1050",{"className":"token","style":{"color":"#a04900"},"children":["\u003e"]}],["$","span","code-segement1051",{"className":"token","style":{"color":"#755f00"},"children":["40"]}],["$","span","code-segement1052",{"className":"token","style":{"color":"#a04900"},"children":["\u003c"]}],["$","span","code-segement1053",{"className":"token","style":{"color":"#a04900"},"children":["/"]}],["$","span","code-segement1054",{"className":"$undefined","style":{},"children":["option"]}],["$","span","code-segement1055",{"className":"token","style":{"color":"#a04900"},"children":["\u003e"]}],["$","span","code-segement1056",{"className":"$undefined","style":{},"children":["\\n"]}],["$","span","code-segement1057",{"className":"$undefined","style":{},"children":["          "]}],["$","span","code-segement1058",{"className":"token","style":{"color":"#a04900"},"children":["\u003c"]}],["$","span","code-segement1059",{"className":"$undefined","style":{},"children":["option value"]}],["$","span","code-segement1060",{"className":"token","style":{"color":"#a04900"},"children":["="]}],["$","span","code-segement1061",{"className":"token","style":{"color":"#116b00"},"children":["\\"50\\""]}],["$","span","code-segement1062",{"className":"token","style":{"color":"#a04900"},"children":["\u003e"]}],["$","span","code-segement1063",{"className":"token","style":{"color":"#755f00"},"children":["50"]}],["$","span","code-segement1064",{"className":"token","style":{"color":"#a04900"},"children":["\u003c"]}],["$","span","code-segement1065",{"className":"token","style":{"color":"#a04900"},"children":["/"]}],["$","span","code-segement1066",{"className":"$undefined","style":{},"children":["option"]}],["$","span","code-segement1067",{"className":"token","style":{"color":"#a04900"},"children":["\u003e"]}],["$","span","code-segement1068",{"className":"$undefined","style":{},"children":["\\n"]}],["$","span","code-segement1069",{"className":"$undefined","style":{},"children":["        "]}],["$","span","code-segement1070",{"className":"token","style":{"color":"#a04900"},"children":["\u003c"]}],["$","span","code-segement1071",{"className":"token","style":{"color":"#a04900"},"children":["/"]}],["$","span","code-segement1072",{"className":"$undefined","style":{},"children":["select"]}],["$","span","code-segement1073",{"className":"token","style":{"color":"#a04900"},"children":["\u003e"]}],["$","span","code-segement1074",{"className":"$undefined","style":{},"children":["\\n"]}],"\\n",["$","span","code-segement1076",{"className":"$undefined","style":{},"children":["        "]}],["$","span","code-segement1077",{"className":"token","style":{"color":"#a04900"},"children":["\u003c"]}],["$","span","code-segement1078",{"className":"$undefined","style":{},"children":["button\\n"]}],["$","span","code-segement1079",{"className":"$undefined","style":{},"children":["          onClick"]}],["$","span","code-segement1080",{"className":"token","style":{"color":"#a04900"},"children":["="]}],["$","span","code-segement1081",{"className":"token","style":{"color":"#111b27"},"children":["{"]}],["$","span","code-segement1082",{"className":"token","style":{"color":"#111b27"},"children":["("]}],["$","span","code-segement1083",{"className":"token","style":{"color":"#111b27"},"children":[")"]}],["$","span","code-segement1084",{"className":"$undefined","style":{},"children":[" "]}],["$","span","code-segement1085",{"className":"token arrow","style":{"color":"#a04900"},"children":["=\u003e"]}],["$","span","code-segement1086",{"className":"$undefined","style":{},"children":[" "]}],["$","span","code-segement1087",{"className":"token","style":{"color":"#7c00aa"},"children":["setLines"]}],["$","span","code-segement1088",{"className":"token","style":{"color":"#111b27"},"children":["("]}],["$","span","code-segement1089",{"className":"token","style":{"color":"#111b27"},"children":["["]}],["$","span","code-segement1090",{"className":"token","style":{"color":"#111b27"},"children":["]"]}],["$","span","code-segement1091",{"className":"token","style":{"color":"#111b27"},"children":[")"]}],["$","span","code-segement1092",{"className":"token","style":{"color":"#111b27"},"children":["}"]}],["$","span","code-segement1093",{"className":"$undefined","style":{},"children":["\\n"]}],["$","span","code-segement1094",{"className":"$undefined","style":{},"children":["          style"]}],["$","span","code-segement1095",{"className":"token","style":{"color":"#a04900"},"children":["="]}],["$","span","code-segement1096",{"className":"token","style":{"color":"#111b27"},"children":["{"]}],["$","span","code-segement1097",{"className":"token","style":{"color":"#111b27"},"children":["{"]}],["$","span","code-segement1098",{"className":"$undefined","style":{},"children":["\\n"]}],["$","span","code-segement1099",{"className":"$undefined","style":{},"children":["            "]}],["$","span","code-segement1100",{"className":"token literal-property","style":{"color":"#005a8e"},"children":["padding"]}],["$","span","code-segement1101",{"className":"token","style":{"color":"#a04900"},"children":[":"]}],["$","span","code-segement1102",{"className":"$undefined","style":{},"children":[" "]}],["$","span","code-segement1103",{"className":"token","style":{"color":"#116b00"},"children":["\\"8px 12px\\""]}],["$","span","code-segement1104",{"className":"token","style":{"color":"#111b27"},"children":[","]}],["$","span","code-segement1105",{"className":"$undefined","style":{},"children":["\\n"]}],["$","span","code-segement1106",{"className":"$undefined","style":{},"children":["            "]}],["$","span","code-segement1107",{"className":"token literal-property","style":{"color":"#005a8e"},"children":["borderRadius"]}],["$","span","code-segement1108",{"className":"token","style":{"color":"#a04900"},"children":[":"]}],["$","span","code-segement1109",{"className":"$undefined","style":{},"children":[" "]}],["$","span","code-segement1110",{"className":"token","style":{"color":"#116b00"},"children":["\\"4px\\""]}],["$","span","code-segement1111",{"className":"token","style":{"color":"#111b27"},"children":[","]}],["$","span","code-segement1112",{"className":"$undefined","style":{},"children":["\\n"]}],["$","span","code-segement1113",{"className":"$undefined","style":{},"children":["            "]}],["$","span","code-segement1114",{"className":"token literal-property","style":{"color":"#005a8e"},"children":["border"]}],["$","span","code-segement1115",{"className":"token","style":{"color":"#a04900"},"children":[":"]}],["$","span","code-segement1116",{"className":"$undefined","style":{},"children":[" "]}],["$","span","code-segement1117",{"className":"token","style":{"color":"#116b00"},"children":["\\"1px solid #ccc\\""]}],["$","span","code-segement1118",{"className":"token","style":{"color":"#111b27"},"children":[","]}],["$","span","code-segement1119",{"className":"$undefined","style":{},"children":["\\n"]}],["$","span","code-segement1120",{"className":"$undefined","style":{},"children":["            "]}],["$","span","code-segement1121",{"className":"token literal-property","style":{"color":"#005a8e"},"children":["background"]}],["$","span","code-segement1122",{"className":"token","style":{"color":"#a04900"},"children":[":"]}],["$","span","code-segement1123",{"className":"$undefined","style":{},"children":[" "]}],["$","span","code-segement1124",{"className":"token","style":{"color":"#116b00"},"children":["\\"#ffffff\\""]}],["$","span","code-segement1125",{"className":"token","style":{"color":"#111b27"},"children":[","]}],["$","span","code-segement1126",{"className":"$undefined","style":{},"children":["\\n"]}],["$","span","code-segement1127",{"className":"$undefined","style":{},"children":["            "]}],["$","span","code-segement1128",{"className":"token literal-property","style":{"color":"#005a8e"},"children":["color"]}],["$","span","code-segement1129",{"className":"token","style":{"color":"#a04900"},"children":[":"]}],["$","span","code-segement1130",{"className":"$undefined","style":{},"children":[" "]}],["$","span","code-segement1131",{"className":"token","style":{"color":"#116b00"},"children":["\\"#333\\""]}],["$","span","code-segement1132",{"className":"token","style":{"color":"#111b27"},"children":[","]}],["$","span","code-segement1133",{"className":"$undefined","style":{},"children":["\\n"]}],["$","span","code-segement1134",{"className":"$undefined","style":{},"children":["            "]}],["$","span","code-segement1135",{"className":"token literal-property","style":{"color":"#005a8e"},"children":["fontSize"]}],["$","span","code-segement1136",{"className":"token","style":{"color":"#a04900"},"children":[":"]}],["$","span","code-segement1137",{"className":"$undefined","style":{},"children":[" "]}],["$","span","code-segement1138",{"className":"token","style":{"color":"#116b00"},"children":["\\"16px\\""]}],["$","span","code-segement1139",{"className":"token","style":{"color":"#111b27"},"children":[","]}],["$","span","code-segement1140",{"className":"$undefined","style":{},"children":["\\n"]}],["$","span","code-segement1141",{"className":"$undefined","style":{},"children":["            "]}],["$","span","code-segement1142",{"className":"token literal-property","style":{"color":"#005a8e"},"children":["cursor"]}],["$","span","code-segement1143",{"className":"token","style":{"color":"#a04900"},"children":[":"]}],["$","span","code-segement1144",{"className":"$undefined","style":{},"children":[" "]}],["$","span","code-segement1145",{"className":"token","style":{"color":"#116b00"},"children":["\\"pointer\\""]}],["$","span","code-segement1146",{"className":"token","style":{"color":"#111b27"},"children":[","]}],["$","span","code-segement1147",{"className":"$undefined","style":{},"children":["\\n"]}],["$","span","code-segement1148",{"className":"$undefined","style":{},"children":["          "]}],["$","span","code-segement1149",{"className":"token","style":{"color":"#111b27"},"children":["}"]}],["$","span","code-segement1150",{"className":"token","style":{"color":"#111b27"},"children":["}"]}],["$","span","code-segement1151",{"className":"$undefined","style":{},"children":["\\n"]}],["$","span","code-segement1152",{"className":"$undefined","style":{},"children":["        "]}],["$","span","code-segement1153",{"className":"token","style":{"color":"#a04900"},"children":["\u003e"]}],["$","span","code-segement1154",{"className":"$undefined","style":{},"children":["\\n"]}],["$","span","code-segement1155",{"className":"$undefined","style":{},"children":["          "]}],["$","span","code-segement1156",{"className":"token maybe-class-name","style":{},"children":["Clear"]}],["$","span","code-segement1157",{"className":"$undefined","style":{},"children":["\\n"]}],["$","span","code-segement1158",{"className":"$undefined","style":{},"children":["        "]}],["$","span","code-segement1159",{"className":"token","style":{"color":"#a04900"},"children":["\u003c"]}],["$","span","code-segement1160",{"className":"token","style":{"color":"#a04900"},"children":["/"]}],["$","span","code-segement1161",{"className":"$undefined","style":{},"children":["button"]}],["$","span","code-segement1162",{"className":"token","style":{"color":"#a04900"},"children":["\u003e"]}],["$","span","code-segement1163",{"className":"$undefined","style":{},"children":["\\n"]}],["$","span","code-segement1164",{"className":"$undefined","style":{},"children":["      "]}],["$","span","code-segement1165",{"className":"token","style":{"color":"#a04900"},"children":["\u003c"]}],["$","span","code-segement1166",{"className":"token","style":{"color":"#a04900"},"children":["/"]}],["$","span","code-segement1167",{"className":"$undefined","style":{},"children":["div"]}],["$","span","code-segement1168",{"className":"token","style":{"color":"#a04900"},"children":["\u003e"]}],["$","span","code-segement1169",{"className":"$undefined","style":{},"children":["\\n"]}],"\\n",["$","span","code-segement1171",{"className":"$undefined","style":{},"children":["      "]}],["$","span","code-segement1172",{"className":"token","style":{"color":"#a04900"},"children":["\u003c"]}],["$","span","code-segement1173",{"className":"$undefined","style":{},"children":["button\\n"]}],["$","span","code-segement1174",{"className":"$undefined","style":{},"children":["        onClick"]}],["$","span","code-segement1175",{"className":"token","style":{"color":"#a04900"},"children":["="]}],["$","span","code-segement1176",{"className":"token","style":{"color":"#111b27"},"children":["{"]}],["$","span","code-segement1177",{"className":"$undefined","style":{},"children":["handlePredictButtonClick"]}],["$","span","code-segement1178",{"className":"token","style":{"color":"#111b27"},"children":["}"]}],["$","span","code-segement1179",{"className":"$undefined","style":{},"children":["\\n"]}],["$","span","code-segement1180",{"className":"$undefined","style":{},"children":["        style"]}],["$","span","code-segement1181",{"className":"token","style":{"color":"#a04900"},"children":["="]}],["$","span","code-segement1182",{"className":"token","style":{"color":"#111b27"},"children":["{"]}],["$","span","code-segement1183",{"className":"token","style":{"color":"#111b27"},"children":["{"]}],["$","span","code-segement1184",{"className":"$undefined","style":{},"children":["\\n"]}],["$","span","code-segement1185",{"className":"$undefined","style":{},"children":["          "]}],["$","span","code-segement1186",{"className":"token literal-property","style":{"color":"#005a8e"},"children":["padding"]}],["$","span","code-segement1187",{"className":"token","style":{"color":"#a04900"},"children":[":"]}],["$","span","code-segement1188",{"className":"$undefined","style":{},"children":[" "]}],["$","span","code-segement1189",{"className":"token","style":{"color":"#116b00"},"children":["\\"8px 12px\\""]}],["$","span","code-segement1190",{"className":"token","style":{"color":"#111b27"},"children":[","]}],["$","span","code-segement1191",{"className":"$undefined","style":{},"children":["\\n"]}],["$","span","code-segement1192",{"className":"$undefined","style":{},"children":["          "]}],["$","span","code-segement1193",{"className":"token literal-property","style":{"color":"#005a8e"},"children":["borderRadius"]}],["$","span","code-segement1194",{"className":"token","style":{"color":"#a04900"},"children":[":"]}],["$","span","code-segement1195",{"className":"$undefined","style":{},"children":[" "]}],["$","span","code-segement1196",{"className":"token","style":{"color":"#116b00"},"children":["\\"4px\\""]}],["$","span","code-segement1197",{"className":"token","style":{"color":"#111b27"},"children":[","]}],["$","span","code-segement1198",{"className":"$undefined","style":{},"children":["\\n"]}],["$","span","code-segement1199",{"className":"$undefined","style":{},"children":["          "]}],["$","span","code-segement1200",{"className":"token literal-property","style":{"color":"#005a8e"},"children":["border"]}],["$","span","code-segement1201",{"className":"token","style":{"color":"#a04900"},"children":[":"]}],["$","span","code-segement1202",{"className":"$undefined","style":{},"children":[" "]}],["$","span","code-segement1203",{"className":"token","style":{"color":"#116b00"},"children":["\\"1px solid #444444\\""]}],["$","span","code-segement1204",{"className":"token","style":{"color":"#111b27"},"children":[","]}],["$","span","code-segement1205",{"className":"$undefined","style":{},"children":["\\n"]}],["$","span","code-segement1206",{"className":"$undefined","style":{},"children":["          "]}],["$","span","code-segement1207",{"className":"token literal-property","style":{"color":"#005a8e"},"children":["background"]}],["$","span","code-segement1208",{"className":"token","style":{"color":"#a04900"},"children":[":"]}],["$","span","code-segement1209",{"className":"$undefined","style":{},"children":[" "]}],["$","span","code-segement1210",{"className":"token","style":{"color":"#116b00"},"children":["\\"#eeeeee\\""]}],["$","span","code-segement1211",{"className":"token","style":{"color":"#111b27"},"children":[","]}],["$","span","code-segement1212",{"className":"$undefined","style":{},"children":["\\n"]}],["$","span","code-segement1213",{"className":"$undefined","style":{},"children":["          "]}],["$","span","code-segement1214",{"className":"token literal-property","style":{"color":"#005a8e"},"children":["color"]}],["$","span","code-segement1215",{"className":"token","style":{"color":"#a04900"},"children":[":"]}],["$","span","code-segement1216",{"className":"$undefined","style":{},"children":[" "]}],["$","span","code-segement1217",{"className":"token","style":{"color":"#116b00"},"children":["\\"#333\\""]}],["$","span","code-segement1218",{"className":"token","style":{"color":"#111b27"},"children":[","]}],["$","span","code-segement1219",{"className":"$undefined","style":{},"children":["\\n"]}],["$","span","code-segement1220",{"className":"$undefined","style":{},"children":["          "]}],["$","span","code-segement1221",{"className":"token literal-property","style":{"color":"#005a8e"},"children":["fontSize"]}],["$","span","code-segement1222",{"className":"token","style":{"color":"#a04900"},"children":[":"]}],["$","span","code-segement1223",{"className":"$undefined","style":{},"children":[" "]}],["$","span","code-segement1224",{"className":"token","style":{"color":"#116b00"},"children":["\\"16px\\""]}],["$","span","code-segement1225",{"className":"token","style":{"color":"#111b27"},"children":[","]}],["$","span","code-segement1226",{"className":"$undefined","style":{},"children":["\\n"]}],["$","span","code-segement1227",{"className":"$undefined","style":{},"children":["          "]}],["$","span","code-segement1228",{"className":"token literal-property","style":{"color":"#005a8e"},"children":["cursor"]}],["$","span","code-segement1229",{"className":"token","style":{"color":"#a04900"},"children":[":"]}],["$","span","code-segement1230",{"className":"$undefined","style":{},"children":[" "]}],["$","span","code-segement1231",{"className":"token","style":{"color":"#116b00"},"children":["\\"pointer\\""]}],["$","span","code-segement1232",{"className":"token","style":{"color":"#111b27"},"children":[","]}],["$","span","code-segement1233",{"className":"$undefined","style":{},"children":["\\n"]}],["$","span","code-segement1234",{"className":"$undefined","style":{},"children":["          "]}],["$","span","code-segement1235",{"className":"token literal-property","style":{"color":"#005a8e"},"children":["marginTop"]}],["$","span","code-segement1236",{"className":"token","style":{"color":"#a04900"},"children":[":"]}],["$","span","code-segement1237",{"className":"$undefined","style":{},"children":[" "]}],["$","span","code-segement1238",{"className":"token","style":{"color":"#755f00"},"children":["10"]}],["$","span","code-segement1239",{"className":"token","style":{"color":"#111b27"},"children":[","]}],["$","span","code-segement1240",{"className":"$undefined","style":{},"children":["\\n"]}],["$","span","code-segement1241",{"className":"$undefined","style":{},"children":["          "]}],["$","span","code-segement1242",{"className":"token literal-property","style":{"color":"#005a8e"},"children":["marginBottom"]}],["$","span","code-segement1243",{"className":"token","style":{"color":"#a04900"},"children":[":"]}],["$","span","code-segement1244",{"className":"$undefined","style":{},"children":[" "]}],["$","span","code-segement1245",{"className":"token","style":{"color":"#755f00"},"children":["5"]}],["$","span","code-segement1246",{"className":"token","style":{"color":"#111b27"},"children":[","]}],["$","span","code-segement1247",{"className":"$undefined","style":{},"children":["\\n"]}],["$","span","code-segement1248",{"className":"$undefined","style":{},"children":["        "]}],["$","span","code-segement1249",{"className":"token","style":{"color":"#111b27"},"children":["}"]}],["$","span","code-segement1250",{"className":"token","style":{"color":"#111b27"},"children":["}"]}],["$","span","code-segement1251",{"className":"$undefined","style":{},"children":["\\n"]}],["$","span","code-segement1252",{"className":"$undefined","style":{},"children":["      "]}],["$","span","code-segement1253",{"className":"token","style":{"color":"#a04900"},"children":["\u003e"]}],["$","span","code-segement1254",{"className":"$undefined","style":{},"children":["\\n"]}],["$","span","code-segement1255",{"className":"$undefined","style":{},"children":["        "]}],["$","span","code-segement1256",{"className":"token maybe-class-name","style":{},"children":["Predict"]}],["$","span","code-segement1257",{"className":"$undefined","style":{},"children":["\\n"]}],["$","span","code-segement1258",{"className":"$undefined","style":{},"children":["      "]}],["$","span","code-segement1259",{"className":"token","style":{"color":"#a04900"},"children":["\u003c"]}],["$","span","code-segement1260",{"className":"token","style":{"color":"#a04900"},"children":["/"]}],["$","span","code-segement1261",{"className":"$undefined","style":{},"children":["button"]}],["$","span","code-segement1262",{"className":"token","style":{"color":"#a04900"},"children":["\u003e"]}],["$","span","code-segement1263",{"className":"$undefined","style":{},"children":["\\n"]}],"\\n",["$","span","code-segement1265",{"className":"$undefined","style":{},"children":["      "]}],["$","span","code-segement1266",{"className":"token","style":{"color":"#111b27"},"children":["{"]}],["$","span","code-segement1267",{"className":"$undefined","style":{},"children":["prediction "]}],["$","span","code-segement1268",{"className":"token","style":{"color":"#a04900"},"children":["!=="]}],["$","span","code-segement1269",{"className":"$undefined","style":{},"children":[" "]}],["$","span","code-segement1270",{"className":"token null nil","style":{"color":"#a04900"},"children":["null"]}],["$","span","code-segement1271",{"className":"$undefined","style":{},"children":[" "]}],["$","span","code-segement1272",{"className":"token","style":{"color":"#a04900"},"children":["\u0026\u0026"]}],["$","span","code-segement1273",{"className":"$undefined","style":{},"children":[" "]}],["$","span","code-segement1274",{"className":"token","style":{"color":"#111b27"},"children":["("]}],["$","span","code-segement1275",{"className":"$undefined","style":{},"children":["\\n"]}],["$","span","code-segement1276",{"className":"$undefined","style":{},"children":["        "]}],["$","span","code-segement1277",{"className":"token","style":{"color":"#a04900"},"children":["\u003c"]}],["$","span","code-segement1278",{"className":"$undefined","style":{},"children":["h4\\n"]}],["$","span","code-segement1279",{"className":"$undefined","style":{},"children":["          style"]}],["$","span","code-segement1280",{"className":"token","style":{"color":"#a04900"},"children":["="]}],["$","span","code-segement1281",{"className":"token","style":{"color":"#111b27"},"children":["{"]}],["$","span","code-segement1282",{"className":"token","style":{"color":"#111b27"},"children":["{"]}],["$","span","code-segement1283",{"className":"$undefined","style":{},"children":["\\n"]}],["$","span","code-segement1284",{"className":"$undefined","style":{},"children":["            "]}],["$","span","code-segement1285",{"className":"token literal-property","style":{"color":"#005a8e"},"children":["margin"]}],["$","span","code-segement1286",{"className":"token","style":{"color":"#a04900"},"children":[":"]}],["$","span","code-segement1287",{"className":"$undefined","style":{},"children":[" "]}],["$","span","code-segement1288",{"className":"token","style":{"color":"#755f00"},"children":["0"]}],["$","span","code-segement1289",{"className":"token","style":{"color":"#111b27"},"children":[","]}],["$","span","code-segement1290",{"className":"$undefined","style":{},"children":["\\n"]}],["$","span","code-segement1291",{"className":"$undefined","style":{},"children":["          "]}],["$","span","code-segement1292",{"className":"token","style":{"color":"#111b27"},"children":["}"]}],["$","span","code-segement1293",{"className":"token","style":{"color":"#111b27"},"children":["}"]}],["$","span","code-segement1294",{"className":"$undefined","style":{},"children":["\\n"]}],["$","span","code-segement1295",{"className":"$undefined","style":{},"children":["        "]}],["$","span","code-segement1296",{"className":"token","style":{"color":"#a04900"},"children":["\u003e"]}],["$","span","code-segement1297",{"className":"$undefined","style":{},"children":["\\n"]}],["$","span","code-segement1298",{"className":"$undefined","style":{},"children":["          "]}],["$","span","code-segement1299",{"className":"token maybe-class-name","style":{},"children":["Probably"]}],["$","span","code-segement1300",{"className":"$undefined","style":{},"children":[" a "]}],["$","span","code-segement1301",{"className":"token","style":{"color":"#111b27"},"children":["{"]}],["$","span","code-segement1302",{"className":"$undefined","style":{},"children":["prediction"]}],["$","span","code-segement1303",{"className":"token","style":{"color":"#111b27"},"children":["}"]}],["$","span","code-segement1304",{"className":"$undefined","style":{},"children":["\\n"]}],["$","span","code-segement1305",{"className":"$undefined","style":{},"children":["        "]}],["$","span","code-segement1306",{"className":"token","style":{"color":"#a04900"},"children":["\u003c"]}],["$","span","code-segement1307",{"className":"token","style":{"color":"#a04900"},"children":["/"]}],["$","span","code-segement1308",{"className":"$undefined","style":{},"children":["h4"]}],["$","span","code-segement1309",{"className":"token","style":{"color":"#a04900"},"children":["\u003e"]}],["$","span","code-segement1310",{"className":"$undefined","style":{},"children":["\\n"]}],["$","span","code-segement1311",{"className":"$undefined","style":{},"children":["      "]}],["$","span","code-segement1312",{"className":"token","style":{"color":"#111b27"},"children":[")"]}],["$","span","code-segement1313",{"className":"token","style":{"color":"#111b27"},"children":["}"]}],["$","span","code-segement1314",{"className":"$undefined","style":{},"children":["\\n"]}],"\\n",["$","span","code-segement1316",{"className":"$undefined","style":{},"children":["      "]}],["$","span","code-segement1317",{"className":"token","style":{"color":"#a04900"},"children":["\u003c"]}],["$","span","code-segement1318",{"className":"$undefined","style":{},"children":["canvas id"]}],["$","span","code-segement1319",{"className":"token","style":{"color":"#a04900"},"children":["="]}],["$","span","code-segement1320",{"className":"token","style":{"color":"#116b00"},"children":["\\"tempCanvas\\""]}],["$","span","code-segement1321",{"className":"$undefined","style":{},"children":[" width"]}],["$","span","code-segement1322",{"className":"token","style":{"color":"#a04900"},"children":["="]}],["$","span","code-segement1323",{"className":"token","style":{"color":"#111b27"},"children":["{"]}],["$","span","code-segement1324",{"className":"token","style":{"color":"#755f00"},"children":["28"]}],["$","span","code-segement1325",{"className":"token","style":{"color":"#111b27"},"children":["}"]}],["$","span","code-segement1326",{"className":"$undefined","style":{},"children":[" height"]}],["$","span","code-segement1327",{"className":"token","style":{"color":"#a04900"},"children":["="]}],["$","span","code-segement1328",{"className":"token","style":{"color":"#111b27"},"children":["{"]}],["$","span","code-segement1329",{"className":"token","style":{"color":"#755f00"},"children":["28"]}],["$","span","code-segement1330",{"className":"token","style":{"color":"#111b27"},"children":["}"]}],["$","span","code-segement1331",{"className":"token","style":{"color":"#a04900"},"children":["\u003e"]}],["$","span","code-segement1332",{"className":"token","style":{"color":"#a04900"},"children":["\u003c"]}],["$","span","code-segement1333",{"className":"token","style":{"color":"#a04900"},"children":["/"]}],["$","span","code-segement1334",{"className":"$undefined","style":{},"children":["canvas"]}],["$","span","code-segement1335",{"className":"token","style":{"color":"#a04900"},"children":["\u003e"]}],["$","span","code-segement1336",{"className":"$undefined","style":{},"children":["\\n"]}],["$","span","code-segement1337",{"className":"$undefined","style":{},"children":["    "]}],["$","span","code-segement1338",{"className":"token","style":{"color":"#a04900"},"children":["\u003c"]}],["$","span","code-segement1339",{"className":"token","style":{"color":"#a04900"},"children":["/"]}],["$","span","code-segement1340",{"className":"$undefined","style":{},"children":["div"]}],["$","span","code-segement1341",{"className":"token","style":{"color":"#a04900"},"children":["\u003e"]}],["$","span","code-segement1342",{"className":"$undefined","style":{},"children":["\\n"]}],["$","span","code-segement1343",{"className":"$undefined","style":{},"children":["  "]}],["$","span","code-segement1344",{"className":"token","style":{"color":"#111b27"},"children":[")"]}],["$","span","code-segement1345",{"className":"token","style":{"color":"#111b27"},"children":[";"]}],["$","span","code-segement1346",{"className":"$undefined","style":{},"children":["\\n"]}],["$","span","code-segement1347",{"className":"$undefined","style":{},"children":[""]}],["$","span","code-segement1348",{"className":"token","style":{"color":"#111b27"},"children":["}"]}]]]}]}]]}],["$","$Le","23",{"variant":"p","component":"p","sx":{"textAlign":"justify","marginBottom":2},"children":["$undefined","We have a ",["$","$Lc","23-text-italics",{"component":"span","sx":{"paddingLeft":0.5,"paddingRight":0.5,"borderRadius":1,"backgroundColor":"rgb(227, 234, 242)"},"children":"Konva"}]," ",["$","$Lc","23-text-italics",{"component":"span","sx":{"paddingLeft":0.5,"paddingRight":0.5,"borderRadius":1,"backgroundColor":"rgb(227, 234, 242)"},"children":"Stage"}]," that serves as our drawing area. When the user clicks down their mouse on this area, we set ",["$","$Lc","23-text-italics",{"component":"span","sx":{"paddingLeft":0.5,"paddingRight":0.5,"borderRadius":1,"backgroundColor":"rgb(227, 234, 242)"},"children":"isDrawing"}]," to true and add a new line to the ",["$","$Lc","23-text-italics",{"component":"span","sx":{"paddingLeft":0.5,"paddingRight":0.5,"borderRadius":1,"backgroundColor":"rgb(227, 234, 242)"},"children":"lines"}]," array with the current point, selected ",["$","$Lc","23-text-italics",{"component":"span","sx":{"paddingLeft":0.5,"paddingRight":0.5,"borderRadius":1,"backgroundColor":"rgb(227, 234, 242)"},"children":"tool"}],", and ",["$","$Lc","23-text-italics",{"component":"span","sx":{"paddingLeft":0.5,"paddingRight":0.5,"borderRadius":1,"backgroundColor":"rgb(227, 234, 242)"},"children":"strokeWidth"}],". In the ",["$","$Lc","23-text-italics",{"component":"span","sx":{"paddingLeft":0.5,"paddingRight":0.5,"borderRadius":1,"backgroundColor":"rgb(227, 234, 242)"},"children":"Mousemove"}]," listener, we check if we are currently drawing and if so, we add the point to the last line. Finally, when the mouse is released, we set ",["$","$Lc","23-text-italics",{"component":"span","sx":{"paddingLeft":0.5,"paddingRight":0.5,"borderRadius":1,"backgroundColor":"rgb(227, 234, 242)"},"children":"isDrawing"}]," to false."]}],["$","$Le","24",{"variant":"p","component":"p","sx":{"textAlign":"justify","marginBottom":2},"children":["$undefined","We also have two dropdowns to select our drawing configuration and a ",["$","$Lc","24-text-italics",{"component":"span","sx":{"paddingLeft":0.5,"paddingRight":0.5,"borderRadius":1,"backgroundColor":"rgb(227, 234, 242)"},"children":"Clear"}]," button to delete all the lines. Below this, we have a ",["$","$Lc","24-text-italics",{"component":"span","sx":{"paddingLeft":0.5,"paddingRight":0.5,"borderRadius":1,"backgroundColor":"rgb(227, 234, 242)"},"children":"Predict"}]," button, on clicking this we extract the image from the stage in the form of a data URI, get the prediction using the ",["$","$Lc","24-text-italics",{"component":"span","sx":{"paddingLeft":0.5,"paddingRight":0.5,"borderRadius":1,"backgroundColor":"rgb(227, 234, 242)"},"children":"runInference"}]," function (discussed in the next section), and set its value in the state."]}],["$","$Le","25",{"variant":"p","component":"p","sx":{"textAlign":"justify","marginBottom":2},"children":["$undefined","Below the ",["$","$Lc","25-text-italics",{"component":"span","sx":{"paddingLeft":0.5,"paddingRight":0.5,"borderRadius":1,"backgroundColor":"rgb(227, 234, 242)"},"children":"Predict"}]," button, we have a temporary canvas which we use to draw our image before passing it to the model. This is for debugging purposes only."]}],["$","$Le","26",{"id":"running-inference","variant":"h4","component":"h1","mb":2,"children":["$","strong",null,{"children":"Running Inference"}]}],["$","$Le","27",{"variant":"p","component":"p","sx":{"textAlign":"justify","marginBottom":2},"children":["$undefined","For loading the model in our app, it has to be served somewhere. Luckily, React can serve static files, we just need to put them into the ",["$","$Lc","27-text-italics",{"component":"span","sx":{"paddingLeft":0.5,"paddingRight":0.5,"borderRadius":1,"backgroundColor":"rgb(227, 234, 242)"},"children":"public"}]," folder. So, take your ",["$","$Lc","27-text-italics",{"component":"span","sx":{"paddingLeft":0.5,"paddingRight":0.5,"borderRadius":1,"backgroundColor":"rgb(227, 234, 242)"},"children":"model.onnx"}]," and place it in the ",["$","$Lc","27-text-italics",{"component":"span","sx":{"paddingLeft":0.5,"paddingRight":0.5,"borderRadius":1,"backgroundColor":"rgb(227, 234, 242)"},"children":"public"}]," folder."]}],["$","$Le","28",{"id":"knowing-our-model","variant":"h5","component":"h2","mb":2,"children":["$","strong",null,{"children":"Knowing our Model"}]}],["$","$Le","29",{"variant":"p","component":"p","sx":{"textAlign":"justify","marginBottom":2},"children":["$undefined","In order to run inference, we need to have some idea about the inputs our model is expecting and the outputs it returns to us. For this, we can use a tool like ",["$","$L1b","29-link",{"href":"https://netron.app/","rel":"noopener noreferrer","target":"_blank","color":"primary","underline":"hover","children":"Netron"}]," which helps us visualize deep neural networks. Head to ",["$","$L1b","29-link",{"href":"https://netron.app/","rel":"noopener noreferrer","target":"_blank","color":"primary","underline":"hover","children":"Netron"}]]}],["$","$Lc","30",{"sx":{"width":"100%","display":"flex","flexDirection":"column","justifyContent":"center","alignItems":"center","marginBottom":2},"children":["$","img",null,{"src":"/media/images/torch-mnist-onnx-model-in-netron-start.jpg","style":{"width":"100%","maxWidth":"75vw","height":"auto","maxHeight":"35vh","objectFit":"cover"}}]}],["$","$Le","31",{"variant":"p","component":"p","sx":{"textAlign":"justify","marginBottom":2},"children":["$undefined","We see that the model expects an input of the shape [1, 1, 28, 28] (batch size, channels, width, height) and outputs us a softmax. Great, now we know what to give to and what to expect from our model."]}],["$","$Le","32",{"id":"math-utils","variant":"h5","component":"h2","mb":2,"children":["$","strong",null,{"children":"Math Utils"}]}],["$","$Le","33",{"variant":"p","component":"p","sx":{"textAlign":"justify","marginBottom":2},"children":["$undefined","Before we can run inference with our model, we\'ll need to create a couple of utility functions. In the ",["$","$Lc","33-text-italics",{"component":"span","sx":{"paddingLeft":0.5,"paddingRight":0.5,"borderRadius":1,"backgroundColor":"rgb(227, 234, 242)"},"children":"src"}]," directory, create a new folder called ",["$","$Lc","33-text-italics",{"component":"span","sx":{"paddingLeft":0.5,"paddingRight":0.5,"borderRadius":1,"backgroundColor":"rgb(227, 234, 242)"},"children":"utils"}]," and inside it create a file called ",["$","$Lc","33-text-italics",{"component":"span","sx":{"paddingLeft":0.5,"paddingRight":0.5,"borderRadius":1,"backgroundColor":"rgb(227, 234, 242)"},"children":"mathUtils.js"}],"."]}],["$","$Lc",null,{"sx":{"width":"100%","marginBottom":2},"children":[["$","$L1c",null,{"contentToCopy":"function softmax(resultArray) {\\n  const largestNumber = Math.max(...resultArray);\\n\\n  const sumOfExp = resultArray\\n    .map((resultItem) =\u003e Math.exp(resultItem - largestNumber))\\n    .reduce((prevNumber, currentNumber) =\u003e prevNumber + currentNumber);\\n\\n  return resultArray.map((resultValue, index) =\u003e {\\n    return Math.exp(resultValue - largestNumber) / sumOfExp;\\n  });\\n}\\n\\nfunction indexMax(arr) {\\n  if (arr.length === 0) {\\n    return -1;\\n  }\\n\\n  let max = arr[0];\\n  let maxIndex = 0;\\n\\n  for (let i = 1; i \u003c arr.length; i++) {\\n    if (arr[i] \u003e max) {\\n      maxIndex = i;\\n      max = arr[i];\\n    }\\n  }\\n\\n  return maxIndex;\\n}\\n\\nexport { softmax, indexMax };"}],["$","pre",null,{"style":{"color":"#111b27","background":"#e3eaf2","fontFamily":"Consolas, Monaco, \\"Andale Mono\\", \\"Ubuntu Mono\\", monospace","textAlign":"left","whiteSpace":"pre","wordSpacing":"normal","wordBreak":"normal","wordWrap":"normal","lineHeight":"1.5","MozTabSize":"4","OTabSize":"4","tabSize":"4","WebkitHyphens":"none","MozHyphens":"none","msHyphens":"none","hyphens":"none","padding":"1em","margin":0,"overflow":"auto"},"children":["$","code",null,{"className":"language-javascript","style":{"color":"#111b27","background":"none","fontFamily":"Consolas, Monaco, \\"Andale Mono\\", \\"Ubuntu Mono\\", monospace","textAlign":"left","whiteSpace":"pre","wordSpacing":"normal","wordBreak":"normal","wordWrap":"normal","lineHeight":"1.5","MozTabSize":"4","OTabSize":"4","tabSize":"4","WebkitHyphens":"none","MozHyphens":"none","msHyphens":"none","hyphens":"none"},"children":[false,[["$","span","code-segement0",{"className":"token","style":{"color":"#a04900"},"children":["function"]}],["$","span","code-segement1",{"className":"$undefined","style":{},"children":[" "]}],["$","span","code-segement2",{"className":"token","style":{"color":"#7c00aa"},"children":["softmax"]}],["$","span","code-segement3",{"className":"token","style":{"color":"#111b27"},"children":["("]}],["$","span","code-segement4",{"className":"token","style":{"color":"#005a8e"},"children":["resultArray"]}],["$","span","code-segement5",{"className":"token","style":{"color":"#111b27"},"children":[")"]}],["$","span","code-segement6",{"className":"$undefined","style":{},"children":[" "]}],["$","span","code-segement7",{"className":"token","style":{"color":"#111b27"},"children":["{"]}],["$","span","code-segement8",{"className":"$undefined","style":{},"children":["\\n"]}],["$","span","code-segement9",{"className":"$undefined","style":{},"children":["  "]}],["$","span","code-segement10",{"className":"token","style":{"color":"#a04900"},"children":["const"]}],["$","span","code-segement11",{"className":"$undefined","style":{},"children":[" largestNumber "]}],["$","span","code-segement12",{"className":"token","style":{"color":"#a04900"},"children":["="]}],["$","span","code-segement13",{"className":"$undefined","style":{},"children":[" "]}],["$","span","code-segement14",{"className":"token known-class-name","style":{"color":"#005a8e"},"children":["Math"]}],["$","span","code-segement15",{"className":"token","style":{"color":"#111b27"},"children":["."]}],["$","span","code-segement16",{"className":"token method","style":{"color":"#005a8e"},"children":["max"]}],["$","span","code-segement17",{"className":"token","style":{"color":"#111b27"},"children":["("]}],["$","span","code-segement18",{"className":"token spread","style":{"color":"#a04900"},"children":["..."]}],["$","span","code-segement19",{"className":"$undefined","style":{},"children":["resultArray"]}],["$","span","code-segement20",{"className":"token","style":{"color":"#111b27"},"children":[")"]}],["$","span","code-segement21",{"className":"token","style":{"color":"#111b27"},"children":[";"]}],["$","span","code-segement22",{"className":"$undefined","style":{},"children":["\\n"]}],"\\n",["$","span","code-segement24",{"className":"$undefined","style":{},"children":["  "]}],["$","span","code-segement25",{"className":"token","style":{"color":"#a04900"},"children":["const"]}],["$","span","code-segement26",{"className":"$undefined","style":{},"children":[" sumOfExp "]}],["$","span","code-segement27",{"className":"token","style":{"color":"#a04900"},"children":["="]}],["$","span","code-segement28",{"className":"$undefined","style":{},"children":[" resultArray\\n"]}],["$","span","code-segement29",{"className":"$undefined","style":{},"children":["    "]}],["$","span","code-segement30",{"className":"token","style":{"color":"#111b27"},"children":["."]}],["$","span","code-segement31",{"className":"token method","style":{"color":"#005a8e"},"children":["map"]}],["$","span","code-segement32",{"className":"token","style":{"color":"#111b27"},"children":["("]}],["$","span","code-segement33",{"className":"token","style":{"color":"#111b27"},"children":["("]}],["$","span","code-segement34",{"className":"token","style":{"color":"#005a8e"},"children":["resultItem"]}],["$","span","code-segement35",{"className":"token","style":{"color":"#111b27"},"children":[")"]}],["$","span","code-segement36",{"className":"$undefined","style":{},"children":[" "]}],["$","span","code-segement37",{"className":"token arrow","style":{"color":"#a04900"},"children":["=\u003e"]}],["$","span","code-segement38",{"className":"$undefined","style":{},"children":[" "]}],["$","span","code-segement39",{"className":"token known-class-name","style":{"color":"#005a8e"},"children":["Math"]}],["$","span","code-segement40",{"className":"token","style":{"color":"#111b27"},"children":["."]}],["$","span","code-segement41",{"className":"token method","style":{"color":"#005a8e"},"children":["exp"]}],["$","span","code-segement42",{"className":"token","style":{"color":"#111b27"},"children":["("]}],["$","span","code-segement43",{"className":"$undefined","style":{},"children":["resultItem "]}],["$","span","code-segement44",{"className":"token","style":{"color":"#a04900"},"children":["-"]}],["$","span","code-segement45",{"className":"$undefined","style":{},"children":[" largestNumber"]}],["$","span","code-segement46",{"className":"token","style":{"color":"#111b27"},"children":[")"]}],["$","span","code-segement47",{"className":"token","style":{"color":"#111b27"},"children":[")"]}],["$","span","code-segement48",{"className":"$undefined","style":{},"children":["\\n"]}],["$","span","code-segement49",{"className":"$undefined","style":{},"children":["    "]}],["$","span","code-segement50",{"className":"token","style":{"color":"#111b27"},"children":["."]}],["$","span","code-segement51",{"className":"token method","style":{"color":"#005a8e"},"children":["reduce"]}],["$","span","code-segement52",{"className":"token","style":{"color":"#111b27"},"children":["("]}],["$","span","code-segement53",{"className":"token","style":{"color":"#111b27"},"children":["("]}],["$","span","code-segement54",{"className":"token","style":{"color":"#005a8e"},"children":["prevNumber"]}],["$","span","code-segement55",{"className":"token","style":{"color":"#111b27"},"children":[","]}],["$","span","code-segement56",{"className":"token","style":{"color":"#005a8e"},"children":[" currentNumber"]}],["$","span","code-segement57",{"className":"token","style":{"color":"#111b27"},"children":[")"]}],["$","span","code-segement58",{"className":"$undefined","style":{},"children":[" "]}],["$","span","code-segement59",{"className":"token arrow","style":{"color":"#a04900"},"children":["=\u003e"]}],["$","span","code-segement60",{"className":"$undefined","style":{},"children":[" prevNumber "]}],["$","span","code-segement61",{"className":"token","style":{"color":"#a04900"},"children":["+"]}],["$","span","code-segement62",{"className":"$undefined","style":{},"children":[" currentNumber"]}],["$","span","code-segement63",{"className":"token","style":{"color":"#111b27"},"children":[")"]}],["$","span","code-segement64",{"className":"token","style":{"color":"#111b27"},"children":[";"]}],["$","span","code-segement65",{"className":"$undefined","style":{},"children":["\\n"]}],"\\n",["$","span","code-segement67",{"className":"$undefined","style":{},"children":["  "]}],["$","span","code-segement68",{"className":"token control-flow","style":{"color":"#a04900"},"children":["return"]}],["$","span","code-segement69",{"className":"$undefined","style":{},"children":[" resultArray"]}],["$","span","code-segement70",{"className":"token","style":{"color":"#111b27"},"children":["."]}],["$","span","code-segement71",{"className":"token method","style":{"color":"#005a8e"},"children":["map"]}],["$","span","code-segement72",{"className":"token","style":{"color":"#111b27"},"children":["("]}],["$","span","code-segement73",{"className":"token","style":{"color":"#111b27"},"children":["("]}],["$","span","code-segement74",{"className":"token","style":{"color":"#005a8e"},"children":["resultValue"]}],["$","span","code-segement75",{"className":"token","style":{"color":"#111b27"},"children":[","]}],["$","span","code-segement76",{"className":"token","style":{"color":"#005a8e"},"children":[" index"]}],["$","span","code-segement77",{"className":"token","style":{"color":"#111b27"},"children":[")"]}],["$","span","code-segement78",{"className":"$undefined","style":{},"children":[" "]}],["$","span","code-segement79",{"className":"token arrow","style":{"color":"#a04900"},"children":["=\u003e"]}],["$","span","code-segement80",{"className":"$undefined","style":{},"children":[" "]}],["$","span","code-segement81",{"className":"token","style":{"color":"#111b27"},"children":["{"]}],["$","span","code-segement82",{"className":"$undefined","style":{},"children":["\\n"]}],["$","span","code-segement83",{"className":"$undefined","style":{},"children":["    "]}],["$","span","code-segement84",{"className":"token control-flow","style":{"color":"#a04900"},"children":["return"]}],["$","span","code-segement85",{"className":"$undefined","style":{},"children":[" "]}],["$","span","code-segement86",{"className":"token known-class-name","style":{"color":"#005a8e"},"children":["Math"]}],["$","span","code-segement87",{"className":"token","style":{"color":"#111b27"},"children":["."]}],["$","span","code-segement88",{"className":"token method","style":{"color":"#005a8e"},"children":["exp"]}],["$","span","code-segement89",{"className":"token","style":{"color":"#111b27"},"children":["("]}],["$","span","code-segement90",{"className":"$undefined","style":{},"children":["resultValue "]}],["$","span","code-segement91",{"className":"token","style":{"color":"#a04900"},"children":["-"]}],["$","span","code-segement92",{"className":"$undefined","style":{},"children":[" largestNumber"]}],["$","span","code-segement93",{"className":"token","style":{"color":"#111b27"},"children":[")"]}],["$","span","code-segement94",{"className":"$undefined","style":{},"children":[" "]}],["$","span","code-segement95",{"className":"token","style":{"color":"#a04900"},"children":["/"]}],["$","span","code-segement96",{"className":"$undefined","style":{},"children":[" sumOfExp"]}],["$","span","code-segement97",{"className":"token","style":{"color":"#111b27"},"children":[";"]}],["$","span","code-segement98",{"className":"$undefined","style":{},"children":["\\n"]}],["$","span","code-segement99",{"className":"$undefined","style":{},"children":["  "]}],["$","span","code-segement100",{"className":"token","style":{"color":"#111b27"},"children":["}"]}],["$","span","code-segement101",{"className":"token","style":{"color":"#111b27"},"children":[")"]}],["$","span","code-segement102",{"className":"token","style":{"color":"#111b27"},"children":[";"]}],["$","span","code-segement103",{"className":"$undefined","style":{},"children":["\\n"]}],["$","span","code-segement104",{"className":"$undefined","style":{},"children":[""]}],["$","span","code-segement105",{"className":"token","style":{"color":"#111b27"},"children":["}"]}],["$","span","code-segement106",{"className":"$undefined","style":{},"children":["\\n"]}],"\\n",["$","span","code-segement108",{"className":"$undefined","style":{},"children":[""]}],["$","span","code-segement109",{"className":"token","style":{"color":"#a04900"},"children":["function"]}],["$","span","code-segement110",{"className":"$undefined","style":{},"children":[" "]}],["$","span","code-segement111",{"className":"token","style":{"color":"#7c00aa"},"children":["indexMax"]}],["$","span","code-segement112",{"className":"token","style":{"color":"#111b27"},"children":["("]}],["$","span","code-segement113",{"className":"token","style":{"color":"#005a8e"},"children":["arr"]}],["$","span","code-segement114",{"className":"token","style":{"color":"#111b27"},"children":[")"]}],["$","span","code-segement115",{"className":"$undefined","style":{},"children":[" "]}],["$","span","code-segement116",{"className":"token","style":{"color":"#111b27"},"children":["{"]}],["$","span","code-segement117",{"className":"$undefined","style":{},"children":["\\n"]}],["$","span","code-segement118",{"className":"$undefined","style":{},"children":["  "]}],["$","span","code-segement119",{"className":"token control-flow","style":{"color":"#a04900"},"children":["if"]}],["$","span","code-segement120",{"className":"$undefined","style":{},"children":[" "]}],["$","span","code-segement121",{"className":"token","style":{"color":"#111b27"},"children":["("]}],["$","span","code-segement122",{"className":"$undefined","style":{},"children":["arr"]}],["$","span","code-segement123",{"className":"token","style":{"color":"#111b27"},"children":["."]}],["$","span","code-segement124",{"className":"token","style":{"color":"#005a8e"},"children":["length"]}],["$","span","code-segement125",{"className":"$undefined","style":{},"children":[" "]}],["$","span","code-segement126",{"className":"token","style":{"color":"#a04900"},"children":["==="]}],["$","span","code-segement127",{"className":"$undefined","style":{},"children":[" "]}],["$","span","code-segement128",{"className":"token","style":{"color":"#755f00"},"children":["0"]}],["$","span","code-segement129",{"className":"token","style":{"color":"#111b27"},"children":[")"]}],["$","span","code-segement130",{"className":"$undefined","style":{},"children":[" "]}],["$","span","code-segement131",{"className":"token","style":{"color":"#111b27"},"children":["{"]}],["$","span","code-segement132",{"className":"$undefined","style":{},"children":["\\n"]}],["$","span","code-segement133",{"className":"$undefined","style":{},"children":["    "]}],["$","span","code-segement134",{"className":"token control-flow","style":{"color":"#a04900"},"children":["return"]}],["$","span","code-segement135",{"className":"$undefined","style":{},"children":[" "]}],["$","span","code-segement136",{"className":"token","style":{"color":"#a04900"},"children":["-"]}],["$","span","code-segement137",{"className":"token","style":{"color":"#755f00"},"children":["1"]}],["$","span","code-segement138",{"className":"token","style":{"color":"#111b27"},"children":[";"]}],["$","span","code-segement139",{"className":"$undefined","style":{},"children":["\\n"]}],["$","span","code-segement140",{"className":"$undefined","style":{},"children":["  "]}],["$","span","code-segement141",{"className":"token","style":{"color":"#111b27"},"children":["}"]}],["$","span","code-segement142",{"className":"$undefined","style":{},"children":["\\n"]}],"\\n",["$","span","code-segement144",{"className":"$undefined","style":{},"children":["  "]}],["$","span","code-segement145",{"className":"token","style":{"color":"#a04900"},"children":["let"]}],["$","span","code-segement146",{"className":"$undefined","style":{},"children":[" max "]}],["$","span","code-segement147",{"className":"token","style":{"color":"#a04900"},"children":["="]}],["$","span","code-segement148",{"className":"$undefined","style":{},"children":[" arr"]}],["$","span","code-segement149",{"className":"token","style":{"color":"#111b27"},"children":["["]}],["$","span","code-segement150",{"className":"token","style":{"color":"#755f00"},"children":["0"]}],["$","span","code-segement151",{"className":"token","style":{"color":"#111b27"},"children":["]"]}],["$","span","code-segement152",{"className":"token","style":{"color":"#111b27"},"children":[";"]}],["$","span","code-segement153",{"className":"$undefined","style":{},"children":["\\n"]}],["$","span","code-segement154",{"className":"$undefined","style":{},"children":["  "]}],["$","span","code-segement155",{"className":"token","style":{"color":"#a04900"},"children":["let"]}],["$","span","code-segement156",{"className":"$undefined","style":{},"children":[" maxIndex "]}],["$","span","code-segement157",{"className":"token","style":{"color":"#a04900"},"children":["="]}],["$","span","code-segement158",{"className":"$undefined","style":{},"children":[" "]}],["$","span","code-segement159",{"className":"token","style":{"color":"#755f00"},"children":["0"]}],["$","span","code-segement160",{"className":"token","style":{"color":"#111b27"},"children":[";"]}],["$","span","code-segement161",{"className":"$undefined","style":{},"children":["\\n"]}],"\\n",["$","span","code-segement163",{"className":"$undefined","style":{},"children":["  "]}],["$","span","code-segement164",{"className":"token control-flow","style":{"color":"#a04900"},"children":["for"]}],["$","span","code-segement165",{"className":"$undefined","style":{},"children":[" "]}],["$","span","code-segement166",{"className":"token","style":{"color":"#111b27"},"children":["("]}],["$","span","code-segement167",{"className":"token","style":{"color":"#a04900"},"children":["let"]}],["$","span","code-segement168",{"className":"$undefined","style":{},"children":[" i "]}],["$","span","code-segement169",{"className":"token","style":{"color":"#a04900"},"children":["="]}],["$","span","code-segement170",{"className":"$undefined","style":{},"children":[" "]}],["$","span","code-segement171",{"className":"token","style":{"color":"#755f00"},"children":["1"]}],["$","span","code-segement172",{"className":"token","style":{"color":"#111b27"},"children":[";"]}],["$","span","code-segement173",{"className":"$undefined","style":{},"children":[" i "]}],["$","span","code-segement174",{"className":"token","style":{"color":"#a04900"},"children":["\u003c"]}],["$","span","code-segement175",{"className":"$undefined","style":{},"children":[" arr"]}],["$","span","code-segement176",{"className":"token","style":{"color":"#111b27"},"children":["."]}],["$","span","code-segement177",{"className":"token","style":{"color":"#005a8e"},"children":["length"]}],["$","span","code-segement178",{"className":"token","style":{"color":"#111b27"},"children":[";"]}],["$","span","code-segement179",{"className":"$undefined","style":{},"children":[" i"]}],["$","span","code-segement180",{"className":"token","style":{"color":"#a04900"},"children":["++"]}],["$","span","code-segement181",{"className":"token","style":{"color":"#111b27"},"children":[")"]}],["$","span","code-segement182",{"className":"$undefined","style":{},"children":[" "]}],["$","span","code-segement183",{"className":"token","style":{"color":"#111b27"},"children":["{"]}],["$","span","code-segement184",{"className":"$undefined","style":{},"children":["\\n"]}],["$","span","code-segement185",{"className":"$undefined","style":{},"children":["    "]}],["$","span","code-segement186",{"className":"token control-flow","style":{"color":"#a04900"},"children":["if"]}],["$","span","code-segement187",{"className":"$undefined","style":{},"children":[" "]}],["$","span","code-segement188",{"className":"token","style":{"color":"#111b27"},"children":["("]}],["$","span","code-segement189",{"className":"$undefined","style":{},"children":["arr"]}],["$","span","code-segement190",{"className":"token","style":{"color":"#111b27"},"children":["["]}],["$","span","code-segement191",{"className":"$undefined","style":{},"children":["i"]}],["$","span","code-segement192",{"className":"token","style":{"color":"#111b27"},"children":["]"]}],["$","span","code-segement193",{"className":"$undefined","style":{},"children":[" "]}],["$","span","code-segement194",{"className":"token","style":{"color":"#a04900"},"children":["\u003e"]}],["$","span","code-segement195",{"className":"$undefined","style":{},"children":[" max"]}],["$","span","code-segement196",{"className":"token","style":{"color":"#111b27"},"children":[")"]}],["$","span","code-segement197",{"className":"$undefined","style":{},"children":[" "]}],["$","span","code-segement198",{"className":"token","style":{"color":"#111b27"},"children":["{"]}],["$","span","code-segement199",{"className":"$undefined","style":{},"children":["\\n"]}],["$","span","code-segement200",{"className":"$undefined","style":{},"children":["      maxIndex "]}],["$","span","code-segement201",{"className":"token","style":{"color":"#a04900"},"children":["="]}],["$","span","code-segement202",{"className":"$undefined","style":{},"children":[" i"]}],["$","span","code-segement203",{"className":"token","style":{"color":"#111b27"},"children":[";"]}],["$","span","code-segement204",{"className":"$undefined","style":{},"children":["\\n"]}],["$","span","code-segement205",{"className":"$undefined","style":{},"children":["      max "]}],["$","span","code-segement206",{"className":"token","style":{"color":"#a04900"},"children":["="]}],["$","span","code-segement207",{"className":"$undefined","style":{},"children":[" arr"]}],["$","span","code-segement208",{"className":"token","style":{"color":"#111b27"},"children":["["]}],["$","span","code-segement209",{"className":"$undefined","style":{},"children":["i"]}],["$","span","code-segement210",{"className":"token","style":{"color":"#111b27"},"children":["]"]}],["$","span","code-segement211",{"className":"token","style":{"color":"#111b27"},"children":[";"]}],["$","span","code-segement212",{"className":"$undefined","style":{},"children":["\\n"]}],["$","span","code-segement213",{"className":"$undefined","style":{},"children":["    "]}],["$","span","code-segement214",{"className":"token","style":{"color":"#111b27"},"children":["}"]}],["$","span","code-segement215",{"className":"$undefined","style":{},"children":["\\n"]}],["$","span","code-segement216",{"className":"$undefined","style":{},"children":["  "]}],["$","span","code-segement217",{"className":"token","style":{"color":"#111b27"},"children":["}"]}],["$","span","code-segement218",{"className":"$undefined","style":{},"children":["\\n"]}],"\\n",["$","span","code-segement220",{"className":"$undefined","style":{},"children":["  "]}],["$","span","code-segement221",{"className":"token control-flow","style":{"color":"#a04900"},"children":["return"]}],["$","span","code-segement222",{"className":"$undefined","style":{},"children":[" maxIndex"]}],["$","span","code-segement223",{"className":"token","style":{"color":"#111b27"},"children":[";"]}],["$","span","code-segement224",{"className":"$undefined","style":{},"children":["\\n"]}],["$","span","code-segement225",{"className":"$undefined","style":{},"children":[""]}],["$","span","code-segement226",{"className":"token","style":{"color":"#111b27"},"children":["}"]}],["$","span","code-segement227",{"className":"$undefined","style":{},"children":["\\n"]}],"\\n",["$","span","code-segement229",{"className":"$undefined","style":{},"children":[""]}],["$","span","code-segement230",{"className":"token module","style":{"color":"#a04900"},"children":["export"]}],["$","span","code-segement231",{"className":"$undefined","style":{},"children":[" "]}],["$","span","code-segement232",{"className":"token exports","style":{"color":"#111b27"},"children":["{"]}],["$","span","code-segement233",{"className":"token exports","style":{},"children":[" softmax"]}],["$","span","code-segement234",{"className":"token exports","style":{"color":"#111b27"},"children":[","]}],["$","span","code-segement235",{"className":"token exports","style":{},"children":[" indexMax "]}],["$","span","code-segement236",{"className":"token exports","style":{"color":"#111b27"},"children":["}"]}],["$","span","code-segement237",{"className":"token","style":{"color":"#111b27"},"children":[";"]}]]]}]}]]}],["$","$Le","35",{"variant":"p","component":"p","sx":{"textAlign":"justify","marginBottom":2},"children":["$undefined","We have defined our DIY ",["$","$Lc","35-text-italics",{"component":"span","sx":{"paddingLeft":0.5,"paddingRight":0.5,"borderRadius":1,"backgroundColor":"rgb(227, 234, 242)"},"children":"softmax"}]," and ",["$","$Lc","35-text-italics",{"component":"span","sx":{"paddingLeft":0.5,"paddingRight":0.5,"borderRadius":1,"backgroundColor":"rgb(227, 234, 242)"},"children":"indexMax"}]," functions. Softmax is an activation function that we call on our model\'s output to get the probabilities of various classes. ",["$","$Lc","35-text-italics",{"component":"span","sx":{"paddingLeft":0.5,"paddingRight":0.5,"borderRadius":1,"backgroundColor":"rgb(227, 234, 242)"},"children":"indexMax"}]," (similar to numpy.argmax) simply gets us the index of the maximum value in an array."]}],["$","$Le","36",{"id":"image-processing","variant":"h5","component":"h2","mb":2,"children":["$","strong",null,{"children":"Image Processing"}]}],["$","$Le","37",{"variant":"p","component":"p","sx":{"textAlign":"justify","marginBottom":2},"children":["$undefined","We have to do a couple of more things before we can pass our images to our model:"]}],["$","$Le","38",{"variant":"p","component":"p","sx":{"textAlign":"justify","marginBottom":2},"children":["$undefined","1) We have to extract the greyscale image (28x28, 1 channel) from the data URI."]}],["$","$Le","39",{"variant":"p","component":"p","sx":{"textAlign":"justify","marginBottom":2},"children":["$undefined","1) We have to convert it into a tensor"]}],["$","$Le","40",{"variant":"p","component":"p","sx":{"textAlign":"justify","marginBottom":2},"children":["$undefined","So, in the ",["$","$Lc","40-text-italics",{"component":"span","sx":{"paddingLeft":0.5,"paddingRight":0.5,"borderRadius":1,"backgroundColor":"rgb(227, 234, 242)"},"children":"src"}]," folder, create a folder called ",["$","$Lc","40-text-italics",{"component":"span","sx":{"paddingLeft":0.5,"paddingRight":0.5,"borderRadius":1,"backgroundColor":"rgb(227, 234, 242)"},"children":"inferencing"}]," and in it create a file called ",["$","$Lc","40-text-italics",{"component":"span","sx":{"paddingLeft":0.5,"paddingRight":0.5,"borderRadius":1,"backgroundColor":"rgb(227, 234, 242)"},"children":"imageProcessing.js"}],". Let\'s work on extracting the greyscale image first."]}],["$","$Lc",null,{"sx":{"width":"100%","marginBottom":2},"children":[["$","$L1c",null,{"contentToCopy":"$1e"}],["$","pre",null,{"style":{"color":"#111b27","background":"#e3eaf2","fontFamily":"Consolas, Monaco, \\"Andale Mono\\", \\"Ubuntu Mono\\", monospace","textAlign":"left","whiteSpace":"pre","wordSpacing":"normal","wordBreak":"normal","wordWrap":"normal","lineHeight":"1.5","MozTabSize":"4","OTabSize":"4","tabSize":"4","WebkitHyphens":"none","MozHyphens":"none","msHyphens":"none","hyphens":"none","padding":"1em","margin":0,"overflow":"auto"},"children":["$","code",null,{"className":"language-javascript","style":{"color":"#111b27","background":"none","fontFamily":"Consolas, Monaco, \\"Andale Mono\\", \\"Ubuntu Mono\\", monospace","textAlign":"left","whiteSpace":"pre","wordSpacing":"normal","wordBreak":"normal","wordWrap":"normal","lineHeight":"1.5","MozTabSize":"4","OTabSize":"4","tabSize":"4","WebkitHyphens":"none","MozHyphens":"none","msHyphens":"none","hyphens":"none"},"children":[false,[["$","span","code-segement0",{"className":"token module","style":{"color":"#a04900"},"children":["import"]}],["$","span","code-segement1",{"className":"$undefined","style":{},"children":[" "]}],["$","span","code-segement2",{"className":"token imports","style":{},"children":["ort"]}],["$","span","code-segement3",{"className":"$undefined","style":{},"children":[" "]}],["$","span","code-segement4",{"className":"token module","style":{"color":"#a04900"},"children":["from"]}],["$","span","code-segement5",{"className":"$undefined","style":{},"children":[" "]}],["$","span","code-segement6",{"className":"token","style":{"color":"#116b00"},"children":["\\"onnxruntime-web\\""]}],["$","span","code-segement7",{"className":"token","style":{"color":"#111b27"},"children":[";"]}],["$","span","code-segement8",{"className":"$undefined","style":{},"children":["\\n"]}],"\\n",["$","span","code-segement10",{"className":"$undefined","style":{},"children":[""]}],["$","span","code-segement11",{"className":"token","style":{"color":"#a04900"},"children":["const"]}],["$","span","code-segement12",{"className":"$undefined","style":{},"children":[" inputImageShape "]}],["$","span","code-segement13",{"className":"token","style":{"color":"#a04900"},"children":["="]}],["$","span","code-segement14",{"className":"$undefined","style":{},"children":[" "]}],["$","span","code-segement15",{"className":"token","style":{"color":"#111b27"},"children":["["]}],["$","span","code-segement16",{"className":"token","style":{"color":"#755f00"},"children":["28"]}],["$","span","code-segement17",{"className":"token","style":{"color":"#111b27"},"children":[","]}],["$","span","code-segement18",{"className":"$undefined","style":{},"children":[" "]}],["$","span","code-segement19",{"className":"token","style":{"color":"#755f00"},"children":["28"]}],["$","span","code-segement20",{"className":"token","style":{"color":"#111b27"},"children":["]"]}],["$","span","code-segement21",{"className":"token","style":{"color":"#111b27"},"children":[";"]}],["$","span","code-segement22",{"className":"$undefined","style":{},"children":["\\n"]}],["$","span","code-segement23",{"className":"$undefined","style":{},"children":[""]}],["$","span","code-segement24",{"className":"token","style":{"color":"#a04900"},"children":["const"]}],["$","span","code-segement25",{"className":"$undefined","style":{},"children":[" inputShape "]}],["$","span","code-segement26",{"className":"token","style":{"color":"#a04900"},"children":["="]}],["$","span","code-segement27",{"className":"$undefined","style":{},"children":[" "]}],["$","span","code-segement28",{"className":"token","style":{"color":"#111b27"},"children":["["]}],["$","span","code-segement29",{"className":"token","style":{"color":"#755f00"},"children":["1"]}],["$","span","code-segement30",{"className":"token","style":{"color":"#111b27"},"children":[","]}],["$","span","code-segement31",{"className":"$undefined","style":{},"children":[" "]}],["$","span","code-segement32",{"className":"token","style":{"color":"#755f00"},"children":["1"]}],["$","span","code-segement33",{"className":"token","style":{"color":"#111b27"},"children":[","]}],["$","span","code-segement34",{"className":"$undefined","style":{},"children":[" "]}],["$","span","code-segement35",{"className":"token","style":{"color":"#755f00"},"children":["28"]}],["$","span","code-segement36",{"className":"token","style":{"color":"#111b27"},"children":[","]}],["$","span","code-segement37",{"className":"$undefined","style":{},"children":[" "]}],["$","span","code-segement38",{"className":"token","style":{"color":"#755f00"},"children":["28"]}],["$","span","code-segement39",{"className":"token","style":{"color":"#111b27"},"children":["]"]}],["$","span","code-segement40",{"className":"token","style":{"color":"#111b27"},"children":[";"]}],["$","span","code-segement41",{"className":"$undefined","style":{},"children":["\\n"]}],"\\n",["$","span","code-segement43",{"className":"$undefined","style":{},"children":[""]}],["$","span","code-segement44",{"className":"token","style":{"color":"#a04900"},"children":["function"]}],["$","span","code-segement45",{"className":"$undefined","style":{},"children":[" "]}],["$","span","code-segement46",{"className":"token","style":{"color":"#7c00aa"},"children":["extractGreyscaleImageFromKonvaStage"]}],["$","span","code-segement47",{"className":"token","style":{"color":"#111b27"},"children":["("]}],["$","span","code-segement48",{"className":"token","style":{"color":"#005a8e"},"children":["imageDataUri"]}],["$","span","code-segement49",{"className":"token","style":{"color":"#111b27"},"children":[","]}],["$","span","code-segement50",{"className":"token","style":{"color":"#005a8e"},"children":[" imageProcessingCanvasId"]}],["$","span","code-segement51",{"className":"token","style":{"color":"#111b27"},"children":[")"]}],["$","span","code-segement52",{"className":"$undefined","style":{},"children":[" "]}],["$","span","code-segement53",{"className":"token","style":{"color":"#111b27"},"children":["{"]}],["$","span","code-segement54",{"className":"$undefined","style":{},"children":["\\n"]}],["$","span","code-segement55",{"className":"$undefined","style":{},"children":["  "]}],["$","span","code-segement56",{"className":"token","style":{"color":"#a04900"},"children":["const"]}],["$","span","code-segement57",{"className":"$undefined","style":{},"children":[" canvas "]}],["$","span","code-segement58",{"className":"token","style":{"color":"#a04900"},"children":["="]}],["$","span","code-segement59",{"className":"$undefined","style":{},"children":[" "]}],["$","span","code-segement60",{"className":"token dom","style":{"color":"#005a8e"},"children":["document"]}],["$","span","code-segement61",{"className":"token","style":{"color":"#111b27"},"children":["."]}],["$","span","code-segement62",{"className":"token method","style":{"color":"#005a8e"},"children":["getElementById"]}],["$","span","code-segement63",{"className":"token","style":{"color":"#111b27"},"children":["("]}],["$","span","code-segement64",{"className":"$undefined","style":{},"children":["imageProcessingCanvasId"]}],["$","span","code-segement65",{"className":"token","style":{"color":"#111b27"},"children":[")"]}],["$","span","code-segement66",{"className":"token","style":{"color":"#111b27"},"children":[";"]}],["$","span","code-segement67",{"className":"$undefined","style":{},"children":["\\n"]}],["$","span","code-segement68",{"className":"$undefined","style":{},"children":["  "]}],["$","span","code-segement69",{"className":"token","style":{"color":"#a04900"},"children":["const"]}],["$","span","code-segement70",{"className":"$undefined","style":{},"children":[" ctx "]}],["$","span","code-segement71",{"className":"token","style":{"color":"#a04900"},"children":["="]}],["$","span","code-segement72",{"className":"$undefined","style":{},"children":[" canvas"]}],["$","span","code-segement73",{"className":"token","style":{"color":"#111b27"},"children":["."]}],["$","span","code-segement74",{"className":"token method","style":{"color":"#005a8e"},"children":["getContext"]}],["$","span","code-segement75",{"className":"token","style":{"color":"#111b27"},"children":["("]}],["$","span","code-segement76",{"className":"token","style":{"color":"#116b00"},"children":["\\"2d\\""]}],["$","span","code-segement77",{"className":"token","style":{"color":"#111b27"},"children":[")"]}],["$","span","code-segement78",{"className":"token","style":{"color":"#111b27"},"children":[";"]}],["$","span","code-segement79",{"className":"$undefined","style":{},"children":["\\n"]}],"\\n",["$","span","code-segement81",{"className":"$undefined","style":{},"children":["  "]}],["$","span","code-segement82",{"className":"token","style":{"color":"#a04900"},"children":["const"]}],["$","span","code-segement83",{"className":"$undefined","style":{},"children":[" img "]}],["$","span","code-segement84",{"className":"token","style":{"color":"#a04900"},"children":["="]}],["$","span","code-segement85",{"className":"$undefined","style":{},"children":[" "]}],["$","span","code-segement86",{"className":"token","style":{"color":"#a04900"},"children":["new"]}],["$","span","code-segement87",{"className":"$undefined","style":{},"children":[" "]}],["$","span","code-segement88",{"className":"token","style":{"color":"#005a8e"},"children":["Image"]}],["$","span","code-segement89",{"className":"token","style":{"color":"#111b27"},"children":["("]}],["$","span","code-segement90",{"className":"token","style":{"color":"#111b27"},"children":[")"]}],["$","span","code-segement91",{"className":"token","style":{"color":"#111b27"},"children":[";"]}],["$","span","code-segement92",{"className":"$undefined","style":{},"children":["\\n"]}],["$","span","code-segement93",{"className":"$undefined","style":{},"children":["  img"]}],["$","span","code-segement94",{"className":"token","style":{"color":"#111b27"},"children":["."]}],["$","span","code-segement95",{"className":"token","style":{"color":"#005a8e"},"children":["src"]}],["$","span","code-segement96",{"className":"$undefined","style":{},"children":[" "]}],["$","span","code-segement97",{"className":"token","style":{"color":"#a04900"},"children":["="]}],["$","span","code-segement98",{"className":"$undefined","style":{},"children":[" imageDataUri"]}],["$","span","code-segement99",{"className":"token","style":{"color":"#111b27"},"children":[";"]}],["$","span","code-segement100",{"className":"$undefined","style":{},"children":["\\n"]}],"\\n",["$","span","code-segement102",{"className":"$undefined","style":{},"children":["  "]}],["$","span","code-segement103",{"className":"token control-flow","style":{"color":"#a04900"},"children":["return"]}],["$","span","code-segement104",{"className":"$undefined","style":{},"children":[" "]}],["$","span","code-segement105",{"className":"token","style":{"color":"#a04900"},"children":["new"]}],["$","span","code-segement106",{"className":"$undefined","style":{},"children":[" "]}],["$","span","code-segement107",{"className":"token","style":{"color":"#005a8e"},"children":["Promise"]}],["$","span","code-segement108",{"className":"token","style":{"color":"#111b27"},"children":["("]}],["$","span","code-segement109",{"className":"token","style":{"color":"#111b27"},"children":["("]}],["$","span","code-segement110",{"className":"token","style":{"color":"#005a8e"},"children":["resolve"]}],["$","span","code-segement111",{"className":"token","style":{"color":"#111b27"},"children":[","]}],["$","span","code-segement112",{"className":"token","style":{"color":"#005a8e"},"children":[" reject"]}],["$","span","code-segement113",{"className":"token","style":{"color":"#111b27"},"children":[")"]}],["$","span","code-segement114",{"className":"$undefined","style":{},"children":[" "]}],["$","span","code-segement115",{"className":"token arrow","style":{"color":"#a04900"},"children":["=\u003e"]}],["$","span","code-segement116",{"className":"$undefined","style":{},"children":[" "]}],["$","span","code-segement117",{"className":"token","style":{"color":"#111b27"},"children":["{"]}],["$","span","code-segement118",{"className":"$undefined","style":{},"children":["\\n"]}],["$","span","code-segement119",{"className":"$undefined","style":{},"children":["    img"]}],["$","span","code-segement120",{"className":"token","style":{"color":"#111b27"},"children":["."]}],["$","span","code-segement121",{"className":"token method-variable function-variable method","style":{"color":"#7c00aa"},"children":["onload"]}],["$","span","code-segement122",{"className":"$undefined","style":{},"children":[" "]}],["$","span","code-segement123",{"className":"token","style":{"color":"#a04900"},"children":["="]}],["$","span","code-segement124",{"className":"$undefined","style":{},"children":[" "]}],["$","span","code-segement125",{"className":"token","style":{"color":"#111b27"},"children":["("]}],["$","span","code-segement126",{"className":"token","style":{"color":"#111b27"},"children":[")"]}],["$","span","code-segement127",{"className":"$undefined","style":{},"children":[" "]}],["$","span","code-segement128",{"className":"token arrow","style":{"color":"#a04900"},"children":["=\u003e"]}],["$","span","code-segement129",{"className":"$undefined","style":{},"children":[" "]}],["$","span","code-segement130",{"className":"token","style":{"color":"#111b27"},"children":["{"]}],["$","span","code-segement131",{"className":"$undefined","style":{},"children":["\\n"]}],["$","span","code-segement132",{"className":"$undefined","style":{},"children":["      canvas"]}],["$","span","code-segement133",{"className":"token","style":{"color":"#111b27"},"children":["."]}],["$","span","code-segement134",{"className":"token","style":{"color":"#005a8e"},"children":["width"]}],["$","span","code-segement135",{"className":"$undefined","style":{},"children":[" "]}],["$","span","code-segement136",{"className":"token","style":{"color":"#a04900"},"children":["="]}],["$","span","code-segement137",{"className":"$undefined","style":{},"children":[" inputImageShape"]}],["$","span","code-segement138",{"className":"token","style":{"color":"#111b27"},"children":["["]}],["$","span","code-segement139",{"className":"token","style":{"color":"#755f00"},"children":["0"]}],["$","span","code-segement140",{"className":"token","style":{"color":"#111b27"},"children":["]"]}],["$","span","code-segement141",{"className":"token","style":{"color":"#111b27"},"children":[";"]}],["$","span","code-segement142",{"className":"$undefined","style":{},"children":["\\n"]}],["$","span","code-segement143",{"className":"$undefined","style":{},"children":["      canvas"]}],["$","span","code-segement144",{"className":"token","style":{"color":"#111b27"},"children":["."]}],["$","span","code-segement145",{"className":"token","style":{"color":"#005a8e"},"children":["height"]}],["$","span","code-segement146",{"className":"$undefined","style":{},"children":[" "]}],["$","span","code-segement147",{"className":"token","style":{"color":"#a04900"},"children":["="]}],["$","span","code-segement148",{"className":"$undefined","style":{},"children":[" inputImageShape"]}],["$","span","code-segement149",{"className":"token","style":{"color":"#111b27"},"children":["["]}],["$","span","code-segement150",{"className":"token","style":{"color":"#755f00"},"children":["1"]}],["$","span","code-segement151",{"className":"token","style":{"color":"#111b27"},"children":["]"]}],["$","span","code-segement152",{"className":"token","style":{"color":"#111b27"},"children":[";"]}],["$","span","code-segement153",{"className":"$undefined","style":{},"children":["\\n"]}],"\\n",["$","span","code-segement155",{"className":"$undefined","style":{},"children":["      ctx"]}],["$","span","code-segement156",{"className":"token","style":{"color":"#111b27"},"children":["."]}],["$","span","code-segement157",{"className":"token method","style":{"color":"#005a8e"},"children":["drawImage"]}],["$","span","code-segement158",{"className":"token","style":{"color":"#111b27"},"children":["("]}],["$","span","code-segement159",{"className":"$undefined","style":{},"children":["img"]}],["$","span","code-segement160",{"className":"token","style":{"color":"#111b27"},"children":[","]}],["$","span","code-segement161",{"className":"$undefined","style":{},"children":[" "]}],["$","span","code-segement162",{"className":"token","style":{"color":"#755f00"},"children":["0"]}],["$","span","code-segement163",{"className":"token","style":{"color":"#111b27"},"children":[","]}],["$","span","code-segement164",{"className":"$undefined","style":{},"children":[" "]}],["$","span","code-segement165",{"className":"token","style":{"color":"#755f00"},"children":["0"]}],["$","span","code-segement166",{"className":"token","style":{"color":"#111b27"},"children":[","]}],["$","span","code-segement167",{"className":"$undefined","style":{},"children":[" inputImageShape"]}],["$","span","code-segement168",{"className":"token","style":{"color":"#111b27"},"children":["["]}],["$","span","code-segement169",{"className":"token","style":{"color":"#755f00"},"children":["0"]}],["$","span","code-segement170",{"className":"token","style":{"color":"#111b27"},"children":["]"]}],["$","span","code-segement171",{"className":"token","style":{"color":"#111b27"},"children":[","]}],["$","span","code-segement172",{"className":"$undefined","style":{},"children":[" inputImageShape"]}],["$","span","code-segement173",{"className":"token","style":{"color":"#111b27"},"children":["["]}],["$","span","code-segement174",{"className":"token","style":{"color":"#755f00"},"children":["1"]}],["$","span","code-segement175",{"className":"token","style":{"color":"#111b27"},"children":["]"]}],["$","span","code-segement176",{"className":"token","style":{"color":"#111b27"},"children":[")"]}],["$","span","code-segement177",{"className":"token","style":{"color":"#111b27"},"children":[";"]}],["$","span","code-segement178",{"className":"$undefined","style":{},"children":["\\n"]}],"\\n",["$","span","code-segement180",{"className":"$undefined","style":{},"children":["      "]}],["$","span","code-segement181",{"className":"token","style":{"color":"#a04900"},"children":["const"]}],["$","span","code-segement182",{"className":"$undefined","style":{},"children":[" imageData "]}],["$","span","code-segement183",{"className":"token","style":{"color":"#a04900"},"children":["="]}],["$","span","code-segement184",{"className":"$undefined","style":{},"children":[" ctx"]}],["$","span","code-segement185",{"className":"token","style":{"color":"#111b27"},"children":["."]}],["$","span","code-segement186",{"className":"token method","style":{"color":"#005a8e"},"children":["getImageData"]}],["$","span","code-segement187",{"className":"token","style":{"color":"#111b27"},"children":["("]}],["$","span","code-segement188",{"className":"token","style":{"color":"#755f00"},"children":["0"]}],["$","span","code-segement189",{"className":"token","style":{"color":"#111b27"},"children":[","]}],["$","span","code-segement190",{"className":"$undefined","style":{},"children":[" "]}],["$","span","code-segement191",{"className":"token","style":{"color":"#755f00"},"children":["0"]}],["$","span","code-segement192",{"className":"token","style":{"color":"#111b27"},"children":[","]}],["$","span","code-segement193",{"className":"$undefined","style":{},"children":[" inputImageShape"]}],["$","span","code-segement194",{"className":"token","style":{"color":"#111b27"},"children":["["]}],["$","span","code-segement195",{"className":"token","style":{"color":"#755f00"},"children":["0"]}],["$","span","code-segement196",{"className":"token","style":{"color":"#111b27"},"children":["]"]}],["$","span","code-segement197",{"className":"token","style":{"color":"#111b27"},"children":[","]}],["$","span","code-segement198",{"className":"$undefined","style":{},"children":[" inputImageShape"]}],["$","span","code-segement199",{"className":"token","style":{"color":"#111b27"},"children":["["]}],["$","span","code-segement200",{"className":"token","style":{"color":"#755f00"},"children":["1"]}],["$","span","code-segement201",{"className":"token","style":{"color":"#111b27"},"children":["]"]}],["$","span","code-segement202",{"className":"token","style":{"color":"#111b27"},"children":[")"]}],["$","span","code-segement203",{"className":"token","style":{"color":"#111b27"},"children":[";"]}],["$","span","code-segement204",{"className":"$undefined","style":{},"children":["\\n"]}],["$","span","code-segement205",{"className":"$undefined","style":{},"children":["      "]}],["$","span","code-segement206",{"className":"token","style":{"color":"#a04900"},"children":["const"]}],["$","span","code-segement207",{"className":"$undefined","style":{},"children":[" imageArray "]}],["$","span","code-segement208",{"className":"token","style":{"color":"#a04900"},"children":["="]}],["$","span","code-segement209",{"className":"$undefined","style":{},"children":[" imageData"]}],["$","span","code-segement210",{"className":"token","style":{"color":"#111b27"},"children":["."]}],["$","span","code-segement211",{"className":"token","style":{"color":"#005a8e"},"children":["data"]}],["$","span","code-segement212",{"className":"token","style":{"color":"#111b27"},"children":[";"]}],["$","span","code-segement213",{"className":"$undefined","style":{},"children":["\\n"]}],["$","span","code-segement214",{"className":"$undefined","style":{},"children":["      "]}],["$","span","code-segement215",{"className":"token","style":{"color":"#3c526d"},"children":["// r(1, 1), g(1, 1), b(1, 1), a(1, 1), r(2, 1), g(2, 1), b(2, 1), a(2, 1), ..."]}],["$","span","code-segement216",{"className":"$undefined","style":{},"children":["\\n"]}],"\\n",["$","span","code-segement218",{"className":"$undefined","style":{},"children":["      "]}],["$","span","code-segement219",{"className":"token","style":{"color":"#a04900"},"children":["const"]}],["$","span","code-segement220",{"className":"$undefined","style":{},"children":[" alphaChannelOnlyImageData "]}],["$","span","code-segement221",{"className":"token","style":{"color":"#a04900"},"children":["="]}],["$","span","code-segement222",{"className":"$undefined","style":{},"children":[" "]}],["$","span","code-segement223",{"className":"token","style":{"color":"#a04900"},"children":["new"]}],["$","span","code-segement224",{"className":"$undefined","style":{},"children":[" "]}],["$","span","code-segement225",{"className":"token","style":{"color":"#005a8e"},"children":["ImageData"]}],["$","span","code-segement226",{"className":"token","style":{"color":"#111b27"},"children":["("]}],["$","span","code-segement227",{"className":"$undefined","style":{},"children":["\\n"]}],["$","span","code-segement228",{"className":"$undefined","style":{},"children":["        "]}],["$","span","code-segement229",{"className":"token","style":{"color":"#a04900"},"children":["new"]}],["$","span","code-segement230",{"className":"$undefined","style":{},"children":[" "]}],["$","span","code-segement231",{"className":"token","style":{"color":"#005a8e"},"children":["Uint8ClampedArray"]}],["$","span","code-segement232",{"className":"token","style":{"color":"#111b27"},"children":["("]}],["$","span","code-segement233",{"className":"$undefined","style":{},"children":["imageArray"]}],["$","span","code-segement234",{"className":"token","style":{"color":"#111b27"},"children":["."]}],["$","span","code-segement235",{"className":"token","style":{"color":"#005a8e"},"children":["length"]}],["$","span","code-segement236",{"className":"token","style":{"color":"#111b27"},"children":[")"]}],["$","span","code-segement237",{"className":"token","style":{"color":"#111b27"},"children":[","]}],["$","span","code-segement238",{"className":"$undefined","style":{},"children":["\\n"]}],["$","span","code-segement239",{"className":"$undefined","style":{},"children":["        inputImageShape"]}],["$","span","code-segement240",{"className":"token","style":{"color":"#111b27"},"children":["["]}],["$","span","code-segement241",{"className":"token","style":{"color":"#755f00"},"children":["0"]}],["$","span","code-segement242",{"className":"token","style":{"color":"#111b27"},"children":["]"]}],["$","span","code-segement243",{"className":"token","style":{"color":"#111b27"},"children":[","]}],["$","span","code-segement244",{"className":"$undefined","style":{},"children":["\\n"]}],["$","span","code-segement245",{"className":"$undefined","style":{},"children":["        inputImageShape"]}],["$","span","code-segement246",{"className":"token","style":{"color":"#111b27"},"children":["["]}],["$","span","code-segement247",{"className":"token","style":{"color":"#755f00"},"children":["1"]}],["$","span","code-segement248",{"className":"token","style":{"color":"#111b27"},"children":["]"]}],["$","span","code-segement249",{"className":"$undefined","style":{},"children":["\\n"]}],["$","span","code-segement250",{"className":"$undefined","style":{},"children":["      "]}],["$","span","code-segement251",{"className":"token","style":{"color":"#111b27"},"children":[")"]}],["$","span","code-segement252",{"className":"token","style":{"color":"#111b27"},"children":[";"]}],["$","span","code-segement253",{"className":"$undefined","style":{},"children":["\\n"]}],"\\n",["$","span","code-segement255",{"className":"$undefined","style":{},"children":["      "]}],["$","span","code-segement256",{"className":"token control-flow","style":{"color":"#a04900"},"children":["for"]}],["$","span","code-segement257",{"className":"$undefined","style":{},"children":[" "]}],["$","span","code-segement258",{"className":"token","style":{"color":"#111b27"},"children":["("]}],["$","span","code-segement259",{"className":"token","style":{"color":"#a04900"},"children":["let"]}],["$","span","code-segement260",{"className":"$undefined","style":{},"children":[" i "]}],["$","span","code-segement261",{"className":"token","style":{"color":"#a04900"},"children":["="]}],["$","span","code-segement262",{"className":"$undefined","style":{},"children":[" "]}],["$","span","code-segement263",{"className":"token","style":{"color":"#755f00"},"children":["3"]}],["$","span","code-segement264",{"className":"token","style":{"color":"#111b27"},"children":[";"]}],["$","span","code-segement265",{"className":"$undefined","style":{},"children":[" i "]}],["$","span","code-segement266",{"className":"token","style":{"color":"#a04900"},"children":["\u003c"]}],["$","span","code-segement267",{"className":"$undefined","style":{},"children":[" imageArray"]}],["$","span","code-segement268",{"className":"token","style":{"color":"#111b27"},"children":["."]}],["$","span","code-segement269",{"className":"token","style":{"color":"#005a8e"},"children":["length"]}],["$","span","code-segement270",{"className":"token","style":{"color":"#111b27"},"children":[";"]}],["$","span","code-segement271",{"className":"$undefined","style":{},"children":[" i "]}],["$","span","code-segement272",{"className":"token","style":{"color":"#a04900"},"children":["+="]}],["$","span","code-segement273",{"className":"$undefined","style":{},"children":[" "]}],["$","span","code-segement274",{"className":"token","style":{"color":"#755f00"},"children":["4"]}],["$","span","code-segement275",{"className":"token","style":{"color":"#111b27"},"children":[")"]}],["$","span","code-segement276",{"className":"$undefined","style":{},"children":[" "]}],["$","span","code-segement277",{"className":"token","style":{"color":"#111b27"},"children":["{"]}],["$","span","code-segement278",{"className":"$undefined","style":{},"children":["\\n"]}],["$","span","code-segement279",{"className":"$undefined","style":{},"children":["        alphaChannelOnlyImageData"]}],["$","span","code-segement280",{"className":"token","style":{"color":"#111b27"},"children":["."]}],["$","span","code-segement281",{"className":"token","style":{"color":"#005a8e"},"children":["data"]}],["$","span","code-segement282",{"className":"token","style":{"color":"#111b27"},"children":["["]}],["$","span","code-segement283",{"className":"$undefined","style":{},"children":["i"]}],["$","span","code-segement284",{"className":"token","style":{"color":"#111b27"},"children":["]"]}],["$","span","code-segement285",{"className":"$undefined","style":{},"children":[" "]}],["$","span","code-segement286",{"className":"token","style":{"color":"#a04900"},"children":["="]}],["$","span","code-segement287",{"className":"$undefined","style":{},"children":[" "]}],["$","span","code-segement288",{"className":"token","style":{"color":"#755f00"},"children":["255"]}],["$","span","code-segement289",{"className":"token","style":{"color":"#111b27"},"children":[";"]}],["$","span","code-segement290",{"className":"$undefined","style":{},"children":["\\n"]}],["$","span","code-segement291",{"className":"$undefined","style":{},"children":["        alphaChannelOnlyImageData"]}],["$","span","code-segement292",{"className":"token","style":{"color":"#111b27"},"children":["."]}],["$","span","code-segement293",{"className":"token","style":{"color":"#005a8e"},"children":["data"]}],["$","span","code-segement294",{"className":"token","style":{"color":"#111b27"},"children":["["]}],["$","span","code-segement295",{"className":"$undefined","style":{},"children":["i "]}],["$","span","code-segement296",{"className":"token","style":{"color":"#a04900"},"children":["-"]}],["$","span","code-segement297",{"className":"$undefined","style":{},"children":[" "]}],["$","span","code-segement298",{"className":"token","style":{"color":"#755f00"},"children":["1"]}],["$","span","code-segement299",{"className":"token","style":{"color":"#111b27"},"children":["]"]}],["$","span","code-segement300",{"className":"$undefined","style":{},"children":[" "]}],["$","span","code-segement301",{"className":"token","style":{"color":"#a04900"},"children":["="]}],["$","span","code-segement302",{"className":"$undefined","style":{},"children":[" imageArray"]}],["$","span","code-segement303",{"className":"token","style":{"color":"#111b27"},"children":["["]}],["$","span","code-segement304",{"className":"$undefined","style":{},"children":["i"]}],["$","span","code-segement305",{"className":"token","style":{"color":"#111b27"},"children":["]"]}],["$","span","code-segement306",{"className":"token","style":{"color":"#111b27"},"children":[";"]}],["$","span","code-segement307",{"className":"$undefined","style":{},"children":["\\n"]}],["$","span","code-segement308",{"className":"$undefined","style":{},"children":["        alphaChannelOnlyImageData"]}],["$","span","code-segement309",{"className":"token","style":{"color":"#111b27"},"children":["."]}],["$","span","code-segement310",{"className":"token","style":{"color":"#005a8e"},"children":["data"]}],["$","span","code-segement311",{"className":"token","style":{"color":"#111b27"},"children":["["]}],["$","span","code-segement312",{"className":"$undefined","style":{},"children":["i "]}],["$","span","code-segement313",{"className":"token","style":{"color":"#a04900"},"children":["-"]}],["$","span","code-segement314",{"className":"$undefined","style":{},"children":[" "]}],["$","span","code-segement315",{"className":"token","style":{"color":"#755f00"},"children":["2"]}],["$","span","code-segement316",{"className":"token","style":{"color":"#111b27"},"children":["]"]}],["$","span","code-segement317",{"className":"$undefined","style":{},"children":[" "]}],["$","span","code-segement318",{"className":"token","style":{"color":"#a04900"},"children":["="]}],["$","span","code-segement319",{"className":"$undefined","style":{},"children":[" imageArray"]}],["$","span","code-segement320",{"className":"token","style":{"color":"#111b27"},"children":["["]}],["$","span","code-segement321",{"className":"$undefined","style":{},"children":["i"]}],["$","span","code-segement322",{"className":"token","style":{"color":"#111b27"},"children":["]"]}],["$","span","code-segement323",{"className":"token","style":{"color":"#111b27"},"children":[";"]}],["$","span","code-segement324",{"className":"$undefined","style":{},"children":["\\n"]}],["$","span","code-segement325",{"className":"$undefined","style":{},"children":["        alphaChannelOnlyImageData"]}],["$","span","code-segement326",{"className":"token","style":{"color":"#111b27"},"children":["."]}],["$","span","code-segement327",{"className":"token","style":{"color":"#005a8e"},"children":["data"]}],["$","span","code-segement328",{"className":"token","style":{"color":"#111b27"},"children":["["]}],["$","span","code-segement329",{"className":"$undefined","style":{},"children":["i "]}],["$","span","code-segement330",{"className":"token","style":{"color":"#a04900"},"children":["-"]}],["$","span","code-segement331",{"className":"$undefined","style":{},"children":[" "]}],["$","span","code-segement332",{"className":"token","style":{"color":"#755f00"},"children":["3"]}],["$","span","code-segement333",{"className":"token","style":{"color":"#111b27"},"children":["]"]}],["$","span","code-segement334",{"className":"$undefined","style":{},"children":[" "]}],["$","span","code-segement335",{"className":"token","style":{"color":"#a04900"},"children":["="]}],["$","span","code-segement336",{"className":"$undefined","style":{},"children":[" imageArray"]}],["$","span","code-segement337",{"className":"token","style":{"color":"#111b27"},"children":["["]}],["$","span","code-segement338",{"className":"$undefined","style":{},"children":["i"]}],["$","span","code-segement339",{"className":"token","style":{"color":"#111b27"},"children":["]"]}],["$","span","code-segement340",{"className":"token","style":{"color":"#111b27"},"children":[";"]}],["$","span","code-segement341",{"className":"$undefined","style":{},"children":["\\n"]}],["$","span","code-segement342",{"className":"$undefined","style":{},"children":["      "]}],["$","span","code-segement343",{"className":"token","style":{"color":"#111b27"},"children":["}"]}],["$","span","code-segement344",{"className":"$undefined","style":{},"children":["\\n"]}],"\\n",["$","span","code-segement346",{"className":"$undefined","style":{},"children":["      ctx"]}],["$","span","code-segement347",{"className":"token","style":{"color":"#111b27"},"children":["."]}],["$","span","code-segement348",{"className":"token method","style":{"color":"#005a8e"},"children":["putImageData"]}],["$","span","code-segement349",{"className":"token","style":{"color":"#111b27"},"children":["("]}],["$","span","code-segement350",{"className":"$undefined","style":{},"children":["alphaChannelOnlyImageData"]}],["$","span","code-segement351",{"className":"token","style":{"color":"#111b27"},"children":[","]}],["$","span","code-segement352",{"className":"$undefined","style":{},"children":[" "]}],["$","span","code-segement353",{"className":"token","style":{"color":"#755f00"},"children":["0"]}],["$","span","code-segement354",{"className":"token","style":{"color":"#111b27"},"children":[","]}],["$","span","code-segement355",{"className":"$undefined","style":{},"children":[" "]}],["$","span","code-segement356",{"className":"token","style":{"color":"#755f00"},"children":["0"]}],["$","span","code-segement357",{"className":"token","style":{"color":"#111b27"},"children":[")"]}],["$","span","code-segement358",{"className":"token","style":{"color":"#111b27"},"children":[";"]}],["$","span","code-segement359",{"className":"$undefined","style":{},"children":[" "]}],["$","span","code-segement360",{"className":"token","style":{"color":"#3c526d"},"children":["// Debug only"]}],["$","span","code-segement361",{"className":"$undefined","style":{},"children":["\\n"]}],"\\n",["$","span","code-segement363",{"className":"$undefined","style":{},"children":["      "]}],["$","span","code-segement364",{"className":"token","style":{"color":"#a04900"},"children":["const"]}],["$","span","code-segement365",{"className":"$undefined","style":{},"children":[" imageUint8Array "]}],["$","span","code-segement366",{"className":"token","style":{"color":"#a04900"},"children":["="]}],["$","span","code-segement367",{"className":"$undefined","style":{},"children":[" "]}],["$","span","code-segement368",{"className":"token","style":{"color":"#a04900"},"children":["new"]}],["$","span","code-segement369",{"className":"$undefined","style":{},"children":[" "]}],["$","span","code-segement370",{"className":"token","style":{"color":"#005a8e"},"children":["Uint8Array"]}],["$","span","code-segement371",{"className":"token","style":{"color":"#111b27"},"children":["("]}],["$","span","code-segement372",{"className":"$undefined","style":{},"children":["alphaChannelOnlyImageData"]}],["$","span","code-segement373",{"className":"token","style":{"color":"#111b27"},"children":["."]}],["$","span","code-segement374",{"className":"token","style":{"color":"#005a8e"},"children":["data"]}],["$","span","code-segement375",{"className":"token","style":{"color":"#111b27"},"children":["."]}],["$","span","code-segement376",{"className":"token","style":{"color":"#005a8e"},"children":["length"]}],["$","span","code-segement377",{"className":"$undefined","style":{},"children":[" "]}],["$","span","code-segement378",{"className":"token","style":{"color":"#a04900"},"children":["/"]}],["$","span","code-segement379",{"className":"$undefined","style":{},"children":[" "]}],["$","span","code-segement380",{"className":"token","style":{"color":"#755f00"},"children":["4"]}],["$","span","code-segement381",{"className":"token","style":{"color":"#111b27"},"children":[")"]}],["$","span","code-segement382",{"className":"token","style":{"color":"#111b27"},"children":[";"]}],["$","span","code-segement383",{"className":"$undefined","style":{},"children":["\\n"]}],"\\n",["$","span","code-segement385",{"className":"$undefined","style":{},"children":["      "]}],["$","span","code-segement386",{"className":"token","style":{"color":"#3c526d"},"children":["// Take any one channel R, G, or B"]}],["$","span","code-segement387",{"className":"$undefined","style":{},"children":["\\n"]}],["$","span","code-segement388",{"className":"$undefined","style":{},"children":["      "]}],["$","span","code-segement389",{"className":"token control-flow","style":{"color":"#a04900"},"children":["for"]}],["$","span","code-segement390",{"className":"$undefined","style":{},"children":[" "]}],["$","span","code-segement391",{"className":"token","style":{"color":"#111b27"},"children":["("]}],["$","span","code-segement392",{"className":"token","style":{"color":"#a04900"},"children":["let"]}],["$","span","code-segement393",{"className":"$undefined","style":{},"children":[" i "]}],["$","span","code-segement394",{"className":"token","style":{"color":"#a04900"},"children":["="]}],["$","span","code-segement395",{"className":"$undefined","style":{},"children":[" "]}],["$","span","code-segement396",{"className":"token","style":{"color":"#755f00"},"children":["0"]}],["$","span","code-segement397",{"className":"token","style":{"color":"#111b27"},"children":[";"]}],["$","span","code-segement398",{"className":"$undefined","style":{},"children":[" i "]}],["$","span","code-segement399",{"className":"token","style":{"color":"#a04900"},"children":["\u003c"]}],["$","span","code-segement400",{"className":"$undefined","style":{},"children":[" alphaChannelOnlyImageData"]}],["$","span","code-segement401",{"className":"token","style":{"color":"#111b27"},"children":["."]}],["$","span","code-segement402",{"className":"token","style":{"color":"#005a8e"},"children":["data"]}],["$","span","code-segement403",{"className":"token","style":{"color":"#111b27"},"children":["."]}],["$","span","code-segement404",{"className":"token","style":{"color":"#005a8e"},"children":["length"]}],["$","span","code-segement405",{"className":"token","style":{"color":"#111b27"},"children":[";"]}],["$","span","code-segement406",{"className":"$undefined","style":{},"children":[" i "]}],["$","span","code-segement407",{"className":"token","style":{"color":"#a04900"},"children":["+="]}],["$","span","code-segement408",{"className":"$undefined","style":{},"children":[" "]}],["$","span","code-segement409",{"className":"token","style":{"color":"#755f00"},"children":["4"]}],["$","span","code-segement410",{"className":"token","style":{"color":"#111b27"},"children":[")"]}],["$","span","code-segement411",{"className":"$undefined","style":{},"children":[" "]}],["$","span","code-segement412",{"className":"token","style":{"color":"#111b27"},"children":["{"]}],["$","span","code-segement413",{"className":"$undefined","style":{},"children":["\\n"]}],["$","span","code-segement414",{"className":"$undefined","style":{},"children":["        imageUint8Array"]}],["$","span","code-segement415",{"className":"token","style":{"color":"#111b27"},"children":["["]}],["$","span","code-segement416",{"className":"$undefined","style":{},"children":["i "]}],["$","span","code-segement417",{"className":"token","style":{"color":"#a04900"},"children":["/"]}],["$","span","code-segement418",{"className":"$undefined","style":{},"children":[" "]}],["$","span","code-segement419",{"className":"token","style":{"color":"#755f00"},"children":["4"]}],["$","span","code-segement420",{"className":"token","style":{"color":"#111b27"},"children":["]"]}],["$","span","code-segement421",{"className":"$undefined","style":{},"children":[" "]}],["$","span","code-segement422",{"className":"token","style":{"color":"#a04900"},"children":["="]}],["$","span","code-segement423",{"className":"$undefined","style":{},"children":[" alphaChannelOnlyImageData"]}],["$","span","code-segement424",{"className":"token","style":{"color":"#111b27"},"children":["."]}],["$","span","code-segement425",{"className":"token","style":{"color":"#005a8e"},"children":["data"]}],["$","span","code-segement426",{"className":"token","style":{"color":"#111b27"},"children":["["]}],["$","span","code-segement427",{"className":"$undefined","style":{},"children":["i"]}],["$","span","code-segement428",{"className":"token","style":{"color":"#111b27"},"children":["]"]}],["$","span","code-segement429",{"className":"token","style":{"color":"#111b27"},"children":[";"]}],["$","span","code-segement430",{"className":"$undefined","style":{},"children":["\\n"]}],["$","span","code-segement431",{"className":"$undefined","style":{},"children":["      "]}],["$","span","code-segement432",{"className":"token","style":{"color":"#111b27"},"children":["}"]}],["$","span","code-segement433",{"className":"$undefined","style":{},"children":["\\n"]}],"\\n",["$","span","code-segement435",{"className":"$undefined","style":{},"children":["      "]}],["$","span","code-segement436",{"className":"token","style":{"color":"#7c00aa"},"children":["resolve"]}],["$","span","code-segement437",{"className":"token","style":{"color":"#111b27"},"children":["("]}],["$","span","code-segement438",{"className":"$undefined","style":{},"children":["imageUint8Array"]}],["$","span","code-segement439",{"className":"token","style":{"color":"#111b27"},"children":[")"]}],["$","span","code-segement440",{"className":"token","style":{"color":"#111b27"},"children":[";"]}],["$","span","code-segement441",{"className":"$undefined","style":{},"children":["\\n"]}],["$","span","code-segement442",{"className":"$undefined","style":{},"children":["    "]}],["$","span","code-segement443",{"className":"token","style":{"color":"#111b27"},"children":["}"]}],["$","span","code-segement444",{"className":"token","style":{"color":"#111b27"},"children":[";"]}],["$","span","code-segement445",{"className":"$undefined","style":{},"children":["\\n"]}],"\\n",["$","span","code-segement447",{"className":"$undefined","style":{},"children":["    img"]}],["$","span","code-segement448",{"className":"token","style":{"color":"#111b27"},"children":["."]}],["$","span","code-segement449",{"className":"token method-variable function-variable method","style":{"color":"#7c00aa"},"children":["onerror"]}],["$","span","code-segement450",{"className":"$undefined","style":{},"children":[" "]}],["$","span","code-segement451",{"className":"token","style":{"color":"#a04900"},"children":["="]}],["$","span","code-segement452",{"className":"$undefined","style":{},"children":[" "]}],["$","span","code-segement453",{"className":"token","style":{"color":"#111b27"},"children":["("]}],["$","span","code-segement454",{"className":"token","style":{"color":"#005a8e"},"children":["error"]}],["$","span","code-segement455",{"className":"token","style":{"color":"#111b27"},"children":[")"]}],["$","span","code-segement456",{"className":"$undefined","style":{},"children":[" "]}],["$","span","code-segement457",{"className":"token arrow","style":{"color":"#a04900"},"children":["=\u003e"]}],["$","span","code-segement458",{"className":"$undefined","style":{},"children":[" "]}],["$","span","code-segement459",{"className":"token","style":{"color":"#111b27"},"children":["{"]}],["$","span","code-segement460",{"className":"$undefined","style":{},"children":["\\n"]}],["$","span","code-segement461",{"className":"$undefined","style":{},"children":["      "]}],["$","span","code-segement462",{"className":"token","style":{"color":"#7c00aa"},"children":["reject"]}],["$","span","code-segement463",{"className":"token","style":{"color":"#111b27"},"children":["("]}],["$","span","code-segement464",{"className":"$undefined","style":{},"children":["error"]}],["$","span","code-segement465",{"className":"token","style":{"color":"#111b27"},"children":[")"]}],["$","span","code-segement466",{"className":"token","style":{"color":"#111b27"},"children":[";"]}],["$","span","code-segement467",{"className":"$undefined","style":{},"children":["\\n"]}],["$","span","code-segement468",{"className":"$undefined","style":{},"children":["    "]}],["$","span","code-segement469",{"className":"token","style":{"color":"#111b27"},"children":["}"]}],["$","span","code-segement470",{"className":"token","style":{"color":"#111b27"},"children":[";"]}],["$","span","code-segement471",{"className":"$undefined","style":{},"children":["\\n"]}],["$","span","code-segement472",{"className":"$undefined","style":{},"children":["  "]}],["$","span","code-segement473",{"className":"token","style":{"color":"#111b27"},"children":["}"]}],["$","span","code-segement474",{"className":"token","style":{"color":"#111b27"},"children":[")"]}],["$","span","code-segement475",{"className":"token","style":{"color":"#111b27"},"children":[";"]}],["$","span","code-segement476",{"className":"$undefined","style":{},"children":["\\n"]}],["$","span","code-segement477",{"className":"$undefined","style":{},"children":[""]}],["$","span","code-segement478",{"className":"token","style":{"color":"#111b27"},"children":["}"]}]]]}]}]]}],["$","$Le","42",{"variant":"p","component":"p","sx":{"textAlign":"justify","marginBottom":2},"children":["$undefined","Okay, so we create a canvas in the Home component called ",["$","$Lc","42-text-italics",{"component":"span","sx":{"paddingLeft":0.5,"paddingRight":0.5,"borderRadius":1,"backgroundColor":"rgb(227, 234, 242)"},"children":"tempCanvas"}],", let\'s put it to some use. In our function, we get this canvas and its context. We then create a new image with the given data URI. When this image loads, we resize it to 28x28 and extract the alpha channel. But why the alpha channel? The image that we draw in the browser is black on white. But, for Konva, the image is a black stroke on a transparent background i.e. all R, G, and B channels are 0 everywhere and the alpha channel is 255 wherever there is a stroke. So, after we draw the image on ",["$","$Lc","42-text-italics",{"component":"span","sx":{"paddingLeft":0.5,"paddingRight":0.5,"borderRadius":1,"backgroundColor":"rgb(227, 234, 242)"},"children":"tempCanvas"}]," to resize it, we extract the alpha channel from the image data and draw it on the same canvas again for debugging. For creating the tensor that would be passed to the model, we take any one channel (R, G, or B) from the image and construct a 28x28 matrix of Uint8."]}],["$","$Le","43",{"variant":"p","component":"p","sx":{"textAlign":"justify","marginBottom":2},"children":["$undefined","Right. But this 28x28 matrix is Uint 8, the values aren\'t normalized and they are not floats. That brings us to our second function:"]}],["$","$Lc",null,{"sx":{"width":"100%","marginBottom":2},"children":[["$","$L1c",null,{"contentToCopy":"function imageArrayToTensor(imageUint8Array) {\\n  let tensorValues = new Float32Array(imageUint8Array.length);\\n\\n  for (let i = 0; i \u003c imageUint8Array.length; i++) {\\n    tensorValues[i] = imageUint8Array[i] / 255;\\n  }\\n\\n  const imageTensor = new ort.Tensor(\\"float32\\", tensorValues, inputShape);\\n  return imageTensor;\\n}"}],["$","pre",null,{"style":{"color":"#111b27","background":"#e3eaf2","fontFamily":"Consolas, Monaco, \\"Andale Mono\\", \\"Ubuntu Mono\\", monospace","textAlign":"left","whiteSpace":"pre","wordSpacing":"normal","wordBreak":"normal","wordWrap":"normal","lineHeight":"1.5","MozTabSize":"4","OTabSize":"4","tabSize":"4","WebkitHyphens":"none","MozHyphens":"none","msHyphens":"none","hyphens":"none","padding":"1em","margin":0,"overflow":"auto"},"children":["$","code",null,{"className":"language-javascript","style":{"color":"#111b27","background":"none","fontFamily":"Consolas, Monaco, \\"Andale Mono\\", \\"Ubuntu Mono\\", monospace","textAlign":"left","whiteSpace":"pre","wordSpacing":"normal","wordBreak":"normal","wordWrap":"normal","lineHeight":"1.5","MozTabSize":"4","OTabSize":"4","tabSize":"4","WebkitHyphens":"none","MozHyphens":"none","msHyphens":"none","hyphens":"none"},"children":[false,[["$","span","code-segement0",{"className":"token","style":{"color":"#a04900"},"children":["function"]}],["$","span","code-segement1",{"className":"$undefined","style":{},"children":[" "]}],["$","span","code-segement2",{"className":"token","style":{"color":"#7c00aa"},"children":["imageArrayToTensor"]}],["$","span","code-segement3",{"className":"token","style":{"color":"#111b27"},"children":["("]}],["$","span","code-segement4",{"className":"token","style":{"color":"#005a8e"},"children":["imageUint8Array"]}],["$","span","code-segement5",{"className":"token","style":{"color":"#111b27"},"children":[")"]}],["$","span","code-segement6",{"className":"$undefined","style":{},"children":[" "]}],["$","span","code-segement7",{"className":"token","style":{"color":"#111b27"},"children":["{"]}],["$","span","code-segement8",{"className":"$undefined","style":{},"children":["\\n"]}],["$","span","code-segement9",{"className":"$undefined","style":{},"children":["  "]}],["$","span","code-segement10",{"className":"token","style":{"color":"#a04900"},"children":["let"]}],["$","span","code-segement11",{"className":"$undefined","style":{},"children":[" tensorValues "]}],["$","span","code-segement12",{"className":"token","style":{"color":"#a04900"},"children":["="]}],["$","span","code-segement13",{"className":"$undefined","style":{},"children":[" "]}],["$","span","code-segement14",{"className":"token","style":{"color":"#a04900"},"children":["new"]}],["$","span","code-segement15",{"className":"$undefined","style":{},"children":[" "]}],["$","span","code-segement16",{"className":"token","style":{"color":"#005a8e"},"children":["Float32Array"]}],["$","span","code-segement17",{"className":"token","style":{"color":"#111b27"},"children":["("]}],["$","span","code-segement18",{"className":"$undefined","style":{},"children":["imageUint8Array"]}],["$","span","code-segement19",{"className":"token","style":{"color":"#111b27"},"children":["."]}],["$","span","code-segement20",{"className":"token","style":{"color":"#005a8e"},"children":["length"]}],["$","span","code-segement21",{"className":"token","style":{"color":"#111b27"},"children":[")"]}],["$","span","code-segement22",{"className":"token","style":{"color":"#111b27"},"children":[";"]}],["$","span","code-segement23",{"className":"$undefined","style":{},"children":["\\n"]}],"\\n",["$","span","code-segement25",{"className":"$undefined","style":{},"children":["  "]}],["$","span","code-segement26",{"className":"token control-flow","style":{"color":"#a04900"},"children":["for"]}],["$","span","code-segement27",{"className":"$undefined","style":{},"children":[" "]}],["$","span","code-segement28",{"className":"token","style":{"color":"#111b27"},"children":["("]}],["$","span","code-segement29",{"className":"token","style":{"color":"#a04900"},"children":["let"]}],["$","span","code-segement30",{"className":"$undefined","style":{},"children":[" i "]}],["$","span","code-segement31",{"className":"token","style":{"color":"#a04900"},"children":["="]}],["$","span","code-segement32",{"className":"$undefined","style":{},"children":[" "]}],["$","span","code-segement33",{"className":"token","style":{"color":"#755f00"},"children":["0"]}],["$","span","code-segement34",{"className":"token","style":{"color":"#111b27"},"children":[";"]}],["$","span","code-segement35",{"className":"$undefined","style":{},"children":[" i "]}],["$","span","code-segement36",{"className":"token","style":{"color":"#a04900"},"children":["\u003c"]}],["$","span","code-segement37",{"className":"$undefined","style":{},"children":[" imageUint8Array"]}],["$","span","code-segement38",{"className":"token","style":{"color":"#111b27"},"children":["."]}],["$","span","code-segement39",{"className":"token","style":{"color":"#005a8e"},"children":["length"]}],["$","span","code-segement40",{"className":"token","style":{"color":"#111b27"},"children":[";"]}],["$","span","code-segement41",{"className":"$undefined","style":{},"children":[" i"]}],["$","span","code-segement42",{"className":"token","style":{"color":"#a04900"},"children":["++"]}],["$","span","code-segement43",{"className":"token","style":{"color":"#111b27"},"children":[")"]}],["$","span","code-segement44",{"className":"$undefined","style":{},"children":[" "]}],["$","span","code-segement45",{"className":"token","style":{"color":"#111b27"},"children":["{"]}],["$","span","code-segement46",{"className":"$undefined","style":{},"children":["\\n"]}],["$","span","code-segement47",{"className":"$undefined","style":{},"children":["    tensorValues"]}],["$","span","code-segement48",{"className":"token","style":{"color":"#111b27"},"children":["["]}],["$","span","code-segement49",{"className":"$undefined","style":{},"children":["i"]}],["$","span","code-segement50",{"className":"token","style":{"color":"#111b27"},"children":["]"]}],["$","span","code-segement51",{"className":"$undefined","style":{},"children":[" "]}],["$","span","code-segement52",{"className":"token","style":{"color":"#a04900"},"children":["="]}],["$","span","code-segement53",{"className":"$undefined","style":{},"children":[" imageUint8Array"]}],["$","span","code-segement54",{"className":"token","style":{"color":"#111b27"},"children":["["]}],["$","span","code-segement55",{"className":"$undefined","style":{},"children":["i"]}],["$","span","code-segement56",{"className":"token","style":{"color":"#111b27"},"children":["]"]}],["$","span","code-segement57",{"className":"$undefined","style":{},"children":[" "]}],["$","span","code-segement58",{"className":"token","style":{"color":"#a04900"},"children":["/"]}],["$","span","code-segement59",{"className":"$undefined","style":{},"children":[" "]}],["$","span","code-segement60",{"className":"token","style":{"color":"#755f00"},"children":["255"]}],["$","span","code-segement61",{"className":"token","style":{"color":"#111b27"},"children":[";"]}],["$","span","code-segement62",{"className":"$undefined","style":{},"children":["\\n"]}],["$","span","code-segement63",{"className":"$undefined","style":{},"children":["  "]}],["$","span","code-segement64",{"className":"token","style":{"color":"#111b27"},"children":["}"]}],["$","span","code-segement65",{"className":"$undefined","style":{},"children":["\\n"]}],"\\n",["$","span","code-segement67",{"className":"$undefined","style":{},"children":["  "]}],["$","span","code-segement68",{"className":"token","style":{"color":"#a04900"},"children":["const"]}],["$","span","code-segement69",{"className":"$undefined","style":{},"children":[" imageTensor "]}],["$","span","code-segement70",{"className":"token","style":{"color":"#a04900"},"children":["="]}],["$","span","code-segement71",{"className":"$undefined","style":{},"children":[" "]}],["$","span","code-segement72",{"className":"token","style":{"color":"#a04900"},"children":["new"]}],["$","span","code-segement73",{"className":"$undefined","style":{},"children":[" "]}],["$","span","code-segement74",{"className":"token","style":{"color":"#005a8e"},"children":["ort"]}],["$","span","code-segement75",{"className":"token","style":{"color":"#111b27"},"children":["."]}],["$","span","code-segement76",{"className":"token","style":{"color":"#005a8e"},"children":["Tensor"]}],["$","span","code-segement77",{"className":"token","style":{"color":"#111b27"},"children":["("]}],["$","span","code-segement78",{"className":"token","style":{"color":"#116b00"},"children":["\\"float32\\""]}],["$","span","code-segement79",{"className":"token","style":{"color":"#111b27"},"children":[","]}],["$","span","code-segement80",{"className":"$undefined","style":{},"children":[" tensorValues"]}],["$","span","code-segement81",{"className":"token","style":{"color":"#111b27"},"children":[","]}],["$","span","code-segement82",{"className":"$undefined","style":{},"children":[" inputShape"]}],["$","span","code-segement83",{"className":"token","style":{"color":"#111b27"},"children":[")"]}],["$","span","code-segement84",{"className":"token","style":{"color":"#111b27"},"children":[";"]}],["$","span","code-segement85",{"className":"$undefined","style":{},"children":["\\n"]}],["$","span","code-segement86",{"className":"$undefined","style":{},"children":["  "]}],["$","span","code-segement87",{"className":"token control-flow","style":{"color":"#a04900"},"children":["return"]}],["$","span","code-segement88",{"className":"$undefined","style":{},"children":[" imageTensor"]}],["$","span","code-segement89",{"className":"token","style":{"color":"#111b27"},"children":[";"]}],["$","span","code-segement90",{"className":"$undefined","style":{},"children":["\\n"]}],["$","span","code-segement91",{"className":"$undefined","style":{},"children":[""]}],["$","span","code-segement92",{"className":"token","style":{"color":"#111b27"},"children":["}"]}]]]}]}]]}],["$","$Le","45",{"variant":"p","component":"p","sx":{"textAlign":"justify","marginBottom":2},"children":["$undefined","We create a ",["$","$Lc","45-text-italics",{"component":"span","sx":{"paddingLeft":0.5,"paddingRight":0.5,"borderRadius":1,"backgroundColor":"rgb(227, 234, 242)"},"children":"Float32Array"}]," of the same size as the input Uint8 array and set its values to that of the input array divided by 255 i.e. bringing the input values to the 0 to 1 range. Finally, we create an ",["$","$Lc","45-text-italics",{"component":"span","sx":{"paddingLeft":0.5,"paddingRight":0.5,"borderRadius":1,"backgroundColor":"rgb(227, 234, 242)"},"children":"ort.Tensor"}]," using these values of the required input shape (as we saw in the visualization) and return it."]}],["$","$Le","46",{"variant":"p","component":"p","sx":{"textAlign":"justify","marginBottom":2},"children":["$undefined","Here is the entire ",["$","$Lc","46-text-italics",{"component":"span","sx":{"paddingLeft":0.5,"paddingRight":0.5,"borderRadius":1,"backgroundColor":"rgb(227, 234, 242)"},"children":"src/inferencing/imageProcessing.js"}]," file"]}],["$","$Lc",null,{"sx":{"width":"100%","marginBottom":2},"children":[["$","$L1c",null,{"contentToCopy":"$1f"}],["$","pre",null,{"style":{"color":"#111b27","background":"#e3eaf2","fontFamily":"Consolas, Monaco, \\"Andale Mono\\", \\"Ubuntu Mono\\", monospace","textAlign":"left","whiteSpace":"pre","wordSpacing":"normal","wordBreak":"normal","wordWrap":"normal","lineHeight":"1.5","MozTabSize":"4","OTabSize":"4","tabSize":"4","WebkitHyphens":"none","MozHyphens":"none","msHyphens":"none","hyphens":"none","padding":"1em","margin":0,"overflow":"auto"},"children":["$","code",null,{"className":"language-javascript","style":{"color":"#111b27","background":"none","fontFamily":"Consolas, Monaco, \\"Andale Mono\\", \\"Ubuntu Mono\\", monospace","textAlign":"left","whiteSpace":"pre","wordSpacing":"normal","wordBreak":"normal","wordWrap":"normal","lineHeight":"1.5","MozTabSize":"4","OTabSize":"4","tabSize":"4","WebkitHyphens":"none","MozHyphens":"none","msHyphens":"none","hyphens":"none"},"children":[false,[["$","span","code-segement0",{"className":"token module","style":{"color":"#a04900"},"children":["import"]}],["$","span","code-segement1",{"className":"$undefined","style":{},"children":[" "]}],["$","span","code-segement2",{"className":"token imports","style":{},"children":["ort"]}],["$","span","code-segement3",{"className":"$undefined","style":{},"children":[" "]}],["$","span","code-segement4",{"className":"token module","style":{"color":"#a04900"},"children":["from"]}],["$","span","code-segement5",{"className":"$undefined","style":{},"children":[" "]}],["$","span","code-segement6",{"className":"token","style":{"color":"#116b00"},"children":["\\"onnxruntime-web\\""]}],["$","span","code-segement7",{"className":"token","style":{"color":"#111b27"},"children":[";"]}],["$","span","code-segement8",{"className":"$undefined","style":{},"children":["\\n"]}],"\\n",["$","span","code-segement10",{"className":"$undefined","style":{},"children":[""]}],["$","span","code-segement11",{"className":"token","style":{"color":"#a04900"},"children":["const"]}],["$","span","code-segement12",{"className":"$undefined","style":{},"children":[" inputImageShape "]}],["$","span","code-segement13",{"className":"token","style":{"color":"#a04900"},"children":["="]}],["$","span","code-segement14",{"className":"$undefined","style":{},"children":[" "]}],["$","span","code-segement15",{"className":"token","style":{"color":"#111b27"},"children":["["]}],["$","span","code-segement16",{"className":"token","style":{"color":"#755f00"},"children":["28"]}],["$","span","code-segement17",{"className":"token","style":{"color":"#111b27"},"children":[","]}],["$","span","code-segement18",{"className":"$undefined","style":{},"children":[" "]}],["$","span","code-segement19",{"className":"token","style":{"color":"#755f00"},"children":["28"]}],["$","span","code-segement20",{"className":"token","style":{"color":"#111b27"},"children":["]"]}],["$","span","code-segement21",{"className":"token","style":{"color":"#111b27"},"children":[";"]}],["$","span","code-segement22",{"className":"$undefined","style":{},"children":["\\n"]}],["$","span","code-segement23",{"className":"$undefined","style":{},"children":[""]}],["$","span","code-segement24",{"className":"token","style":{"color":"#a04900"},"children":["const"]}],["$","span","code-segement25",{"className":"$undefined","style":{},"children":[" inputShape "]}],["$","span","code-segement26",{"className":"token","style":{"color":"#a04900"},"children":["="]}],["$","span","code-segement27",{"className":"$undefined","style":{},"children":[" "]}],["$","span","code-segement28",{"className":"token","style":{"color":"#111b27"},"children":["["]}],["$","span","code-segement29",{"className":"token","style":{"color":"#755f00"},"children":["1"]}],["$","span","code-segement30",{"className":"token","style":{"color":"#111b27"},"children":[","]}],["$","span","code-segement31",{"className":"$undefined","style":{},"children":[" "]}],["$","span","code-segement32",{"className":"token","style":{"color":"#755f00"},"children":["1"]}],["$","span","code-segement33",{"className":"token","style":{"color":"#111b27"},"children":[","]}],["$","span","code-segement34",{"className":"$undefined","style":{},"children":[" "]}],["$","span","code-segement35",{"className":"token","style":{"color":"#755f00"},"children":["28"]}],["$","span","code-segement36",{"className":"token","style":{"color":"#111b27"},"children":[","]}],["$","span","code-segement37",{"className":"$undefined","style":{},"children":[" "]}],["$","span","code-segement38",{"className":"token","style":{"color":"#755f00"},"children":["28"]}],["$","span","code-segement39",{"className":"token","style":{"color":"#111b27"},"children":["]"]}],["$","span","code-segement40",{"className":"token","style":{"color":"#111b27"},"children":[";"]}],["$","span","code-segement41",{"className":"$undefined","style":{},"children":["\\n"]}],"\\n",["$","span","code-segement43",{"className":"$undefined","style":{},"children":[""]}],["$","span","code-segement44",{"className":"token","style":{"color":"#a04900"},"children":["function"]}],["$","span","code-segement45",{"className":"$undefined","style":{},"children":[" "]}],["$","span","code-segement46",{"className":"token","style":{"color":"#7c00aa"},"children":["extractGreyscaleImageFromKonvaStage"]}],["$","span","code-segement47",{"className":"token","style":{"color":"#111b27"},"children":["("]}],["$","span","code-segement48",{"className":"token","style":{"color":"#005a8e"},"children":["imageDataUri"]}],["$","span","code-segement49",{"className":"token","style":{"color":"#111b27"},"children":[","]}],["$","span","code-segement50",{"className":"token","style":{"color":"#005a8e"},"children":[" imageProcessingCanvasId"]}],["$","span","code-segement51",{"className":"token","style":{"color":"#111b27"},"children":[")"]}],["$","span","code-segement52",{"className":"$undefined","style":{},"children":[" "]}],["$","span","code-segement53",{"className":"token","style":{"color":"#111b27"},"children":["{"]}],["$","span","code-segement54",{"className":"$undefined","style":{},"children":["\\n"]}],["$","span","code-segement55",{"className":"$undefined","style":{},"children":["  "]}],["$","span","code-segement56",{"className":"token","style":{"color":"#a04900"},"children":["const"]}],["$","span","code-segement57",{"className":"$undefined","style":{},"children":[" canvas "]}],["$","span","code-segement58",{"className":"token","style":{"color":"#a04900"},"children":["="]}],["$","span","code-segement59",{"className":"$undefined","style":{},"children":[" "]}],["$","span","code-segement60",{"className":"token dom","style":{"color":"#005a8e"},"children":["document"]}],["$","span","code-segement61",{"className":"token","style":{"color":"#111b27"},"children":["."]}],["$","span","code-segement62",{"className":"token method","style":{"color":"#005a8e"},"children":["getElementById"]}],["$","span","code-segement63",{"className":"token","style":{"color":"#111b27"},"children":["("]}],["$","span","code-segement64",{"className":"$undefined","style":{},"children":["imageProcessingCanvasId"]}],["$","span","code-segement65",{"className":"token","style":{"color":"#111b27"},"children":[")"]}],["$","span","code-segement66",{"className":"token","style":{"color":"#111b27"},"children":[";"]}],["$","span","code-segement67",{"className":"$undefined","style":{},"children":["\\n"]}],["$","span","code-segement68",{"className":"$undefined","style":{},"children":["  "]}],["$","span","code-segement69",{"className":"token","style":{"color":"#a04900"},"children":["const"]}],["$","span","code-segement70",{"className":"$undefined","style":{},"children":[" ctx "]}],["$","span","code-segement71",{"className":"token","style":{"color":"#a04900"},"children":["="]}],["$","span","code-segement72",{"className":"$undefined","style":{},"children":[" canvas"]}],["$","span","code-segement73",{"className":"token","style":{"color":"#111b27"},"children":["."]}],["$","span","code-segement74",{"className":"token method","style":{"color":"#005a8e"},"children":["getContext"]}],["$","span","code-segement75",{"className":"token","style":{"color":"#111b27"},"children":["("]}],["$","span","code-segement76",{"className":"token","style":{"color":"#116b00"},"children":["\\"2d\\""]}],["$","span","code-segement77",{"className":"token","style":{"color":"#111b27"},"children":[")"]}],["$","span","code-segement78",{"className":"token","style":{"color":"#111b27"},"children":[";"]}],["$","span","code-segement79",{"className":"$undefined","style":{},"children":["\\n"]}],"\\n",["$","span","code-segement81",{"className":"$undefined","style":{},"children":["  "]}],["$","span","code-segement82",{"className":"token","style":{"color":"#a04900"},"children":["const"]}],["$","span","code-segement83",{"className":"$undefined","style":{},"children":[" img "]}],["$","span","code-segement84",{"className":"token","style":{"color":"#a04900"},"children":["="]}],["$","span","code-segement85",{"className":"$undefined","style":{},"children":[" "]}],["$","span","code-segement86",{"className":"token","style":{"color":"#a04900"},"children":["new"]}],["$","span","code-segement87",{"className":"$undefined","style":{},"children":[" "]}],["$","span","code-segement88",{"className":"token","style":{"color":"#005a8e"},"children":["Image"]}],["$","span","code-segement89",{"className":"token","style":{"color":"#111b27"},"children":["("]}],["$","span","code-segement90",{"className":"token","style":{"color":"#111b27"},"children":[")"]}],["$","span","code-segement91",{"className":"token","style":{"color":"#111b27"},"children":[";"]}],["$","span","code-segement92",{"className":"$undefined","style":{},"children":["\\n"]}],["$","span","code-segement93",{"className":"$undefined","style":{},"children":["  img"]}],["$","span","code-segement94",{"className":"token","style":{"color":"#111b27"},"children":["."]}],["$","span","code-segement95",{"className":"token","style":{"color":"#005a8e"},"children":["src"]}],["$","span","code-segement96",{"className":"$undefined","style":{},"children":[" "]}],["$","span","code-segement97",{"className":"token","style":{"color":"#a04900"},"children":["="]}],["$","span","code-segement98",{"className":"$undefined","style":{},"children":[" imageDataUri"]}],["$","span","code-segement99",{"className":"token","style":{"color":"#111b27"},"children":[";"]}],["$","span","code-segement100",{"className":"$undefined","style":{},"children":["\\n"]}],"\\n",["$","span","code-segement102",{"className":"$undefined","style":{},"children":["  "]}],["$","span","code-segement103",{"className":"token control-flow","style":{"color":"#a04900"},"children":["return"]}],["$","span","code-segement104",{"className":"$undefined","style":{},"children":[" "]}],["$","span","code-segement105",{"className":"token","style":{"color":"#a04900"},"children":["new"]}],["$","span","code-segement106",{"className":"$undefined","style":{},"children":[" "]}],["$","span","code-segement107",{"className":"token","style":{"color":"#005a8e"},"children":["Promise"]}],["$","span","code-segement108",{"className":"token","style":{"color":"#111b27"},"children":["("]}],["$","span","code-segement109",{"className":"token","style":{"color":"#111b27"},"children":["("]}],["$","span","code-segement110",{"className":"token","style":{"color":"#005a8e"},"children":["resolve"]}],["$","span","code-segement111",{"className":"token","style":{"color":"#111b27"},"children":[","]}],["$","span","code-segement112",{"className":"token","style":{"color":"#005a8e"},"children":[" reject"]}],["$","span","code-segement113",{"className":"token","style":{"color":"#111b27"},"children":[")"]}],["$","span","code-segement114",{"className":"$undefined","style":{},"children":[" "]}],["$","span","code-segement115",{"className":"token arrow","style":{"color":"#a04900"},"children":["=\u003e"]}],["$","span","code-segement116",{"className":"$undefined","style":{},"children":[" "]}],["$","span","code-segement117",{"className":"token","style":{"color":"#111b27"},"children":["{"]}],["$","span","code-segement118",{"className":"$undefined","style":{},"children":["\\n"]}],["$","span","code-segement119",{"className":"$undefined","style":{},"children":["    img"]}],["$","span","code-segement120",{"className":"token","style":{"color":"#111b27"},"children":["."]}],["$","span","code-segement121",{"className":"token method-variable function-variable method","style":{"color":"#7c00aa"},"children":["onload"]}],["$","span","code-segement122",{"className":"$undefined","style":{},"children":[" "]}],["$","span","code-segement123",{"className":"token","style":{"color":"#a04900"},"children":["="]}],["$","span","code-segement124",{"className":"$undefined","style":{},"children":[" "]}],["$","span","code-segement125",{"className":"token","style":{"color":"#111b27"},"children":["("]}],["$","span","code-segement126",{"className":"token","style":{"color":"#111b27"},"children":[")"]}],["$","span","code-segement127",{"className":"$undefined","style":{},"children":[" "]}],["$","span","code-segement128",{"className":"token arrow","style":{"color":"#a04900"},"children":["=\u003e"]}],["$","span","code-segement129",{"className":"$undefined","style":{},"children":[" "]}],["$","span","code-segement130",{"className":"token","style":{"color":"#111b27"},"children":["{"]}],["$","span","code-segement131",{"className":"$undefined","style":{},"children":["\\n"]}],["$","span","code-segement132",{"className":"$undefined","style":{},"children":["      canvas"]}],["$","span","code-segement133",{"className":"token","style":{"color":"#111b27"},"children":["."]}],["$","span","code-segement134",{"className":"token","style":{"color":"#005a8e"},"children":["width"]}],["$","span","code-segement135",{"className":"$undefined","style":{},"children":[" "]}],["$","span","code-segement136",{"className":"token","style":{"color":"#a04900"},"children":["="]}],["$","span","code-segement137",{"className":"$undefined","style":{},"children":[" inputImageShape"]}],["$","span","code-segement138",{"className":"token","style":{"color":"#111b27"},"children":["["]}],["$","span","code-segement139",{"className":"token","style":{"color":"#755f00"},"children":["0"]}],["$","span","code-segement140",{"className":"token","style":{"color":"#111b27"},"children":["]"]}],["$","span","code-segement141",{"className":"token","style":{"color":"#111b27"},"children":[";"]}],["$","span","code-segement142",{"className":"$undefined","style":{},"children":["\\n"]}],["$","span","code-segement143",{"className":"$undefined","style":{},"children":["      canvas"]}],["$","span","code-segement144",{"className":"token","style":{"color":"#111b27"},"children":["."]}],["$","span","code-segement145",{"className":"token","style":{"color":"#005a8e"},"children":["height"]}],["$","span","code-segement146",{"className":"$undefined","style":{},"children":[" "]}],["$","span","code-segement147",{"className":"token","style":{"color":"#a04900"},"children":["="]}],["$","span","code-segement148",{"className":"$undefined","style":{},"children":[" inputImageShape"]}],["$","span","code-segement149",{"className":"token","style":{"color":"#111b27"},"children":["["]}],["$","span","code-segement150",{"className":"token","style":{"color":"#755f00"},"children":["1"]}],["$","span","code-segement151",{"className":"token","style":{"color":"#111b27"},"children":["]"]}],["$","span","code-segement152",{"className":"token","style":{"color":"#111b27"},"children":[";"]}],["$","span","code-segement153",{"className":"$undefined","style":{},"children":["\\n"]}],"\\n",["$","span","code-segement155",{"className":"$undefined","style":{},"children":["      ctx"]}],["$","span","code-segement156",{"className":"token","style":{"color":"#111b27"},"children":["."]}],["$","span","code-segement157",{"className":"token method","style":{"color":"#005a8e"},"children":["drawImage"]}],["$","span","code-segement158",{"className":"token","style":{"color":"#111b27"},"children":["("]}],["$","span","code-segement159",{"className":"$undefined","style":{},"children":["img"]}],["$","span","code-segement160",{"className":"token","style":{"color":"#111b27"},"children":[","]}],["$","span","code-segement161",{"className":"$undefined","style":{},"children":[" "]}],["$","span","code-segement162",{"className":"token","style":{"color":"#755f00"},"children":["0"]}],["$","span","code-segement163",{"className":"token","style":{"color":"#111b27"},"children":[","]}],["$","span","code-segement164",{"className":"$undefined","style":{},"children":[" "]}],["$","span","code-segement165",{"className":"token","style":{"color":"#755f00"},"children":["0"]}],["$","span","code-segement166",{"className":"token","style":{"color":"#111b27"},"children":[","]}],["$","span","code-segement167",{"className":"$undefined","style":{},"children":[" inputImageShape"]}],["$","span","code-segement168",{"className":"token","style":{"color":"#111b27"},"children":["["]}],["$","span","code-segement169",{"className":"token","style":{"color":"#755f00"},"children":["0"]}],["$","span","code-segement170",{"className":"token","style":{"color":"#111b27"},"children":["]"]}],["$","span","code-segement171",{"className":"token","style":{"color":"#111b27"},"children":[","]}],["$","span","code-segement172",{"className":"$undefined","style":{},"children":[" inputImageShape"]}],["$","span","code-segement173",{"className":"token","style":{"color":"#111b27"},"children":["["]}],["$","span","code-segement174",{"className":"token","style":{"color":"#755f00"},"children":["1"]}],["$","span","code-segement175",{"className":"token","style":{"color":"#111b27"},"children":["]"]}],["$","span","code-segement176",{"className":"token","style":{"color":"#111b27"},"children":[")"]}],["$","span","code-segement177",{"className":"token","style":{"color":"#111b27"},"children":[";"]}],["$","span","code-segement178",{"className":"$undefined","style":{},"children":["\\n"]}],"\\n",["$","span","code-segement180",{"className":"$undefined","style":{},"children":["      "]}],["$","span","code-segement181",{"className":"token","style":{"color":"#a04900"},"children":["const"]}],["$","span","code-segement182",{"className":"$undefined","style":{},"children":[" imageData "]}],["$","span","code-segement183",{"className":"token","style":{"color":"#a04900"},"children":["="]}],["$","span","code-segement184",{"className":"$undefined","style":{},"children":[" ctx"]}],["$","span","code-segement185",{"className":"token","style":{"color":"#111b27"},"children":["."]}],["$","span","code-segement186",{"className":"token method","style":{"color":"#005a8e"},"children":["getImageData"]}],["$","span","code-segement187",{"className":"token","style":{"color":"#111b27"},"children":["("]}],["$","span","code-segement188",{"className":"token","style":{"color":"#755f00"},"children":["0"]}],["$","span","code-segement189",{"className":"token","style":{"color":"#111b27"},"children":[","]}],["$","span","code-segement190",{"className":"$undefined","style":{},"children":[" "]}],["$","span","code-segement191",{"className":"token","style":{"color":"#755f00"},"children":["0"]}],["$","span","code-segement192",{"className":"token","style":{"color":"#111b27"},"children":[","]}],["$","span","code-segement193",{"className":"$undefined","style":{},"children":[" inputImageShape"]}],["$","span","code-segement194",{"className":"token","style":{"color":"#111b27"},"children":["["]}],["$","span","code-segement195",{"className":"token","style":{"color":"#755f00"},"children":["0"]}],["$","span","code-segement196",{"className":"token","style":{"color":"#111b27"},"children":["]"]}],["$","span","code-segement197",{"className":"token","style":{"color":"#111b27"},"children":[","]}],["$","span","code-segement198",{"className":"$undefined","style":{},"children":[" inputImageShape"]}],["$","span","code-segement199",{"className":"token","style":{"color":"#111b27"},"children":["["]}],["$","span","code-segement200",{"className":"token","style":{"color":"#755f00"},"children":["1"]}],["$","span","code-segement201",{"className":"token","style":{"color":"#111b27"},"children":["]"]}],["$","span","code-segement202",{"className":"token","style":{"color":"#111b27"},"children":[")"]}],["$","span","code-segement203",{"className":"token","style":{"color":"#111b27"},"children":[";"]}],["$","span","code-segement204",{"className":"$undefined","style":{},"children":["\\n"]}],["$","span","code-segement205",{"className":"$undefined","style":{},"children":["      "]}],["$","span","code-segement206",{"className":"token","style":{"color":"#a04900"},"children":["const"]}],["$","span","code-segement207",{"className":"$undefined","style":{},"children":[" imageArray "]}],["$","span","code-segement208",{"className":"token","style":{"color":"#a04900"},"children":["="]}],["$","span","code-segement209",{"className":"$undefined","style":{},"children":[" imageData"]}],["$","span","code-segement210",{"className":"token","style":{"color":"#111b27"},"children":["."]}],["$","span","code-segement211",{"className":"token","style":{"color":"#005a8e"},"children":["data"]}],["$","span","code-segement212",{"className":"token","style":{"color":"#111b27"},"children":[";"]}],["$","span","code-segement213",{"className":"$undefined","style":{},"children":["\\n"]}],["$","span","code-segement214",{"className":"$undefined","style":{},"children":["      "]}],["$","span","code-segement215",{"className":"token","style":{"color":"#3c526d"},"children":["// r(1, 1), g(1, 1), b(1, 1), a(1, 1), r(2, 1), g(2, 1), b(2, 1), a(2, 1), ..."]}],["$","span","code-segement216",{"className":"$undefined","style":{},"children":["\\n"]}],"\\n",["$","span","code-segement218",{"className":"$undefined","style":{},"children":["      "]}],["$","span","code-segement219",{"className":"token","style":{"color":"#3c526d"},"children":["// Constructing the alphaChannelOnlyImageData only for drawing the image for debugging."]}],["$","span","code-segement220",{"className":"$undefined","style":{},"children":["\\n"]}],["$","span","code-segement221",{"className":"$undefined","style":{},"children":["      "]}],["$","span","code-segement222",{"className":"token","style":{"color":"#a04900"},"children":["const"]}],["$","span","code-segement223",{"className":"$undefined","style":{},"children":[" alphaChannelOnlyImageData "]}],["$","span","code-segement224",{"className":"token","style":{"color":"#a04900"},"children":["="]}],["$","span","code-segement225",{"className":"$undefined","style":{},"children":[" "]}],["$","span","code-segement226",{"className":"token","style":{"color":"#a04900"},"children":["new"]}],["$","span","code-segement227",{"className":"$undefined","style":{},"children":[" "]}],["$","span","code-segement228",{"className":"token","style":{"color":"#005a8e"},"children":["ImageData"]}],["$","span","code-segement229",{"className":"token","style":{"color":"#111b27"},"children":["("]}],["$","span","code-segement230",{"className":"$undefined","style":{},"children":["\\n"]}],["$","span","code-segement231",{"className":"$undefined","style":{},"children":["        "]}],["$","span","code-segement232",{"className":"token","style":{"color":"#a04900"},"children":["new"]}],["$","span","code-segement233",{"className":"$undefined","style":{},"children":[" "]}],["$","span","code-segement234",{"className":"token","style":{"color":"#005a8e"},"children":["Uint8ClampedArray"]}],["$","span","code-segement235",{"className":"token","style":{"color":"#111b27"},"children":["("]}],["$","span","code-segement236",{"className":"$undefined","style":{},"children":["imageArray"]}],["$","span","code-segement237",{"className":"token","style":{"color":"#111b27"},"children":["."]}],["$","span","code-segement238",{"className":"token","style":{"color":"#005a8e"},"children":["length"]}],["$","span","code-segement239",{"className":"token","style":{"color":"#111b27"},"children":[")"]}],["$","span","code-segement240",{"className":"token","style":{"color":"#111b27"},"children":[","]}],["$","span","code-segement241",{"className":"$undefined","style":{},"children":["\\n"]}],["$","span","code-segement242",{"className":"$undefined","style":{},"children":["        inputImageShape"]}],["$","span","code-segement243",{"className":"token","style":{"color":"#111b27"},"children":["["]}],["$","span","code-segement244",{"className":"token","style":{"color":"#755f00"},"children":["0"]}],["$","span","code-segement245",{"className":"token","style":{"color":"#111b27"},"children":["]"]}],["$","span","code-segement246",{"className":"token","style":{"color":"#111b27"},"children":[","]}],["$","span","code-segement247",{"className":"$undefined","style":{},"children":["\\n"]}],["$","span","code-segement248",{"className":"$undefined","style":{},"children":["        inputImageShape"]}],["$","span","code-segement249",{"className":"token","style":{"color":"#111b27"},"children":["["]}],["$","span","code-segement250",{"className":"token","style":{"color":"#755f00"},"children":["1"]}],["$","span","code-segement251",{"className":"token","style":{"color":"#111b27"},"children":["]"]}],["$","span","code-segement252",{"className":"$undefined","style":{},"children":["\\n"]}],["$","span","code-segement253",{"className":"$undefined","style":{},"children":["      "]}],["$","span","code-segement254",{"className":"token","style":{"color":"#111b27"},"children":[")"]}],["$","span","code-segement255",{"className":"token","style":{"color":"#111b27"},"children":[";"]}],["$","span","code-segement256",{"className":"$undefined","style":{},"children":["\\n"]}],"\\n",["$","span","code-segement258",{"className":"$undefined","style":{},"children":["      "]}],["$","span","code-segement259",{"className":"token control-flow","style":{"color":"#a04900"},"children":["for"]}],["$","span","code-segement260",{"className":"$undefined","style":{},"children":[" "]}],["$","span","code-segement261",{"className":"token","style":{"color":"#111b27"},"children":["("]}],["$","span","code-segement262",{"className":"token","style":{"color":"#a04900"},"children":["let"]}],["$","span","code-segement263",{"className":"$undefined","style":{},"children":[" i "]}],["$","span","code-segement264",{"className":"token","style":{"color":"#a04900"},"children":["="]}],["$","span","code-segement265",{"className":"$undefined","style":{},"children":[" "]}],["$","span","code-segement266",{"className":"token","style":{"color":"#755f00"},"children":["3"]}],["$","span","code-segement267",{"className":"token","style":{"color":"#111b27"},"children":[";"]}],["$","span","code-segement268",{"className":"$undefined","style":{},"children":[" i "]}],["$","span","code-segement269",{"className":"token","style":{"color":"#a04900"},"children":["\u003c"]}],["$","span","code-segement270",{"className":"$undefined","style":{},"children":[" imageArray"]}],["$","span","code-segement271",{"className":"token","style":{"color":"#111b27"},"children":["."]}],["$","span","code-segement272",{"className":"token","style":{"color":"#005a8e"},"children":["length"]}],["$","span","code-segement273",{"className":"token","style":{"color":"#111b27"},"children":[";"]}],["$","span","code-segement274",{"className":"$undefined","style":{},"children":[" i "]}],["$","span","code-segement275",{"className":"token","style":{"color":"#a04900"},"children":["+="]}],["$","span","code-segement276",{"className":"$undefined","style":{},"children":[" "]}],["$","span","code-segement277",{"className":"token","style":{"color":"#755f00"},"children":["4"]}],["$","span","code-segement278",{"className":"token","style":{"color":"#111b27"},"children":[")"]}],["$","span","code-segement279",{"className":"$undefined","style":{},"children":[" "]}],["$","span","code-segement280",{"className":"token","style":{"color":"#111b27"},"children":["{"]}],["$","span","code-segement281",{"className":"$undefined","style":{},"children":["\\n"]}],["$","span","code-segement282",{"className":"$undefined","style":{},"children":["        alphaChannelOnlyImageData"]}],["$","span","code-segement283",{"className":"token","style":{"color":"#111b27"},"children":["."]}],["$","span","code-segement284",{"className":"token","style":{"color":"#005a8e"},"children":["data"]}],["$","span","code-segement285",{"className":"token","style":{"color":"#111b27"},"children":["["]}],["$","span","code-segement286",{"className":"$undefined","style":{},"children":["i"]}],["$","span","code-segement287",{"className":"token","style":{"color":"#111b27"},"children":["]"]}],["$","span","code-segement288",{"className":"$undefined","style":{},"children":[" "]}],["$","span","code-segement289",{"className":"token","style":{"color":"#a04900"},"children":["="]}],["$","span","code-segement290",{"className":"$undefined","style":{},"children":[" "]}],["$","span","code-segement291",{"className":"token","style":{"color":"#755f00"},"children":["255"]}],["$","span","code-segement292",{"className":"token","style":{"color":"#111b27"},"children":[";"]}],["$","span","code-segement293",{"className":"$undefined","style":{},"children":["\\n"]}],["$","span","code-segement294",{"className":"$undefined","style":{},"children":["        alphaChannelOnlyImageData"]}],["$","span","code-segement295",{"className":"token","style":{"color":"#111b27"},"children":["."]}],["$","span","code-segement296",{"className":"token","style":{"color":"#005a8e"},"children":["data"]}],["$","span","code-segement297",{"className":"token","style":{"color":"#111b27"},"children":["["]}],["$","span","code-segement298",{"className":"$undefined","style":{},"children":["i "]}],["$","span","code-segement299",{"className":"token","style":{"color":"#a04900"},"children":["-"]}],["$","span","code-segement300",{"className":"$undefined","style":{},"children":[" "]}],["$","span","code-segement301",{"className":"token","style":{"color":"#755f00"},"children":["1"]}],["$","span","code-segement302",{"className":"token","style":{"color":"#111b27"},"children":["]"]}],["$","span","code-segement303",{"className":"$undefined","style":{},"children":[" "]}],["$","span","code-segement304",{"className":"token","style":{"color":"#a04900"},"children":["="]}],["$","span","code-segement305",{"className":"$undefined","style":{},"children":[" imageArray"]}],["$","span","code-segement306",{"className":"token","style":{"color":"#111b27"},"children":["["]}],["$","span","code-segement307",{"className":"$undefined","style":{},"children":["i"]}],["$","span","code-segement308",{"className":"token","style":{"color":"#111b27"},"children":["]"]}],["$","span","code-segement309",{"className":"token","style":{"color":"#111b27"},"children":[";"]}],["$","span","code-segement310",{"className":"$undefined","style":{},"children":["\\n"]}],["$","span","code-segement311",{"className":"$undefined","style":{},"children":["        alphaChannelOnlyImageData"]}],["$","span","code-segement312",{"className":"token","style":{"color":"#111b27"},"children":["."]}],["$","span","code-segement313",{"className":"token","style":{"color":"#005a8e"},"children":["data"]}],["$","span","code-segement314",{"className":"token","style":{"color":"#111b27"},"children":["["]}],["$","span","code-segement315",{"className":"$undefined","style":{},"children":["i "]}],["$","span","code-segement316",{"className":"token","style":{"color":"#a04900"},"children":["-"]}],["$","span","code-segement317",{"className":"$undefined","style":{},"children":[" "]}],["$","span","code-segement318",{"className":"token","style":{"color":"#755f00"},"children":["2"]}],["$","span","code-segement319",{"className":"token","style":{"color":"#111b27"},"children":["]"]}],["$","span","code-segement320",{"className":"$undefined","style":{},"children":[" "]}],["$","span","code-segement321",{"className":"token","style":{"color":"#a04900"},"children":["="]}],["$","span","code-segement322",{"className":"$undefined","style":{},"children":[" imageArray"]}],["$","span","code-segement323",{"className":"token","style":{"color":"#111b27"},"children":["["]}],["$","span","code-segement324",{"className":"$undefined","style":{},"children":["i"]}],["$","span","code-segement325",{"className":"token","style":{"color":"#111b27"},"children":["]"]}],["$","span","code-segement326",{"className":"token","style":{"color":"#111b27"},"children":[";"]}],["$","span","code-segement327",{"className":"$undefined","style":{},"children":["\\n"]}],["$","span","code-segement328",{"className":"$undefined","style":{},"children":["        alphaChannelOnlyImageData"]}],["$","span","code-segement329",{"className":"token","style":{"color":"#111b27"},"children":["."]}],["$","span","code-segement330",{"className":"token","style":{"color":"#005a8e"},"children":["data"]}],["$","span","code-segement331",{"className":"token","style":{"color":"#111b27"},"children":["["]}],["$","span","code-segement332",{"className":"$undefined","style":{},"children":["i "]}],["$","span","code-segement333",{"className":"token","style":{"color":"#a04900"},"children":["-"]}],["$","span","code-segement334",{"className":"$undefined","style":{},"children":[" "]}],["$","span","code-segement335",{"className":"token","style":{"color":"#755f00"},"children":["3"]}],["$","span","code-segement336",{"className":"token","style":{"color":"#111b27"},"children":["]"]}],["$","span","code-segement337",{"className":"$undefined","style":{},"children":[" "]}],["$","span","code-segement338",{"className":"token","style":{"color":"#a04900"},"children":["="]}],["$","span","code-segement339",{"className":"$undefined","style":{},"children":[" imageArray"]}],["$","span","code-segement340",{"className":"token","style":{"color":"#111b27"},"children":["["]}],["$","span","code-segement341",{"className":"$undefined","style":{},"children":["i"]}],["$","span","code-segement342",{"className":"token","style":{"color":"#111b27"},"children":["]"]}],["$","span","code-segement343",{"className":"token","style":{"color":"#111b27"},"children":[";"]}],["$","span","code-segement344",{"className":"$undefined","style":{},"children":["\\n"]}],["$","span","code-segement345",{"className":"$undefined","style":{},"children":["      "]}],["$","span","code-segement346",{"className":"token","style":{"color":"#111b27"},"children":["}"]}],["$","span","code-segement347",{"className":"$undefined","style":{},"children":["\\n"]}],"\\n",["$","span","code-segement349",{"className":"$undefined","style":{},"children":["      ctx"]}],["$","span","code-segement350",{"className":"token","style":{"color":"#111b27"},"children":["."]}],["$","span","code-segement351",{"className":"token method","style":{"color":"#005a8e"},"children":["putImageData"]}],["$","span","code-segement352",{"className":"token","style":{"color":"#111b27"},"children":["("]}],["$","span","code-segement353",{"className":"$undefined","style":{},"children":["alphaChannelOnlyImageData"]}],["$","span","code-segement354",{"className":"token","style":{"color":"#111b27"},"children":[","]}],["$","span","code-segement355",{"className":"$undefined","style":{},"children":[" "]}],["$","span","code-segement356",{"className":"token","style":{"color":"#755f00"},"children":["0"]}],["$","span","code-segement357",{"className":"token","style":{"color":"#111b27"},"children":[","]}],["$","span","code-segement358",{"className":"$undefined","style":{},"children":[" "]}],["$","span","code-segement359",{"className":"token","style":{"color":"#755f00"},"children":["0"]}],["$","span","code-segement360",{"className":"token","style":{"color":"#111b27"},"children":[")"]}],["$","span","code-segement361",{"className":"token","style":{"color":"#111b27"},"children":[";"]}],["$","span","code-segement362",{"className":"$undefined","style":{},"children":[" "]}],["$","span","code-segement363",{"className":"token","style":{"color":"#3c526d"},"children":["// Debug only"]}],["$","span","code-segement364",{"className":"$undefined","style":{},"children":["\\n"]}],"\\n",["$","span","code-segement366",{"className":"$undefined","style":{},"children":["      "]}],["$","span","code-segement367",{"className":"token","style":{"color":"#a04900"},"children":["const"]}],["$","span","code-segement368",{"className":"$undefined","style":{},"children":[" imageUint8Array "]}],["$","span","code-segement369",{"className":"token","style":{"color":"#a04900"},"children":["="]}],["$","span","code-segement370",{"className":"$undefined","style":{},"children":[" "]}],["$","span","code-segement371",{"className":"token","style":{"color":"#a04900"},"children":["new"]}],["$","span","code-segement372",{"className":"$undefined","style":{},"children":[" "]}],["$","span","code-segement373",{"className":"token","style":{"color":"#005a8e"},"children":["Uint8Array"]}],["$","span","code-segement374",{"className":"token","style":{"color":"#111b27"},"children":["("]}],["$","span","code-segement375",{"className":"$undefined","style":{},"children":["alphaChannelOnlyImageData"]}],["$","span","code-segement376",{"className":"token","style":{"color":"#111b27"},"children":["."]}],["$","span","code-segement377",{"className":"token","style":{"color":"#005a8e"},"children":["data"]}],["$","span","code-segement378",{"className":"token","style":{"color":"#111b27"},"children":["."]}],["$","span","code-segement379",{"className":"token","style":{"color":"#005a8e"},"children":["length"]}],["$","span","code-segement380",{"className":"$undefined","style":{},"children":[" "]}],["$","span","code-segement381",{"className":"token","style":{"color":"#a04900"},"children":["/"]}],["$","span","code-segement382",{"className":"$undefined","style":{},"children":[" "]}],["$","span","code-segement383",{"className":"token","style":{"color":"#755f00"},"children":["4"]}],["$","span","code-segement384",{"className":"token","style":{"color":"#111b27"},"children":[")"]}],["$","span","code-segement385",{"className":"token","style":{"color":"#111b27"},"children":[";"]}],["$","span","code-segement386",{"className":"$undefined","style":{},"children":["\\n"]}],"\\n",["$","span","code-segement388",{"className":"$undefined","style":{},"children":["      "]}],["$","span","code-segement389",{"className":"token","style":{"color":"#3c526d"},"children":["// Take any one channel R, G, or B"]}],["$","span","code-segement390",{"className":"$undefined","style":{},"children":["\\n"]}],["$","span","code-segement391",{"className":"$undefined","style":{},"children":["      "]}],["$","span","code-segement392",{"className":"token control-flow","style":{"color":"#a04900"},"children":["for"]}],["$","span","code-segement393",{"className":"$undefined","style":{},"children":[" "]}],["$","span","code-segement394",{"className":"token","style":{"color":"#111b27"},"children":["("]}],["$","span","code-segement395",{"className":"token","style":{"color":"#a04900"},"children":["let"]}],["$","span","code-segement396",{"className":"$undefined","style":{},"children":[" i "]}],["$","span","code-segement397",{"className":"token","style":{"color":"#a04900"},"children":["="]}],["$","span","code-segement398",{"className":"$undefined","style":{},"children":[" "]}],["$","span","code-segement399",{"className":"token","style":{"color":"#755f00"},"children":["0"]}],["$","span","code-segement400",{"className":"token","style":{"color":"#111b27"},"children":[";"]}],["$","span","code-segement401",{"className":"$undefined","style":{},"children":[" i "]}],["$","span","code-segement402",{"className":"token","style":{"color":"#a04900"},"children":["\u003c"]}],["$","span","code-segement403",{"className":"$undefined","style":{},"children":[" alphaChannelOnlyImageData"]}],["$","span","code-segement404",{"className":"token","style":{"color":"#111b27"},"children":["."]}],["$","span","code-segement405",{"className":"token","style":{"color":"#005a8e"},"children":["data"]}],["$","span","code-segement406",{"className":"token","style":{"color":"#111b27"},"children":["."]}],["$","span","code-segement407",{"className":"token","style":{"color":"#005a8e"},"children":["length"]}],["$","span","code-segement408",{"className":"token","style":{"color":"#111b27"},"children":[";"]}],["$","span","code-segement409",{"className":"$undefined","style":{},"children":[" i "]}],["$","span","code-segement410",{"className":"token","style":{"color":"#a04900"},"children":["+="]}],["$","span","code-segement411",{"className":"$undefined","style":{},"children":[" "]}],["$","span","code-segement412",{"className":"token","style":{"color":"#755f00"},"children":["4"]}],["$","span","code-segement413",{"className":"token","style":{"color":"#111b27"},"children":[")"]}],["$","span","code-segement414",{"className":"$undefined","style":{},"children":[" "]}],["$","span","code-segement415",{"className":"token","style":{"color":"#111b27"},"children":["{"]}],["$","span","code-segement416",{"className":"$undefined","style":{},"children":["\\n"]}],["$","span","code-segement417",{"className":"$undefined","style":{},"children":["        imageUint8Array"]}],["$","span","code-segement418",{"className":"token","style":{"color":"#111b27"},"children":["["]}],["$","span","code-segement419",{"className":"$undefined","style":{},"children":["i "]}],["$","span","code-segement420",{"className":"token","style":{"color":"#a04900"},"children":["/"]}],["$","span","code-segement421",{"className":"$undefined","style":{},"children":[" "]}],["$","span","code-segement422",{"className":"token","style":{"color":"#755f00"},"children":["4"]}],["$","span","code-segement423",{"className":"token","style":{"color":"#111b27"},"children":["]"]}],["$","span","code-segement424",{"className":"$undefined","style":{},"children":[" "]}],["$","span","code-segement425",{"className":"token","style":{"color":"#a04900"},"children":["="]}],["$","span","code-segement426",{"className":"$undefined","style":{},"children":[" alphaChannelOnlyImageData"]}],["$","span","code-segement427",{"className":"token","style":{"color":"#111b27"},"children":["."]}],["$","span","code-segement428",{"className":"token","style":{"color":"#005a8e"},"children":["data"]}],["$","span","code-segement429",{"className":"token","style":{"color":"#111b27"},"children":["["]}],["$","span","code-segement430",{"className":"$undefined","style":{},"children":["i"]}],["$","span","code-segement431",{"className":"token","style":{"color":"#111b27"},"children":["]"]}],["$","span","code-segement432",{"className":"token","style":{"color":"#111b27"},"children":[";"]}],["$","span","code-segement433",{"className":"$undefined","style":{},"children":["\\n"]}],["$","span","code-segement434",{"className":"$undefined","style":{},"children":["      "]}],["$","span","code-segement435",{"className":"token","style":{"color":"#111b27"},"children":["}"]}],["$","span","code-segement436",{"className":"$undefined","style":{},"children":["\\n"]}],"\\n",["$","span","code-segement438",{"className":"$undefined","style":{},"children":["      "]}],["$","span","code-segement439",{"className":"token","style":{"color":"#7c00aa"},"children":["resolve"]}],["$","span","code-segement440",{"className":"token","style":{"color":"#111b27"},"children":["("]}],["$","span","code-segement441",{"className":"$undefined","style":{},"children":["imageUint8Array"]}],["$","span","code-segement442",{"className":"token","style":{"color":"#111b27"},"children":[")"]}],["$","span","code-segement443",{"className":"token","style":{"color":"#111b27"},"children":[";"]}],["$","span","code-segement444",{"className":"$undefined","style":{},"children":["\\n"]}],["$","span","code-segement445",{"className":"$undefined","style":{},"children":["    "]}],["$","span","code-segement446",{"className":"token","style":{"color":"#111b27"},"children":["}"]}],["$","span","code-segement447",{"className":"token","style":{"color":"#111b27"},"children":[";"]}],["$","span","code-segement448",{"className":"$undefined","style":{},"children":["\\n"]}],"\\n",["$","span","code-segement450",{"className":"$undefined","style":{},"children":["    img"]}],["$","span","code-segement451",{"className":"token","style":{"color":"#111b27"},"children":["."]}],["$","span","code-segement452",{"className":"token method-variable function-variable method","style":{"color":"#7c00aa"},"children":["onerror"]}],["$","span","code-segement453",{"className":"$undefined","style":{},"children":[" "]}],["$","span","code-segement454",{"className":"token","style":{"color":"#a04900"},"children":["="]}],["$","span","code-segement455",{"className":"$undefined","style":{},"children":[" "]}],["$","span","code-segement456",{"className":"token","style":{"color":"#111b27"},"children":["("]}],["$","span","code-segement457",{"className":"token","style":{"color":"#005a8e"},"children":["error"]}],["$","span","code-segement458",{"className":"token","style":{"color":"#111b27"},"children":[")"]}],["$","span","code-segement459",{"className":"$undefined","style":{},"children":[" "]}],["$","span","code-segement460",{"className":"token arrow","style":{"color":"#a04900"},"children":["=\u003e"]}],["$","span","code-segement461",{"className":"$undefined","style":{},"children":[" "]}],["$","span","code-segement462",{"className":"token","style":{"color":"#111b27"},"children":["{"]}],["$","span","code-segement463",{"className":"$undefined","style":{},"children":["\\n"]}],["$","span","code-segement464",{"className":"$undefined","style":{},"children":["      "]}],["$","span","code-segement465",{"className":"token","style":{"color":"#7c00aa"},"children":["reject"]}],["$","span","code-segement466",{"className":"token","style":{"color":"#111b27"},"children":["("]}],["$","span","code-segement467",{"className":"$undefined","style":{},"children":["error"]}],["$","span","code-segement468",{"className":"token","style":{"color":"#111b27"},"children":[")"]}],["$","span","code-segement469",{"className":"token","style":{"color":"#111b27"},"children":[";"]}],["$","span","code-segement470",{"className":"$undefined","style":{},"children":["\\n"]}],["$","span","code-segement471",{"className":"$undefined","style":{},"children":["    "]}],["$","span","code-segement472",{"className":"token","style":{"color":"#111b27"},"children":["}"]}],["$","span","code-segement473",{"className":"token","style":{"color":"#111b27"},"children":[";"]}],["$","span","code-segement474",{"className":"$undefined","style":{},"children":["\\n"]}],["$","span","code-segement475",{"className":"$undefined","style":{},"children":["  "]}],["$","span","code-segement476",{"className":"token","style":{"color":"#111b27"},"children":["}"]}],["$","span","code-segement477",{"className":"token","style":{"color":"#111b27"},"children":[")"]}],["$","span","code-segement478",{"className":"token","style":{"color":"#111b27"},"children":[";"]}],["$","span","code-segement479",{"className":"$undefined","style":{},"children":["\\n"]}],["$","span","code-segement480",{"className":"$undefined","style":{},"children":[""]}],["$","span","code-segement481",{"className":"token","style":{"color":"#111b27"},"children":["}"]}],["$","span","code-segement482",{"className":"$undefined","style":{},"children":["\\n"]}],"\\n",["$","span","code-segement484",{"className":"$undefined","style":{},"children":[""]}],["$","span","code-segement485",{"className":"token","style":{"color":"#a04900"},"children":["function"]}],["$","span","code-segement486",{"className":"$undefined","style":{},"children":[" "]}],["$","span","code-segement487",{"className":"token","style":{"color":"#7c00aa"},"children":["imageArrayToTensor"]}],["$","span","code-segement488",{"className":"token","style":{"color":"#111b27"},"children":["("]}],["$","span","code-segement489",{"className":"token","style":{"color":"#005a8e"},"children":["imageUint8Array"]}],["$","span","code-segement490",{"className":"token","style":{"color":"#111b27"},"children":[")"]}],["$","span","code-segement491",{"className":"$undefined","style":{},"children":[" "]}],["$","span","code-segement492",{"className":"token","style":{"color":"#111b27"},"children":["{"]}],["$","span","code-segement493",{"className":"$undefined","style":{},"children":["\\n"]}],["$","span","code-segement494",{"className":"$undefined","style":{},"children":["  "]}],["$","span","code-segement495",{"className":"token","style":{"color":"#a04900"},"children":["let"]}],["$","span","code-segement496",{"className":"$undefined","style":{},"children":[" tensorValues "]}],["$","span","code-segement497",{"className":"token","style":{"color":"#a04900"},"children":["="]}],["$","span","code-segement498",{"className":"$undefined","style":{},"children":[" "]}],["$","span","code-segement499",{"className":"token","style":{"color":"#a04900"},"children":["new"]}],["$","span","code-segement500",{"className":"$undefined","style":{},"children":[" "]}],["$","span","code-segement501",{"className":"token","style":{"color":"#005a8e"},"children":["Float32Array"]}],["$","span","code-segement502",{"className":"token","style":{"color":"#111b27"},"children":["("]}],["$","span","code-segement503",{"className":"$undefined","style":{},"children":["imageUint8Array"]}],["$","span","code-segement504",{"className":"token","style":{"color":"#111b27"},"children":["."]}],["$","span","code-segement505",{"className":"token","style":{"color":"#005a8e"},"children":["length"]}],["$","span","code-segement506",{"className":"token","style":{"color":"#111b27"},"children":[")"]}],["$","span","code-segement507",{"className":"token","style":{"color":"#111b27"},"children":[";"]}],["$","span","code-segement508",{"className":"$undefined","style":{},"children":["\\n"]}],"\\n",["$","span","code-segement510",{"className":"$undefined","style":{},"children":["  "]}],["$","span","code-segement511",{"className":"token control-flow","style":{"color":"#a04900"},"children":["for"]}],["$","span","code-segement512",{"className":"$undefined","style":{},"children":[" "]}],["$","span","code-segement513",{"className":"token","style":{"color":"#111b27"},"children":["("]}],["$","span","code-segement514",{"className":"token","style":{"color":"#a04900"},"children":["let"]}],["$","span","code-segement515",{"className":"$undefined","style":{},"children":[" i "]}],["$","span","code-segement516",{"className":"token","style":{"color":"#a04900"},"children":["="]}],["$","span","code-segement517",{"className":"$undefined","style":{},"children":[" "]}],["$","span","code-segement518",{"className":"token","style":{"color":"#755f00"},"children":["0"]}],["$","span","code-segement519",{"className":"token","style":{"color":"#111b27"},"children":[";"]}],["$","span","code-segement520",{"className":"$undefined","style":{},"children":[" i "]}],["$","span","code-segement521",{"className":"token","style":{"color":"#a04900"},"children":["\u003c"]}],["$","span","code-segement522",{"className":"$undefined","style":{},"children":[" imageUint8Array"]}],["$","span","code-segement523",{"className":"token","style":{"color":"#111b27"},"children":["."]}],["$","span","code-segement524",{"className":"token","style":{"color":"#005a8e"},"children":["length"]}],["$","span","code-segement525",{"className":"token","style":{"color":"#111b27"},"children":[";"]}],["$","span","code-segement526",{"className":"$undefined","style":{},"children":[" i"]}],["$","span","code-segement527",{"className":"token","style":{"color":"#a04900"},"children":["++"]}],["$","span","code-segement528",{"className":"token","style":{"color":"#111b27"},"children":[")"]}],["$","span","code-segement529",{"className":"$undefined","style":{},"children":[" "]}],["$","span","code-segement530",{"className":"token","style":{"color":"#111b27"},"children":["{"]}],["$","span","code-segement531",{"className":"$undefined","style":{},"children":["\\n"]}],["$","span","code-segement532",{"className":"$undefined","style":{},"children":["    tensorValues"]}],["$","span","code-segement533",{"className":"token","style":{"color":"#111b27"},"children":["["]}],["$","span","code-segement534",{"className":"$undefined","style":{},"children":["i"]}],["$","span","code-segement535",{"className":"token","style":{"color":"#111b27"},"children":["]"]}],["$","span","code-segement536",{"className":"$undefined","style":{},"children":[" "]}],["$","span","code-segement537",{"className":"token","style":{"color":"#a04900"},"children":["="]}],["$","span","code-segement538",{"className":"$undefined","style":{},"children":[" imageUint8Array"]}],["$","span","code-segement539",{"className":"token","style":{"color":"#111b27"},"children":["["]}],["$","span","code-segement540",{"className":"$undefined","style":{},"children":["i"]}],["$","span","code-segement541",{"className":"token","style":{"color":"#111b27"},"children":["]"]}],["$","span","code-segement542",{"className":"$undefined","style":{},"children":[" "]}],["$","span","code-segement543",{"className":"token","style":{"color":"#a04900"},"children":["/"]}],["$","span","code-segement544",{"className":"$undefined","style":{},"children":[" "]}],["$","span","code-segement545",{"className":"token","style":{"color":"#755f00"},"children":["255"]}],["$","span","code-segement546",{"className":"token","style":{"color":"#111b27"},"children":[";"]}],["$","span","code-segement547",{"className":"$undefined","style":{},"children":["\\n"]}],["$","span","code-segement548",{"className":"$undefined","style":{},"children":["  "]}],["$","span","code-segement549",{"className":"token","style":{"color":"#111b27"},"children":["}"]}],["$","span","code-segement550",{"className":"$undefined","style":{},"children":["\\n"]}],"\\n",["$","span","code-segement552",{"className":"$undefined","style":{},"children":["  "]}],["$","span","code-segement553",{"className":"token","style":{"color":"#a04900"},"children":["const"]}],["$","span","code-segement554",{"className":"$undefined","style":{},"children":[" imageTensor "]}],["$","span","code-segement555",{"className":"token","style":{"color":"#a04900"},"children":["="]}],["$","span","code-segement556",{"className":"$undefined","style":{},"children":[" "]}],["$","span","code-segement557",{"className":"token","style":{"color":"#a04900"},"children":["new"]}],["$","span","code-segement558",{"className":"$undefined","style":{},"children":[" "]}],["$","span","code-segement559",{"className":"token","style":{"color":"#005a8e"},"children":["ort"]}],["$","span","code-segement560",{"className":"token","style":{"color":"#111b27"},"children":["."]}],["$","span","code-segement561",{"className":"token","style":{"color":"#005a8e"},"children":["Tensor"]}],["$","span","code-segement562",{"className":"token","style":{"color":"#111b27"},"children":["("]}],["$","span","code-segement563",{"className":"token","style":{"color":"#116b00"},"children":["\\"float32\\""]}],["$","span","code-segement564",{"className":"token","style":{"color":"#111b27"},"children":[","]}],["$","span","code-segement565",{"className":"$undefined","style":{},"children":[" tensorValues"]}],["$","span","code-segement566",{"className":"token","style":{"color":"#111b27"},"children":[","]}],["$","span","code-segement567",{"className":"$undefined","style":{},"children":[" inputShape"]}],["$","span","code-segement568",{"className":"token","style":{"color":"#111b27"},"children":[")"]}],["$","span","code-segement569",{"className":"token","style":{"color":"#111b27"},"children":[";"]}],["$","span","code-segement570",{"className":"$undefined","style":{},"children":["\\n"]}],["$","span","code-segement571",{"className":"$undefined","style":{},"children":["  "]}],["$","span","code-segement572",{"className":"token control-flow","style":{"color":"#a04900"},"children":["return"]}],["$","span","code-segement573",{"className":"$undefined","style":{},"children":[" imageTensor"]}],["$","span","code-segement574",{"className":"token","style":{"color":"#111b27"},"children":[";"]}],["$","span","code-segement575",{"className":"$undefined","style":{},"children":["\\n"]}],["$","span","code-segement576",{"className":"$undefined","style":{},"children":[""]}],["$","span","code-segement577",{"className":"token","style":{"color":"#111b27"},"children":["}"]}],["$","span","code-segement578",{"className":"$undefined","style":{},"children":["\\n"]}],"\\n",["$","span","code-segement580",{"className":"$undefined","style":{},"children":[""]}],["$","span","code-segement581",{"className":"token module","style":{"color":"#a04900"},"children":["export"]}],["$","span","code-segement582",{"className":"$undefined","style":{},"children":[" "]}],["$","span","code-segement583",{"className":"token exports","style":{"color":"#111b27"},"children":["{"]}],["$","span","code-segement584",{"className":"token exports","style":{},"children":[" extractGreyscaleImageFromKonvaStage"]}],["$","span","code-segement585",{"className":"token exports","style":{"color":"#111b27"},"children":[","]}],["$","span","code-segement586",{"className":"token exports","style":{},"children":[" imageArrayToTensor "]}],["$","span","code-segement587",{"className":"token exports","style":{"color":"#111b27"},"children":["}"]}],["$","span","code-segement588",{"className":"token","style":{"color":"#111b27"},"children":[";"]}]]]}]}]]}],["$","$Le","48",{"id":"onnx-runtime-inference","variant":"h5","component":"h2","mb":2,"children":["$","strong",null,{"children":"ONNX Runtime Inference"}]}],["$","$Le","49",{"variant":"p","component":"p","sx":{"textAlign":"justify","marginBottom":2},"children":["$undefined","Inside the ",["$","$Lc","49-text-italics",{"component":"span","sx":{"paddingLeft":0.5,"paddingRight":0.5,"borderRadius":1,"backgroundColor":"rgb(227, 234, 242)"},"children":"src/inferencing"}]," folder, create a new file called ",["$","$Lc","49-text-italics",{"component":"span","sx":{"paddingLeft":0.5,"paddingRight":0.5,"borderRadius":1,"backgroundColor":"rgb(227, 234, 242)"},"children":"onnx.js"}],":"]}],["$","$Lc",null,{"sx":{"width":"100%","marginBottom":2},"children":[["$","$L1c",null,{"contentToCopy":"import ort from \\"onnxruntime-web\\";\\n\\nimport { extractGreyscaleImageFromKonvaStage, imageArrayToTensor } from \\"./imageProcessing\\";\\nimport { softmax, indexMax } from \\"../utils/mathUtils\\";\\n\\nconst modelUrl = process.env.PUBLIC_URL + \\"/model.onnx\\";\\nconst ortSession = await ort.InferenceSession.create(modelUrl);\\n\\nasync function runInference(imageDataUri) {\\n  const greyscaleImage = await extractGreyscaleImageFromKonvaStage(imageDataUri, \\"tempCanvas\\");\\n  const imageTensor = imageArrayToTensor(greyscaleImage);\\n\\n  const feeds = {\\n    [ortSession.inputNames[0]]: imageTensor,\\n  };\\n\\n  const outputData = await ortSession.run(feeds);\\n  const output = outputData[ortSession.outputNames[0]];\\n\\n  const outputSoftmax = softmax(Array.prototype.slice.call(output.data));\\n\\n  const outputClass = indexMax(outputSoftmax);\\n  return outputClass;\\n}\\n\\nexport default runInference;"}],["$","pre",null,{"style":{"color":"#111b27","background":"#e3eaf2","fontFamily":"Consolas, Monaco, \\"Andale Mono\\", \\"Ubuntu Mono\\", monospace","textAlign":"left","whiteSpace":"pre","wordSpacing":"normal","wordBreak":"normal","wordWrap":"normal","lineHeight":"1.5","MozTabSize":"4","OTabSize":"4","tabSize":"4","WebkitHyphens":"none","MozHyphens":"none","msHyphens":"none","hyphens":"none","padding":"1em","margin":0,"overflow":"auto"},"children":["$","code",null,{"className":"language-javascript","style":{"color":"#111b27","background":"none","fontFamily":"Consolas, Monaco, \\"Andale Mono\\", \\"Ubuntu Mono\\", monospace","textAlign":"left","whiteSpace":"pre","wordSpacing":"normal","wordBreak":"normal","wordWrap":"normal","lineHeight":"1.5","MozTabSize":"4","OTabSize":"4","tabSize":"4","WebkitHyphens":"none","MozHyphens":"none","msHyphens":"none","hyphens":"none"},"children":[false,[["$","span","code-segement0",{"className":"token module","style":{"color":"#a04900"},"children":["import"]}],["$","span","code-segement1",{"className":"$undefined","style":{},"children":[" "]}],["$","span","code-segement2",{"className":"token imports","style":{},"children":["ort"]}],["$","span","code-segement3",{"className":"$undefined","style":{},"children":[" "]}],["$","span","code-segement4",{"className":"token module","style":{"color":"#a04900"},"children":["from"]}],["$","span","code-segement5",{"className":"$undefined","style":{},"children":[" "]}],["$","span","code-segement6",{"className":"token","style":{"color":"#116b00"},"children":["\\"onnxruntime-web\\""]}],["$","span","code-segement7",{"className":"token","style":{"color":"#111b27"},"children":[";"]}],["$","span","code-segement8",{"className":"$undefined","style":{},"children":["\\n"]}],"\\n",["$","span","code-segement10",{"className":"$undefined","style":{},"children":[""]}],["$","span","code-segement11",{"className":"token module","style":{"color":"#a04900"},"children":["import"]}],["$","span","code-segement12",{"className":"$undefined","style":{},"children":[" "]}],["$","span","code-segement13",{"className":"token imports","style":{"color":"#111b27"},"children":["{"]}],["$","span","code-segement14",{"className":"token imports","style":{},"children":[" extractGreyscaleImageFromKonvaStage"]}],["$","span","code-segement15",{"className":"token imports","style":{"color":"#111b27"},"children":[","]}],["$","span","code-segement16",{"className":"token imports","style":{},"children":[" imageArrayToTensor "]}],["$","span","code-segement17",{"className":"token imports","style":{"color":"#111b27"},"children":["}"]}],["$","span","code-segement18",{"className":"$undefined","style":{},"children":[" "]}],["$","span","code-segement19",{"className":"token module","style":{"color":"#a04900"},"children":["from"]}],["$","span","code-segement20",{"className":"$undefined","style":{},"children":[" "]}],["$","span","code-segement21",{"className":"token","style":{"color":"#116b00"},"children":["\\"./imageProcessing\\""]}],["$","span","code-segement22",{"className":"token","style":{"color":"#111b27"},"children":[";"]}],["$","span","code-segement23",{"className":"$undefined","style":{},"children":["\\n"]}],["$","span","code-segement24",{"className":"$undefined","style":{},"children":[""]}],["$","span","code-segement25",{"className":"token module","style":{"color":"#a04900"},"children":["import"]}],["$","span","code-segement26",{"className":"$undefined","style":{},"children":[" "]}],["$","span","code-segement27",{"className":"token imports","style":{"color":"#111b27"},"children":["{"]}],["$","span","code-segement28",{"className":"token imports","style":{},"children":[" softmax"]}],["$","span","code-segement29",{"className":"token imports","style":{"color":"#111b27"},"children":[","]}],["$","span","code-segement30",{"className":"token imports","style":{},"children":[" indexMax "]}],["$","span","code-segement31",{"className":"token imports","style":{"color":"#111b27"},"children":["}"]}],["$","span","code-segement32",{"className":"$undefined","style":{},"children":[" "]}],["$","span","code-segement33",{"className":"token module","style":{"color":"#a04900"},"children":["from"]}],["$","span","code-segement34",{"className":"$undefined","style":{},"children":[" "]}],["$","span","code-segement35",{"className":"token","style":{"color":"#116b00"},"children":["\\"../utils/mathUtils\\""]}],["$","span","code-segement36",{"className":"token","style":{"color":"#111b27"},"children":[";"]}],["$","span","code-segement37",{"className":"$undefined","style":{},"children":["\\n"]}],"\\n",["$","span","code-segement39",{"className":"$undefined","style":{},"children":[""]}],["$","span","code-segement40",{"className":"token","style":{"color":"#a04900"},"children":["const"]}],["$","span","code-segement41",{"className":"$undefined","style":{},"children":[" modelUrl "]}],["$","span","code-segement42",{"className":"token","style":{"color":"#a04900"},"children":["="]}],["$","span","code-segement43",{"className":"$undefined","style":{},"children":[" process"]}],["$","span","code-segement44",{"className":"token","style":{"color":"#111b27"},"children":["."]}],["$","span","code-segement45",{"className":"token","style":{"color":"#005a8e"},"children":["env"]}],["$","span","code-segement46",{"className":"token","style":{"color":"#111b27"},"children":["."]}],["$","span","code-segement47",{"className":"token","style":{"color":"#755f00"},"children":["PUBLIC_URL"]}],["$","span","code-segement48",{"className":"$undefined","style":{},"children":[" "]}],["$","span","code-segement49",{"className":"token","style":{"color":"#a04900"},"children":["+"]}],["$","span","code-segement50",{"className":"$undefined","style":{},"children":[" "]}],["$","span","code-segement51",{"className":"token","style":{"color":"#116b00"},"children":["\\"/model.onnx\\""]}],["$","span","code-segement52",{"className":"token","style":{"color":"#111b27"},"children":[";"]}],["$","span","code-segement53",{"className":"$undefined","style":{},"children":["\\n"]}],["$","span","code-segement54",{"className":"$undefined","style":{},"children":[""]}],["$","span","code-segement55",{"className":"token","style":{"color":"#a04900"},"children":["const"]}],["$","span","code-segement56",{"className":"$undefined","style":{},"children":[" ortSession "]}],["$","span","code-segement57",{"className":"token","style":{"color":"#a04900"},"children":["="]}],["$","span","code-segement58",{"className":"$undefined","style":{},"children":[" "]}],["$","span","code-segement59",{"className":"token control-flow","style":{"color":"#a04900"},"children":["await"]}],["$","span","code-segement60",{"className":"$undefined","style":{},"children":[" ort"]}],["$","span","code-segement61",{"className":"token","style":{"color":"#111b27"},"children":["."]}],["$","span","code-segement62",{"className":"token maybe-class-name","style":{"color":"#005a8e"},"children":["InferenceSession"]}],["$","span","code-segement63",{"className":"token","style":{"color":"#111b27"},"children":["."]}],["$","span","code-segement64",{"className":"token method","style":{"color":"#005a8e"},"children":["create"]}],["$","span","code-segement65",{"className":"token","style":{"color":"#111b27"},"children":["("]}],["$","span","code-segement66",{"className":"$undefined","style":{},"children":["modelUrl"]}],["$","span","code-segement67",{"className":"token","style":{"color":"#111b27"},"children":[")"]}],["$","span","code-segement68",{"className":"token","style":{"color":"#111b27"},"children":[";"]}],["$","span","code-segement69",{"className":"$undefined","style":{},"children":["\\n"]}],"\\n",["$","span","code-segement71",{"className":"$undefined","style":{},"children":[""]}],["$","span","code-segement72",{"className":"token","style":{"color":"#a04900"},"children":["async"]}],["$","span","code-segement73",{"className":"$undefined","style":{},"children":[" "]}],["$","span","code-segement74",{"className":"token","style":{"color":"#a04900"},"children":["function"]}],["$","span","code-segement75",{"className":"$undefined","style":{},"children":[" "]}],["$","span","code-segement76",{"className":"token","style":{"color":"#7c00aa"},"children":["runInference"]}],["$","span","code-segement77",{"className":"token","style":{"color":"#111b27"},"children":["("]}],["$","span","code-segement78",{"className":"token","style":{"color":"#005a8e"},"children":["imageDataUri"]}],["$","span","code-segement79",{"className":"token","style":{"color":"#111b27"},"children":[")"]}],["$","span","code-segement80",{"className":"$undefined","style":{},"children":[" "]}],["$","span","code-segement81",{"className":"token","style":{"color":"#111b27"},"children":["{"]}],["$","span","code-segement82",{"className":"$undefined","style":{},"children":["\\n"]}],["$","span","code-segement83",{"className":"$undefined","style":{},"children":["  "]}],["$","span","code-segement84",{"className":"token","style":{"color":"#a04900"},"children":["const"]}],["$","span","code-segement85",{"className":"$undefined","style":{},"children":[" greyscaleImage "]}],["$","span","code-segement86",{"className":"token","style":{"color":"#a04900"},"children":["="]}],["$","span","code-segement87",{"className":"$undefined","style":{},"children":[" "]}],["$","span","code-segement88",{"className":"token control-flow","style":{"color":"#a04900"},"children":["await"]}],["$","span","code-segement89",{"className":"$undefined","style":{},"children":[" "]}],["$","span","code-segement90",{"className":"token","style":{"color":"#7c00aa"},"children":["extractGreyscaleImageFromKonvaStage"]}],["$","span","code-segement91",{"className":"token","style":{"color":"#111b27"},"children":["("]}],["$","span","code-segement92",{"className":"$undefined","style":{},"children":["imageDataUri"]}],["$","span","code-segement93",{"className":"token","style":{"color":"#111b27"},"children":[","]}],["$","span","code-segement94",{"className":"$undefined","style":{},"children":[" "]}],["$","span","code-segement95",{"className":"token","style":{"color":"#116b00"},"children":["\\"tempCanvas\\""]}],["$","span","code-segement96",{"className":"token","style":{"color":"#111b27"},"children":[")"]}],["$","span","code-segement97",{"className":"token","style":{"color":"#111b27"},"children":[";"]}],["$","span","code-segement98",{"className":"$undefined","style":{},"children":["\\n"]}],["$","span","code-segement99",{"className":"$undefined","style":{},"children":["  "]}],["$","span","code-segement100",{"className":"token","style":{"color":"#a04900"},"children":["const"]}],["$","span","code-segement101",{"className":"$undefined","style":{},"children":[" imageTensor "]}],["$","span","code-segement102",{"className":"token","style":{"color":"#a04900"},"children":["="]}],["$","span","code-segement103",{"className":"$undefined","style":{},"children":[" "]}],["$","span","code-segement104",{"className":"token","style":{"color":"#7c00aa"},"children":["imageArrayToTensor"]}],["$","span","code-segement105",{"className":"token","style":{"color":"#111b27"},"children":["("]}],["$","span","code-segement106",{"className":"$undefined","style":{},"children":["greyscaleImage"]}],["$","span","code-segement107",{"className":"token","style":{"color":"#111b27"},"children":[")"]}],["$","span","code-segement108",{"className":"token","style":{"color":"#111b27"},"children":[";"]}],["$","span","code-segement109",{"className":"$undefined","style":{},"children":["\\n"]}],"\\n",["$","span","code-segement111",{"className":"$undefined","style":{},"children":["  "]}],["$","span","code-segement112",{"className":"token","style":{"color":"#a04900"},"children":["const"]}],["$","span","code-segement113",{"className":"$undefined","style":{},"children":[" feeds "]}],["$","span","code-segement114",{"className":"token","style":{"color":"#a04900"},"children":["="]}],["$","span","code-segement115",{"className":"$undefined","style":{},"children":[" "]}],["$","span","code-segement116",{"className":"token","style":{"color":"#111b27"},"children":["{"]}],["$","span","code-segement117",{"className":"$undefined","style":{},"children":["\\n"]}],["$","span","code-segement118",{"className":"$undefined","style":{},"children":["    "]}],["$","span","code-segement119",{"className":"token","style":{"color":"#111b27"},"children":["["]}],["$","span","code-segement120",{"className":"$undefined","style":{},"children":["ortSession"]}],["$","span","code-segement121",{"className":"token","style":{"color":"#111b27"},"children":["."]}],["$","span","code-segement122",{"className":"token","style":{"color":"#005a8e"},"children":["inputNames"]}],["$","span","code-segement123",{"className":"token","style":{"color":"#111b27"},"children":["["]}],["$","span","code-segement124",{"className":"token","style":{"color":"#755f00"},"children":["0"]}],["$","span","code-segement125",{"className":"token","style":{"color":"#111b27"},"children":["]"]}],["$","span","code-segement126",{"className":"token","style":{"color":"#111b27"},"children":["]"]}],["$","span","code-segement127",{"className":"token","style":{"color":"#a04900"},"children":[":"]}],["$","span","code-segement128",{"className":"$undefined","style":{},"children":[" imageTensor"]}],["$","span","code-segement129",{"className":"token","style":{"color":"#111b27"},"children":[","]}],["$","span","code-segement130",{"className":"$undefined","style":{},"children":["\\n"]}],["$","span","code-segement131",{"className":"$undefined","style":{},"children":["  "]}],["$","span","code-segement132",{"className":"token","style":{"color":"#111b27"},"children":["}"]}],["$","span","code-segement133",{"className":"token","style":{"color":"#111b27"},"children":[";"]}],["$","span","code-segement134",{"className":"$undefined","style":{},"children":["\\n"]}],"\\n",["$","span","code-segement136",{"className":"$undefined","style":{},"children":["  "]}],["$","span","code-segement137",{"className":"token","style":{"color":"#a04900"},"children":["const"]}],["$","span","code-segement138",{"className":"$undefined","style":{},"children":[" outputData "]}],["$","span","code-segement139",{"className":"token","style":{"color":"#a04900"},"children":["="]}],["$","span","code-segement140",{"className":"$undefined","style":{},"children":[" "]}],["$","span","code-segement141",{"className":"token control-flow","style":{"color":"#a04900"},"children":["await"]}],["$","span","code-segement142",{"className":"$undefined","style":{},"children":[" ortSession"]}],["$","span","code-segement143",{"className":"token","style":{"color":"#111b27"},"children":["."]}],["$","span","code-segement144",{"className":"token method","style":{"color":"#005a8e"},"children":["run"]}],["$","span","code-segement145",{"className":"token","style":{"color":"#111b27"},"children":["("]}],["$","span","code-segement146",{"className":"$undefined","style":{},"children":["feeds"]}],["$","span","code-segement147",{"className":"token","style":{"color":"#111b27"},"children":[")"]}],["$","span","code-segement148",{"className":"token","style":{"color":"#111b27"},"children":[";"]}],["$","span","code-segement149",{"className":"$undefined","style":{},"children":["\\n"]}],["$","span","code-segement150",{"className":"$undefined","style":{},"children":["  "]}],["$","span","code-segement151",{"className":"token","style":{"color":"#a04900"},"children":["const"]}],["$","span","code-segement152",{"className":"$undefined","style":{},"children":[" output "]}],["$","span","code-segement153",{"className":"token","style":{"color":"#a04900"},"children":["="]}],["$","span","code-segement154",{"className":"$undefined","style":{},"children":[" outputData"]}],["$","span","code-segement155",{"className":"token","style":{"color":"#111b27"},"children":["["]}],["$","span","code-segement156",{"className":"$undefined","style":{},"children":["ortSession"]}],["$","span","code-segement157",{"className":"token","style":{"color":"#111b27"},"children":["."]}],["$","span","code-segement158",{"className":"token","style":{"color":"#005a8e"},"children":["outputNames"]}],["$","span","code-segement159",{"className":"token","style":{"color":"#111b27"},"children":["["]}],["$","span","code-segement160",{"className":"token","style":{"color":"#755f00"},"children":["0"]}],["$","span","code-segement161",{"className":"token","style":{"color":"#111b27"},"children":["]"]}],["$","span","code-segement162",{"className":"token","style":{"color":"#111b27"},"children":["]"]}],["$","span","code-segement163",{"className":"token","style":{"color":"#111b27"},"children":[";"]}],["$","span","code-segement164",{"className":"$undefined","style":{},"children":["\\n"]}],"\\n",["$","span","code-segement166",{"className":"$undefined","style":{},"children":["  "]}],["$","span","code-segement167",{"className":"token","style":{"color":"#a04900"},"children":["const"]}],["$","span","code-segement168",{"className":"$undefined","style":{},"children":[" outputSoftmax "]}],["$","span","code-segement169",{"className":"token","style":{"color":"#a04900"},"children":["="]}],["$","span","code-segement170",{"className":"$undefined","style":{},"children":[" "]}],["$","span","code-segement171",{"className":"token","style":{"color":"#7c00aa"},"children":["softmax"]}],["$","span","code-segement172",{"className":"token","style":{"color":"#111b27"},"children":["("]}],["$","span","code-segement173",{"className":"token","style":{"color":"#005a8e"},"children":["Array"]}],["$","span","code-segement174",{"className":"token","style":{"color":"#111b27"},"children":["."]}],["$","span","code-segement175",{"className":"token","style":{"color":"#005a8e"},"children":["prototype"]}],["$","span","code-segement176",{"className":"token","style":{"color":"#111b27"},"children":["."]}],["$","span","code-segement177",{"className":"token method","style":{"color":"#005a8e"},"children":["slice"]}],["$","span","code-segement178",{"className":"token","style":{"color":"#111b27"},"children":["."]}],["$","span","code-segement179",{"className":"token method","style":{"color":"#005a8e"},"children":["call"]}],["$","span","code-segement180",{"className":"token","style":{"color":"#111b27"},"children":["("]}],["$","span","code-segement181",{"className":"$undefined","style":{},"children":["output"]}],["$","span","code-segement182",{"className":"token","style":{"color":"#111b27"},"children":["."]}],["$","span","code-segement183",{"className":"token","style":{"color":"#005a8e"},"children":["data"]}],["$","span","code-segement184",{"className":"token","style":{"color":"#111b27"},"children":[")"]}],["$","span","code-segement185",{"className":"token","style":{"color":"#111b27"},"children":[")"]}],["$","span","code-segement186",{"className":"token","style":{"color":"#111b27"},"children":[";"]}],["$","span","code-segement187",{"className":"$undefined","style":{},"children":["\\n"]}],"\\n",["$","span","code-segement189",{"className":"$undefined","style":{},"children":["  "]}],["$","span","code-segement190",{"className":"token","style":{"color":"#a04900"},"children":["const"]}],["$","span","code-segement191",{"className":"$undefined","style":{},"children":[" outputClass "]}],["$","span","code-segement192",{"className":"token","style":{"color":"#a04900"},"children":["="]}],["$","span","code-segement193",{"className":"$undefined","style":{},"children":[" "]}],["$","span","code-segement194",{"className":"token","style":{"color":"#7c00aa"},"children":["indexMax"]}],["$","span","code-segement195",{"className":"token","style":{"color":"#111b27"},"children":["("]}],["$","span","code-segement196",{"className":"$undefined","style":{},"children":["outputSoftmax"]}],["$","span","code-segement197",{"className":"token","style":{"color":"#111b27"},"children":[")"]}],["$","span","code-segement198",{"className":"token","style":{"color":"#111b27"},"children":[";"]}],["$","span","code-segement199",{"className":"$undefined","style":{},"children":["\\n"]}],["$","span","code-segement200",{"className":"$undefined","style":{},"children":["  "]}],["$","span","code-segement201",{"className":"token control-flow","style":{"color":"#a04900"},"children":["return"]}],["$","span","code-segement202",{"className":"$undefined","style":{},"children":[" outputClass"]}],["$","span","code-segement203",{"className":"token","style":{"color":"#111b27"},"children":[";"]}],["$","span","code-segement204",{"className":"$undefined","style":{},"children":["\\n"]}],["$","span","code-segement205",{"className":"$undefined","style":{},"children":[""]}],["$","span","code-segement206",{"className":"token","style":{"color":"#111b27"},"children":["}"]}],["$","span","code-segement207",{"className":"$undefined","style":{},"children":["\\n"]}],"\\n",["$","span","code-segement209",{"className":"$undefined","style":{},"children":[""]}],["$","span","code-segement210",{"className":"token module","style":{"color":"#a04900"},"children":["export"]}],["$","span","code-segement211",{"className":"$undefined","style":{},"children":[" "]}],["$","span","code-segement212",{"className":"token module","style":{"color":"#a04900"},"children":["default"]}],["$","span","code-segement213",{"className":"$undefined","style":{},"children":[" runInference"]}],["$","span","code-segement214",{"className":"token","style":{"color":"#111b27"},"children":[";"]}]]]}]}]]}],["$","$Le","51",{"variant":"p","component":"p","sx":{"textAlign":"justify","marginBottom":2},"children":["$undefined","In the ",["$","$Lc","51-text-italics",{"component":"span","sx":{"paddingLeft":0.5,"paddingRight":0.5,"borderRadius":1,"backgroundColor":"rgb(227, 234, 242)"},"children":"runInference"}]," function, we extract the image from the data URI and convert it into a Tensor. We construct ",["$","$Lc","51-text-italics",{"component":"span","sx":{"paddingLeft":0.5,"paddingRight":0.5,"borderRadius":1,"backgroundColor":"rgb(227, 234, 242)"},"children":"feeds"}]," where this tensor serves as the first model input (we only have one input) and then run the ORT session. With the received output, we put it through our softmax and finally use ",["$","$Lc","51-text-italics",{"component":"span","sx":{"paddingLeft":0.5,"paddingRight":0.5,"borderRadius":1,"backgroundColor":"rgb(227, 234, 242)"},"children":"indexMax"}]," to get the class. Here, the index itself is the class since the classes range from 0 to 9."]}],["$","$Le","52",{"variant":"p","component":"p","sx":{"textAlign":"justify","marginBottom":2},"children":["$undefined","With this function done, let\'s head back to ",["$","$Lc","52-text-italics",{"component":"span","sx":{"paddingLeft":0.5,"paddingRight":0.5,"borderRadius":1,"backgroundColor":"rgb(227, 234, 242)"},"children":"localhost:3000"}]," (you might need to refresh). Now, we can try drawing an image and hit the ",["$","$Lc","52-text-italics",{"component":"span","sx":{"paddingLeft":0.5,"paddingRight":0.5,"borderRadius":1,"backgroundColor":"rgb(227, 234, 242)"},"children":"Predict"}]," button. You\'ll see a black-on-white image appear below the button and a prediction too."]}],["$","$Lc","53",{"sx":{"width":"100%","display":"flex","flexDirection":"column","justifyContent":"center","alignItems":"center","marginBottom":2},"children":["$","img",null,{"src":"/media/images/react-digit-recog-app-final.jpg","style":{"width":"100%","maxWidth":"75vw","height":"auto","maxHeight":"35vh","objectFit":"cover"}}]}],["$","$Le","54",{"id":"conclusion","variant":"h4","component":"h1","mb":2,"children":["$","strong",null,{"children":"Conclusion"}]}],["$","$Le","55",{"variant":"p","component":"p","sx":{"textAlign":"justify","marginBottom":2},"children":["$undefined","Congratulations. Today, we\'ve learned the way to run ML inference on the client side right in our web browser. Running inference this way is immensely beneficial because we can serve a static application and not have to set up, maintain, and pay for backend servers."]}],["$","$Le","56",{"variant":"p","component":"p","sx":{"textAlign":"justify","marginBottom":2},"children":["$undefined","However, there can be some downsides. If you would like to find out more about the pros and cons of having your model on the Frontend vs the Backend, you would like to check out ",["$","$L1b","56-link",{"href":"/ml-ops/ml-inference-on-backend-vs-frontend","color":"primary","underline":"hover","children":"this Post"}],". We also go over some cases in which deploying either on the Frontend or the Backend is clearly superior."]}],["$","$Le","57",{"variant":"p","component":"p","sx":{"textAlign":"justify","marginBottom":2},"children":["$undefined","See you next time :)"]}]]}]}]]}]}],"$L20"]}]\n',
      ]);
    </script>
    <script>
      self.__next_f.push([
        1,
        '21:I[3713,["98","static/chunks/98-98337b3bb708bd24.js","134","static/chunks/134-4d46f2c5e7204b76.js","830","static/chunks/830-8a0df588e7c84864.js","748","static/chunks/748-1f14ee6eb3d7029a.js","411","static/chunks/411-3d27264901e39398.js","533","static/chunks/app/%5BcategorySlug%5D/%5BpostOrSeriesSlug%5D/page-1b889bd6bb1438d9.js"],"default"]\n16:["$","$Lc",null,{"sx":{"width":"100%","display":"flex","flexDirection":"row","justifyContent":"space-between","alignItems":"center"},"children":[["$","$Le",null,{"variant":"p","component":"p","mr":2,"children":"By: Abhilaksh Singh Reen"}],["$","$L21",null,{"socialMediaProfiles":[{"network_name":"LinkedIn","profile_url":"https://www.linkedin.com/in/abhilaksh-singh-837901210/","profile_display_name":"Abhilaksh Singh Reen"},{"network_name":"Twitter","profile_url":"https://x.com/TheVeteran06","profile_display_name":"The Veteran 06"},{"network_name":"GitHub","profile_url":"https://github.com/AbhilakshSinghReen","profile_display_name":"Abhilaksh Singh Reen"}]}]]}]\n',
      ]);
    </script>
    <script>
      self.__next_f.push([
        1,
        '22:I[6652,["98","static/chunks/98-98337b3bb708bd24.js","134","static/chunks/134-4d46f2c5e7204b76.js","830","static/chunks/830-8a0df588e7c84864.js","748","static/chunks/748-1f14ee6eb3d7029a.js","411","static/chunks/411-3d27264901e39398.js","533","static/chunks/app/%5BcategorySlug%5D/%5BpostOrSeriesSlug%5D/page-1b889bd6bb1438d9.js"],""]\n23:I[6981,["98","static/chunks/98-98337b3bb708bd24.js","134","static/chunks/134-4d46f2c5e7204b76.js","830","static/chunks/830-8a0df588e7c84864.js","748","static/chunks/748-1f14ee6eb3d7029a.js","411","static/chunks/411-3d27264901e39398.js","533","static/chunks/app/%5BcategorySlug%5D/%5BpostOrSeriesSlug%5D/page-1b889bd6bb1438d9.js"],""]\n24:I[2818,["98","static/chunks/98-98337b3bb708bd24.js","134","static/chunks/134-4d46f2c5e7204b76.js","830","static/chunks/830-8a0df588e7c84864.js","748","static/chunks/748-1f14ee6eb3d7029a.js","411","static/chunks/411-3d27264901e39398.js","533","static/chunks/app/%5BcategorySlug%5D/%5BpostOrSeriesSlug%5D/page-1b889bd6bb1438d9.js"],""]\n20:["$","$Lc",null,{"mt":5,"mb":5,"pb":2,"sx":{"width":"100%","display":"flex","flexDirection":"column","justifyContent":"flex-start","alignItems":"center"},"children":["$","$L15",null,{"container":true,"spacing":2,"mt":4,"mb":4,"children":[["$","$L15","/ml-ops/ml-inference-on-backend-vs-frontend",{"item":true,"xs":12,"sm":6,"md":4,"lg":3,"children":["$","$Lf",null,{"href":"/ml-ops/ml-inference-on-backend-vs-frontend","passHref":true,"style":{"textDecoration":"none"},"children":["$","$L22",null,{"sx":{"width":"100%","height":"100%","boxShadow":"1px 1px 1px 1px \\"#eeeeee\\"","\u0026:hover":{"boxShadow":"3px 3px 3px 3px \\"#eeeeee\\"","cursor":"pointer"}},"children":[["$","$L23",null,{"component":"img","height":"150","image":"/media/images/ml-inference-on-backend-vs-frontend-thumbnail.jpg","alt":"ML Inference on Backend vs Frontend","sx":{"objectFit":"cover"}}],["$","$L24",null,{"children":[["$","$Le",null,{"gutterBottom":true,"variant":"h6","component":"h2","children":[""," ","ML Inference on Backend vs Frontend"]}],["$","$Le",nul',
      ]);
    </script>
    <script>
      self.__next_f.push([
        1,
        'l,{"gutterBottom":true,"variant":"p","component":"p","sx":{"overflow":"hidden","textOverflow":"ellipsis","display":"-webkit-box","WebkitLineClamp":"3","WebkitBoxOrient":"vertical"},"children":"A comparison of ML inference speed and memory consumption across various batch sizes on both GPU and CPU."}],["$","$Lc",null,{"sx":{"width":"100%","display":"flex","flexDirection":"row","justifyContent":"flex-end","alignItems":"center"},"children":["$","$Le",null,{"gutterBottom":true,"variant":"p","component":"p","children":"05m Read"}]}],false]}]]}]}]}]]}]}]\n',
      ]);
    </script>
  </body>
</html>
